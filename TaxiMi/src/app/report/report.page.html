<ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
      
  
      <ion-title>
          <ion-label>{{'Report' | translate}}</ion-label>
      </ion-title>
  
      <ion-buttons slot="end">
        <ion-icon (click)='openLanguagePopover($event)' id="toolbarIcon" name="language-outline"></ion-icon>
      </ion-buttons>
    </ion-toolbar>
    
  </ion-header>
<ion-content padding class="background">
    <div class="row">
      <div class="col">
        <div class="row mt-2">
        </div>
  
        <div class="row">
          <div class="col text-center">
            <ion-text class="centered" color="dark">
              <h2 class="text">{{'Report a problem' | translate}}</h2>
              <hr>
            </ion-text>
  
            <form [formGroup]="form" novalidate class="col-md-6">
  
              <div class="form-group col mt-5 text-center">
                <select (change)="reportType($event.target.value)" formControlName="typeId" class="form-control text" id="exampleFormControlSelect1"
                  [ngClass]="{ 'is-invalid': submitted && f.typeId.errors }">
                  <option value="" disabled selected hidden>{{'Choose report type' | translate}}</option>
                  <option value="1">{{'Complaint' | translate}}</option>
                  <option value="2">{{'Technical' | translate}}</option>
                  <option value="3">{{'Other' | translate}}</option>
                </select>
  
                <div *ngIf="submitted && f.typeId.errors" class="invalid-feedback text">
                  <div *ngIf="f.typeId.errors.required">{{'The field is required' | translate}}!</div>
                </div>
              </div>
  
              <div *ngIf="selectedReportType == 1 " class="form-group col mt-5 text-center text">
                <ion-text class="centered" color="dark">
                  <h4 class="text">{{'Last user' | translate}}</h4>
                </ion-text>
                <ion-input class="form-control" value="{{userFirstName}} {{userLastName}}"> 
                </ion-input>
              </div>
  
  
              <div class="form-group col mt-5">
                <ion-input formControlName="title" type="text" class="form-control text"
                 [placeholder]='"Title" | translate' [ngClass]="{ 'is-invalid': submitted && f.title.errors }">
                </ion-input>
                <div *ngIf="submitted && f.title.errors" class="invalid-feedback">
                  <div *ngIf="f.title.errors.required">{{'The field is required' | translate}}!</div>
                </div>
              </div>
  
              <div class="form-group col mt-5">
                <textarea formControlName="description" type="text" class="form-control text"
                  [placeholder]='"Description" | translate' [ngClass]="{ 'is-invalid': submitted && f.description.errors }">
                </textarea>
                <div *ngIf="submitted && f.description.errors" class="invalid-feedback">
                  <div *ngIf="f.description.errors.required">{{'The field is required' | translate}}!</div>
                </div>
              </div>
  
              <div class="col-md-12 mt-3">
                <button (click)="onSubmit()" class="btn btn-info" type="button" color="dark">{{'Submit' | translate}}</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  
  
  </ion-content>