{"version":3,"sources":["./src/_services/chat/chat.service.ts","./node_modules/@ionic-native/call-number/__ivy_ngcc__/ngx/index.js","./src/_services/trip/trip.service.ts"],"names":[],"mappings":"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","file":"default~driving-mode-driving-mode-module~travel-mode-travel-mode-module-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport * as signalR from '@aspnet/signalr';        // import signalR\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Message } from '../../_models'\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { AccountService } from '../account.service';\r\nimport { OrderService } from '../order/order.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ChatService {\r\n  public messages = [];\r\n  private connection: any = new signalR.HubConnectionBuilder()\r\n    .withUrl(`${environment.signalRUrl}/orderHub`)\r\n    .build();\r\n\r\n  readonly POST_URL = `${environment.signalRUrl}/api/chat/send`;\r\n\r\n  private receivedMessageObject: Message = new Message();\r\n  private sharedObj = new Subject<Message>();\r\n\r\n  constructor(private http: HttpClient,\r\n    private accountService: AccountService,\r\n    private orderService: OrderService) {\r\n\r\n    // this.connection.onclose(async () => {\r\n    //   await this.start();\r\n    // });\r\n\r\n    this.connection.on(\"MessageReceived\", (user, message) => {\r\n      this.mapReceivedMessage(user, message);\r\n    });\r\n  }\r\n\r\n  public async stop() {\r\n    await this.connection.stop();\r\n    console.log('Disconnected')\r\n  }\r\n\r\n  // Start the connection\r\n  public async start() {\r\n    try {\r\n      await this.connection.start();\r\n\r\n      await this.orderService.getOrderForChat(this.accountService.userValue.id)\r\n        .subscribe(x => {\r\n          if (this.orderService.currentOrderId) {\r\n            this.connection.invoke(\"AddToRoom\", this.orderService.currentOrderId);\r\n          } else {\r\n            if (x == null) {\r\n            } else {\r\n              this.connection.invoke(\"AddToRoom\", x.id);\r\n            }\r\n          }\r\n        });\r\n\r\n      console.log(\"connected in chat\");\r\n    } catch (err) {\r\n      console.log(err);\r\n      console.log(\"Reoonnecting in 1 sec.\");\r\n      setTimeout(() => this.start(), 1000);\r\n    }\r\n  }\r\n\r\n  private mapReceivedMessage(user: string, message: string): void {\r\n    this.receivedMessageObject.user = user;\r\n    this.receivedMessageObject.text = message;\r\n    this.messages.push(this.receivedMessageObject);\r\n    this.sharedObj.next(this.receivedMessageObject);\r\n  }\r\n\r\n  public broadcastMessage(msgDto: any) {\r\n    this.orderService.getOrderForChat(this.accountService.userValue.id)\r\n      .subscribe(x => {\r\n        if (x.id) {\r\n          this.http.post(`${this.POST_URL}/${x.id}`, msgDto).subscribe(() => { });\r\n        }\r\n      });\r\n  }\r\n\r\n  public retrieveMappedObject(): Observable<Message> {\r\n    return this.sharedObj.asObservable();\r\n  }\r\n\r\n}\r\n","import { __extends } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { IonicNativePlugin, cordova } from '@ionic-native/core';\nimport * as ɵngcc0 from '@angular/core';\nvar CallNumber = /** @class */ (function (_super) {\n    __extends(CallNumber, _super);\n    function CallNumber() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CallNumber.prototype.callNumber = function (numberToCall, bypassAppChooser) { return cordova(this, \"callNumber\", { \"callbackOrder\": \"reverse\" }, arguments); };\n    CallNumber.prototype.isCallSupported = function () { return cordova(this, \"isCallSupported\", {}, arguments); };\n    CallNumber.pluginName = \"CallNumber\";\n    CallNumber.plugin = \"call-number\";\n    CallNumber.pluginRef = \"plugins.CallNumber\";\n    CallNumber.repo = \"https://github.com/Rohfosho/CordovaCallNumberPlugin\";\n    CallNumber.platforms = [\"Android\", \"iOS\"];\nCallNumber.ɵfac = function CallNumber_Factory(t) { return ɵCallNumber_BaseFactory(t || CallNumber); };\nCallNumber.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: CallNumber, factory: function (t) { return CallNumber.ɵfac(t); } });\nvar ɵCallNumber_BaseFactory = /*@__PURE__*/ ɵngcc0.ɵɵgetInheritedFactory(CallNumber);\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(CallNumber, [{\n        type: Injectable\n    }], null, null); })();\n    return CallNumber;\n}(IonicNativePlugin));\nexport { CallNumber };\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9AaW9uaWMtbmF0aXZlL3BsdWdpbnMvY2FsbC1udW1iZXIvbmd4L2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sOEJBQXNDLE1BQU0sb0JBQW9CLENBQUM7O0FBQ3hFO0FBSVUsSUEwQnNCLDhCQUFpQjtBQUFDO0FBRTlCO0FBQytDO0FBQ2pFLElBTUEsK0JBQVUsYUFBQyxZQUFvQixFQUFFLGdCQUF5QjtBQU12RCxJQUdILG9DQUFlO0FBSXNCO0FBQTBDO0FBQXVDO0FBQWlEO0FBQTZFOzhDQXhCclAsVUFBVTs7Ozs7MEJBQ0w7QUFBQyxxQkFoQ1A7QUFBRSxFQWdDOEIsaUJBQWlCO0FBQ2hELFNBRFksVUFBVTtBQUFJIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29yZG92YSwgSW9uaWNOYXRpdmVQbHVnaW4sIFBsdWdpbiB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvY29yZSc7XG5cbi8qKlxuICogQG5hbWUgQ2FsbCBOdW1iZXJcbiAqIEBkZXNjcmlwdGlvblxuICogQ2FsbCBhIG51bWJlciBkaXJlY3RseSBmcm9tIHlvdXIgQ29yZG92YS9Jb25pYyBhcHBsaWNhdGlvbi5cbiAqICoqTk9URSoqOiBUaGUgaU9TIFNpbXVsYXRvciAoYW5kIG1heWJlIEFuZHJvaWQgU2ltdWxhdG9ycykgZG8gbm90IHByb3ZpZGUgYWNjZXNzIHRvIHRoZSBwaG9uZSBzdWJzeXN0ZW0uXG4gKlxuICogQHVzYWdlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBDYWxsTnVtYmVyIH0gZnJvbSAnQGlvbmljLW5hdGl2ZS9jYWxsLW51bWJlci9uZ3gnO1xuICpcbiAqIGNvbnN0cnVjdG9yKHByaXZhdGUgY2FsbE51bWJlcjogQ2FsbE51bWJlcikgeyB9XG4gKlxuICogLi4uXG4gKlxuICpcbiAqIHRoaXMuY2FsbE51bWJlci5jYWxsTnVtYmVyKFwiMTgwMDEwMTAxMDFcIiwgdHJ1ZSlcbiAqICAgLnRoZW4ocmVzID0+IGNvbnNvbGUubG9nKCdMYXVuY2hlZCBkaWFsZXIhJywgcmVzKSlcbiAqICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZygnRXJyb3IgbGF1bmNoaW5nIGRpYWxlcicsIGVycikpO1xuICpcbiAqIGBgYFxuICovXG5AUGx1Z2luKHtcbiAgcGx1Z2luTmFtZTogJ0NhbGxOdW1iZXInLFxuICBwbHVnaW46ICdjYWxsLW51bWJlcicsXG4gIHBsdWdpblJlZjogJ3BsdWdpbnMuQ2FsbE51bWJlcicsXG4gIHJlcG86ICdodHRwczovL2dpdGh1Yi5jb20vUm9oZm9zaG8vQ29yZG92YUNhbGxOdW1iZXJQbHVnaW4nLFxuICBwbGF0Zm9ybXM6IFsnQW5kcm9pZCcsICdpT1MnXSxcbn0pXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQ2FsbE51bWJlciBleHRlbmRzIElvbmljTmF0aXZlUGx1Z2luIHtcbiAgLyoqXG4gICAqIENhbGxzIGEgcGhvbmUgbnVtYmVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBudW1iZXJUb0NhbGwgVGhlIHBob25lIG51bWJlciB0byBjYWxsIGFzIGEgc3RyaW5nXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gYnlwYXNzQXBwQ2hvb3NlciBTZXQgdG8gdHJ1ZSB0byBieXBhc3MgdGhlIGFwcCBjaG9vc2VyIGFuZCBnbyBkaXJlY3RseSB0byBkaWFsZXJcbiAgICogQHJldHVybiB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIGNhbGxiYWNrT3JkZXI6ICdyZXZlcnNlJyxcbiAgfSlcbiAgY2FsbE51bWJlcihudW1iZXJUb0NhbGw6IHN0cmluZywgYnlwYXNzQXBwQ2hvb3NlcjogYm9vbGVhbik6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGNhbGwgZmVhdHVyZSBpcyBhdmFpbGFibGVcbiAgICogQHJldHVybiB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBpc0NhbGxTdXBwb3J0ZWQoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cbn1cbiJdfQ==","import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError, tap } from 'rxjs/operators';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Trip } from 'src/_models';\r\nimport { AccountService } from '../account.service';\r\nimport { SharedService } from '../shared/shared.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TripService {\r\n  public trip: Trip;\r\n  public trips = [];\r\n  public currentTripOrderId: string;\r\n  public currentTripDriverId = this.accountService.userValue.id;\r\n  public currentOrder = \"\";\r\n  \r\n  constructor(private http: HttpClient, private accountService: AccountService, private sharedService: SharedService) { }\r\n\r\n  public createTrip(data) {\r\n    const headers = this.sharedService.headerGerneration();\r\n    this.currentTripOrderId = data.orderId;\r\n    this.currentOrder = data.order;\r\n\r\n    return this.http.post(`${environment.apiUrl}/api/trip`, data,  { headers, responseType: 'text' })\r\n      .pipe(\r\n        tap(data => console.log('created trip: ', JSON.stringify(data))),\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  getTrip(applicationUserId: string): Observable<Trip> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Trip>(`${environment.apiUrl}/api/trip/${applicationUserId}`, {headers})\r\n      .pipe(\r\n        tap(data => this.trip = data),\r\n        catchError(this.handleError)\r\n      )\r\n  }\r\n\r\n  startTrip(tripId: string): Observable<Trip> {\r\n    return this.http.put<Trip>(`${environment.apiUrl}/api/trip/start/${tripId}`, {  responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n\r\n  }\r\n\r\n  navigateToUser(tripId: string, orderId: string): Observable<Trip> {\r\n    return this.http.put<Trip>(`${environment.apiUrl}/api/trip/navigate/${tripId}/${orderId}`, {  responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n\r\n  }\r\n\r\n  cancelTrip(tripId: string): Observable<Trip> {\r\n    return this.http.put<Trip>(`${environment.apiUrl}/api/trip/cancel/${tripId}`, { responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n\r\n  completeTrip(tripId: string): Observable<Trip> {\r\n    return this.http.put<Trip>(`${environment.apiUrl}/api/trip/finish/${tripId}`, { responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n\r\n  }\r\n\r\n\r\n  handleError(error) {\r\n    let errorMessage = '';\r\n    if (error.error instanceof ErrorEvent) {\r\n      // client-side error\r\n      console.log('Client side error.')\r\n      errorMessage = `Error: ${error.error.message}`;\r\n    } else {\r\n      // server-side error\r\n      console.log('Server side error.')\r\n      errorMessage = `Error Code: ${error.status}\\nMessage: ${error.message}`;\r\n    }\r\n    console.log(errorMessage);\r\n    return throwError(errorMessage);\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}