{"version":3,"sources":["webpack:///src/app/travelling/travelling.page.ts","webpack:///src/app/travelling/travelling-routing.module.ts","webpack:///src/_services/order/order.service.ts","webpack:///src/app/travelling/travelling.module.ts","webpack:///src/app/travelling/travelling.page.scss","webpack:///src/app/travelling/travelling.page.html"],"names":["TravellingPage","formBuilder","route","orderService","accountService","translate","popoverController","alertController","localNotifications","plt","user","userValue","choosedLocDest","carModel","carColor","firstName","lastName","carValue","isSubmitted","isCompleted","subscriptions","pushes","setDefaultLang","choosenLanguage","dateAndTimePicker","events","pipe","evt","subscribe","console","log","urlAfterRedirects","backFromTravel","loading","form","group","applicationUserId","location","chosenLocation","locationLat","userLocationLat","locationLong","userLocationLong","destination","chosenDestination","destinationLat","userDestinationLat","destinationLong","userDestinationLong","totalPrice","orderTotalPrice","tripDistance","userDistance","increasePrice","status","eta","withPets","withStroller","special","carType","description","pickUpTime","connection","configureLogging","Information","withUrl","signalRUrl","build","start","then","err","on","checkorder","orderId","push","getOrderById","data","Math","round","order","x","id","increasedByDriver","driverPrice","driverIncreased","increasedOrder","getMyOrder","presentOrderAcceptedNotification","driverId","get","text","schedule","title","secret","value","selectedFavourite","setValue","controls","navigate","undefined","locationError","destinationError","valid","directionsService","google","maps","DirectionsService","origin","lat","lng","travelMode","TravelMode","DRIVING","response","estimatedDuration","routes","legs","duration","orderTotalDestination","distance","createOrder","toString","orderStatus","customPickerOptions","buttons","handler","date","Date","mydt","getHours","getMinutes","res","hour","minute","$event","amount","increaseOrderPrice","incrementOrderPrice","decrementOrderPrice","currentOrderId","toFixed","error","deleteOrder","clearForm","ev","create","component","event","popover","present","header","role","popup","textf","first","instant","second","increasedOrderAccept","resetIncreasing","reset","selector","template","path","TravellingPageRoutingModule","imports","forChild","exports","OrderService","http","sharedService","orders","completedOrder","headers","headerGerneration","post","apiUrl","responseType","handleError","userId","JSON","stringify","locationLng","destinationLng","put","errorMessage","ErrorEvent","message","providedIn","HttpLoaderFactory","TravellingPageModule","loader","provide","useFactory","deps","providers","declarations"],"mappings":"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","file":"travelling-travelling-module-es5.js","sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { Router, RoutesRecognized } from '@angular/router';\r\nimport * as signalR from '@aspnet/signalr';\r\nimport { AlertController, IonDatetime, Platform, PopoverController } from '@ionic/angular';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Order, Trip } from 'src/_models';\r\nimport { AccountService } from 'src/_services';\r\nimport { OrderService } from 'src/_services/order/order.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { LanguagePopoverPage } from '../language-popover/language-popover.page';\r\nimport { Subscription } from 'rxjs';\r\nimport { LocalNotifications } from '@ionic-native/local-notifications/ngx';\r\nimport { filter, pairwise } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-travelling',\r\n  templateUrl: './travelling.page.html',\r\n  styleUrls: ['./travelling.page.scss'],\r\n})\r\nexport class TravellingPage implements OnInit {\r\n  customPickerOptions: any;\r\n\r\n  @ViewChild('mydt') mydt: IonDatetime;\r\n  public currentTrip: Trip;\r\n  private user = this.accountService.userValue;\r\n  public loading: boolean;\r\n  public progress: number;\r\n  isLoggedIn;\r\n  order: Order;\r\n  form: FormGroup;\r\n  orderStatus: string;\r\n  orderTotalPrice: any;\r\n  orderTotalDestination: any;\r\n  estimatedDuration: any;\r\n  choosedLocDest = false;\r\n\r\n  //Car html properties;\r\n  carModel = \"\";\r\n  carColor = \"\";\r\n\r\n  driverIncreased: number;\r\n  driverPrice: number;\r\n  increasedBy: string;\r\n  //User html properties\r\n  firstName = \"\";\r\n  lastName = \"\";\r\n  carValue = 'normal';\r\n  location: string;\r\n  destination: string;\r\n\r\n  isSubmitted = false;\r\n  isCompleted = false;\r\n\r\n  private subscriptions: Subscription[] = [];\r\n  pushes: any = [];\r\n  constructor(private formBuilder: FormBuilder,\r\n    private route: Router,\r\n    public orderService: OrderService,\r\n    private accountService: AccountService,\r\n    private translate: TranslateService,\r\n    private popoverController: PopoverController,\r\n    private alertController: AlertController,\r\n    private localNotifications: LocalNotifications,\r\n    public plt: Platform) {\r\n    this.translate.setDefaultLang(this.accountService.userValue.choosenLanguage);\r\n    this.dateAndTimePicker();\r\n\r\n    this.route.events\r\n      .pipe(filter((evt: any) => evt instanceof RoutesRecognized), pairwise())\r\n      .subscribe((events: RoutesRecognized[]) => {\r\n        console.log('previous url', events[0].urlAfterRedirects);\r\n        if (events[0].urlAfterRedirects == '/menu/travel-mode' || events[0].urlAfterRedirects == '/menu/travelling') {\r\n          this.backFromTravel();\r\n          console.log('gay')\r\n        }\r\n      });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.loading = true;\r\n    this.form = this.formBuilder.group({\r\n      applicationUserId: [''],\r\n      location: this.orderService.chosenLocation,\r\n      locationLat: this.orderService.userLocationLat,\r\n      locationLong: this.orderService.userLocationLong,\r\n      destination: this.orderService.chosenDestination,\r\n      destinationLat: this.orderService.userDestinationLat,\r\n      destinationLong: this.orderService.userDestinationLong,\r\n      totalPrice: this.orderTotalPrice,\r\n      tripDistance: 0,\r\n      userDistance: 0,\r\n      increasePrice: [0],\r\n      status: 'Waiting',\r\n      eta: '',\r\n      withPets: false,\r\n      withStroller: false,\r\n      special: false,\r\n      carType: this.carValue,\r\n      description: '',\r\n      pickUpTime: ''\r\n    })\r\n\r\n    const connection = new signalR.HubConnectionBuilder()\r\n      .configureLogging(signalR.LogLevel.Information)\r\n      .withUrl(`${environment.signalRUrl}/orderHub`)\r\n      .build();\r\n\r\n    connection.start().then(function () {\r\n      console.log('signalR Connected in travelling');\r\n    }).catch(function (err) {\r\n      return console.log(err);\r\n    });\r\n\r\n    connection.on('CreatedOrder', () => {\r\n      this.checkorder();\r\n    });\r\n\r\n    connection.on(\"IncrementDecrement\", (orderId) => {\r\n      this.subscriptions.push(this.orderService.getOrderById(orderId)\r\n        .subscribe((data) => {\r\n          (Math.round(this.orderTotalPrice * 100) / 100);\r\n          this.order.totalPrice = data.totalPrice;\r\n        }));\r\n    });\r\n\r\n    connection.on('OfferMorePrice', (orderId: string) => {\r\n      this.subscriptions.push(this.orderService.getOrderById(orderId)\r\n        .subscribe(x => {\r\n          if (x.id == this.order.id) {\r\n            if (x.increasedByDriver >= 0.5) {\r\n              this.driverPrice = x.increasedByDriver;\r\n              this.driverIncreased = x.increasedByDriver + this.orderTotalPrice;\r\n              this.increasedOrder();\r\n            }\r\n          }\r\n        }))\r\n    });\r\n\r\n    connection.on('OrderAccepted', () => {\r\n      this.subscriptions.push(this.orderService.getMyOrder(this.user.id)\r\n        .subscribe(x => {\r\n          if (x.status == 'Accepted') {\r\n            this.presentOrderAcceptedNotification();\r\n            this.checkorder();\r\n          }\r\n        }))\r\n    });\r\n\r\n    connection.on('LocateDriver', (driverId: string) => {\r\n\r\n    });\r\n  }\r\n\r\n  presentOrderAcceptedNotification() {\r\n    this.translate.get(['Order', 'Your order is accepted'])\r\n      .subscribe(text => {\r\n        this.localNotifications.schedule({\r\n          id: 1,\r\n          title: text[\"Order\"],\r\n          text: text[\"Your order is accepted\"],\r\n          data: { secret: 'secret' }\r\n        })\r\n      })\r\n\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.form.value.carType = 'normal';\r\n    this.carValue = 'normal';\r\n    if (this.orderService.chosenDestination && this.orderService.chosenLocation) {\r\n      this.choosedLocDest = true;\r\n    }\r\n\r\n    this.checkorder();\r\n    if (this.orderService.selectedFavourite) {\r\n      this.orderService.chosenLocation = this.orderService.selectedFavourite.location\r\n      this.form.get('location').setValue(this.orderService.selectedFavourite.location);\r\n      this.form.get('locationLat').setValue(+this.orderService.selectedFavourite.locationLat);\r\n      this.form.get('locationLong').setValue(+this.orderService.selectedFavourite.locationLong);\r\n\r\n      this.orderService.chosenDestination = this.orderService.selectedFavourite.destination;\r\n      this.form.get('destination').setValue(this.orderService.selectedFavourite.destination);\r\n      this.form.get('destinationLat').setValue(+this.orderService.selectedFavourite.destinationLat);\r\n      this.form.get('destinationLong').setValue(+this.orderService.selectedFavourite.destinationLong);\r\n    } else {\r\n      this.form.get('location').setValue(this.orderService.chosenLocation);\r\n      this.form.get('locationLat').setValue(this.orderService.userLocationLat);\r\n      this.form.get('locationLong').setValue(this.orderService.userLocationLong);\r\n\r\n      this.form.get('destination').setValue(this.orderService.chosenDestination);\r\n      this.form.get('destinationLat').setValue(this.orderService.userDestinationLat);\r\n      this.form.get('destinationLong').setValue(this.orderService.userDestinationLong);\r\n    }\r\n\r\n    if (this.isCompleted) {\r\n      this.form.get('location').setValue(this.order.location);\r\n      this.form.get('destination').setValue(this.order.destination);\r\n    }\r\n  }\r\n\r\n\r\n  //GET LOCATION AND DESTINATION AND SEARCH DRIVER\r\n  get f() { return this.form.controls; }\r\n\r\n  locationMap() {\r\n    this.route.navigate(['menu/location'])\r\n  }\r\n\r\n  destinationMap() {\r\n    this.route.navigate(['menu/destination'])\r\n  }\r\n\r\n  onSubmit() {\r\n    this.isSubmitted = true;\r\n    this.form.value.carType = this.carValue;\r\n    //Gets the loc and lng if we come from \"Favourites\" page\r\n    if (this.form.value.location == undefined) {\r\n      this.locationError();\r\n      this.isSubmitted = false;\r\n\r\n    }\r\n\r\n    if (this.form.value.destination == undefined) {\r\n      this.destinationError();\r\n      this.isSubmitted = false;\r\n\r\n    }\r\n\r\n    if (!this.form.valid) {\r\n      return;\r\n    }\r\n\r\n    //Gets information for directions - price, km and etc\r\n    const directionsService = new google.maps.DirectionsService();\r\n\r\n    directionsService.route(\r\n      {\r\n        origin: {\r\n          lat: this.form.value.locationLat,\r\n          lng: this.form.value.locationLong\r\n        },\r\n        destination: {\r\n          lat: this.form.value.destinationLat,\r\n          lng: this.form.value.destinationLong,\r\n        },\r\n        travelMode: google.maps.TravelMode.DRIVING,\r\n      },\r\n      (response, status) => {\r\n        if (status === \"OK\") {\r\n          this.estimatedDuration = response.routes[0].legs[0].duration.text;\r\n          this.orderTotalDestination = response.routes[0].legs[0].distance.value / 1000;\r\n          this.orderTotalPrice = this.orderTotalDestination * 0.90;\r\n          //Additional option with additional price\r\n          if (this.form.value.withPets == true) {\r\n            this.orderTotalPrice += 2.20;\r\n          }\r\n          if (this.form.value.carType == \"comfort\") {\r\n            this.orderTotalPrice += 1;\r\n          }\r\n\r\n          this.form.value.totalPrice = this.orderTotalPrice;\r\n          this.form.value.tripDistance = this.orderTotalDestination;\r\n\r\n          this.form.value.increasePrice = (+this.form.value.increasePrice);\r\n          this.form.value.eta = this.estimatedDuration;\r\n          this.form.value.applicationUserId = this.user.id;\r\n          this.isSubmitted = true;\r\n          if (!this.form.valid) {\r\n            return false;\r\n          } else {\r\n            this.subscriptions.push(this.orderService.createOrder(this.form.value)\r\n              .subscribe(x => {\r\n                this.form.value.locationLat = this.form.value.locationLat.toString();\r\n                this.form.value.locationLong = this.form.value.locationLong.toString();\r\n                this.orderStatus = this.form.value.status;\r\n                this.subscriptions.push(this.orderService.getMyOrder(this.user.id)\r\n                  .subscribe());\r\n              }))\r\n          }\r\n          console.log(this.order)\r\n        } else {\r\n          this.isSubmitted = false;\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  dateAndTimePicker() {\r\n    this.translate.get(['Now', 'Cancel', 'Choose'])\r\n      .subscribe(text => {\r\n        this.customPickerOptions = {\r\n          buttons: [\r\n            {\r\n              text: text['Now'],\r\n              handler: () => {\r\n                let date = new Date();\r\n                this.mydt.value = `${date.getHours()}:${date.getMinutes()}`;\r\n                console.log(this.mydt.value)\r\n              }\r\n            },\r\n            {\r\n              text: text['Cancel']\r\n            },\r\n            {\r\n              text: text['Choose'],\r\n              handler: (res) => {\r\n                this.mydt.value = `${res.hour.text}:${res.minute.text}`;\r\n                // this.form.value.pickUpTime = this.mydt.value;\r\n                console.log(res.hour.text)\r\n                console.log(res.minute.text)\r\n\r\n                //set form value to chosen time\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      })\r\n  }\r\n\r\n  offer(value) {\r\n    this.form.value.increasePrice = value;\r\n  }\r\n\r\n  //Increase the price for the order.\r\n  selector($event) {\r\n    let amount = +$event;\r\n    if (amount != 0 || $event != \"\") {\r\n      this.subscriptions.push(this.orderService.increaseOrderPrice(this.order.id, amount)\r\n        .subscribe());\r\n    }\r\n  }\r\n\r\n  increment() {\r\n    this.subscriptions.push((this.orderService.incrementOrderPrice(this.order.id)\r\n      .subscribe(() => { })));\r\n  }\r\n\r\n  decrement() {\r\n    if (this.orderTotalPrice >= 1) {\r\n      this.subscriptions.push(this.orderService.decrementOrderPrice(this.order.id)\r\n        .subscribe(() => { }));\r\n    }\r\n\r\n  }\r\n\r\n  priceUpdate() {\r\n    if (this.form.value.withPets == false) {\r\n      this.orderTotalPrice = this.orderTotalPrice + 2.20;\r\n      console.log(this.form.value)\r\n\r\n    }\r\n\r\n    if (this.form.value.withPets == true) {\r\n      this.orderTotalPrice = this.orderTotalPrice - 2.20;\r\n    }\r\n  }\r\n\r\n  onSelectCar(value) {\r\n    this.form.value.carType = this.carValue;\r\n    this.carValue = value;\r\n\r\n    if (value == 'normal') {\r\n      if (this.form.value.carType == 'comfort') {\r\n        this.orderTotalPrice = this.orderTotalPrice - 1;\r\n      }\r\n    }\r\n    if (value == 'comfort') {\r\n      if (this.form.value.carType == 'normal') {\r\n        this.orderTotalPrice = this.orderTotalPrice + 1;\r\n      }\r\n    }\r\n\r\n    this.form.value.carType = value;\r\n  }\r\n\r\n\r\n  //Order functionallity - waiting for driver\r\n  checkorder() {\r\n\r\n    if (this.orderService.userLocationLat) {\r\n      const directionsService = new google.maps.DirectionsService();\r\n      directionsService.route(\r\n        {\r\n          origin: {\r\n            lat: this.orderService.userLocationLat,\r\n            lng: this.orderService.userLocationLong\r\n          },\r\n          destination: {\r\n            lat: this.orderService.userDestinationLat,\r\n            lng: this.orderService.userDestinationLong,\r\n          },\r\n          travelMode: google.maps.TravelMode.DRIVING,\r\n        },\r\n        (response, status) => {\r\n          if (status === \"OK\") {\r\n            this.orderTotalDestination = response.routes[0].legs[0].distance.value / 1000;\r\n            this.orderTotalPrice = this.orderTotalDestination * 0.90;\r\n          }\r\n        }\r\n      );\r\n    }\r\n\r\n\r\n    this.subscriptions.push(this.orderService.getMyOrder(this.user.id)\r\n      .subscribe(data => {\r\n        if (data.status != 'Canceled') {\r\n          this.orderService.currentOrderId = data.id;\r\n          this.location = data.location;\r\n          this.destination = data.destination;\r\n          (Math.round(this.orderTotalPrice * 100) / 100).toFixed(2);\r\n          this.orderTotalPrice = data.totalPrice;\r\n          this.order = data;\r\n          this.estimatedDuration = data.eta;\r\n\r\n          if (data.status == \"Waiting\" && data != null) {\r\n            this.orderStatus = data.status;\r\n            this.isCompleted = true;\r\n          }\r\n\r\n          if (data.status == \"Accepted\" && data != null) {\r\n            this.isSubmitted = false;\r\n            this.route.navigate(['menu/travel-mode']);\r\n            this.isCompleted = false;\r\n          }\r\n        } else {\r\n          this.orderTotalPrice = 0;\r\n        }\r\n      },\r\n        error => {\r\n          console.log(error)\r\n        }))\r\n  }\r\n\r\n  cancelOrder() {\r\n    this.subscriptions.push(this.orderService.getMyOrder(this.user.id)\r\n      .subscribe(data => {\r\n        this.subscriptions.push(this.orderService.deleteOrder(data.id)\r\n          .subscribe(() => {\r\n            this.choosedLocDest = false;\r\n            this.isCompleted = false;\r\n            this.orderStatus = null;\r\n            this.orderTotalPrice = 0;\r\n            this.clearForm();\r\n            this.isSubmitted = false;\r\n          }))\r\n      }))\r\n  }\r\n\r\n\r\n\r\n  async openLanguagePopover(ev) {\r\n    const popover = await this.popoverController.create({\r\n      component: LanguagePopoverPage,\r\n      event: ev\r\n    });\r\n    await popover.present();\r\n  }\r\n\r\n  async locationError() {\r\n    this.translate.get(['Location field is required!'])\r\n      .subscribe(async text => {\r\n        const popup = await this.alertController.create({\r\n          header: text['Location field is required!'],\r\n          buttons: [\r\n            {\r\n              text: 'Ok',\r\n              role: 'Ok',\r\n            }\r\n          ]\r\n        });\r\n\r\n        await popup.present();\r\n      })\r\n\r\n  }\r\n\r\n  async destinationError() {\r\n    this.translate.get(['Destination field is required!'])\r\n      .subscribe(async text => {\r\n        const popup = await this.alertController.create({\r\n          header: text['Destination field is required!'],\r\n          buttons: [\r\n            {\r\n              text: 'Ok',\r\n              role: 'Ok',\r\n            }\r\n          ]\r\n        });\r\n\r\n        await popup.present();\r\n      })\r\n  }\r\n\r\n  async increasedOrder() {\r\n    let textf: any = {};\r\n    textf.first = this.translate.instant('Driver offers you');\r\n    textf.second = this.translate.instant('лв. for the order');\r\n\r\n    this.translate.get(['Accept', 'Cancel'])\r\n      .subscribe(async text => {\r\n        const popup = await this.alertController.create({\r\n          header: `${textf.first} ${this.driverIncreased.toFixed(2)} ${textf.second}`,\r\n          buttons: [\r\n            {\r\n              text: text['Accept'],\r\n              handler: () => {\r\n                this.subscriptions.push(this.orderService.getMyOrder(this.user.id).subscribe(order => {\r\n                  this.subscriptions.push(this.orderService.increasedOrderAccept(order.id, true)\r\n                    .subscribe(() => {\r\n                      this.subscriptions.push(this.orderService.increaseOrderPrice(order.id, this.driverPrice)\r\n                        .subscribe(() => {\r\n                        }))\r\n                    }))\r\n                }))\r\n\r\n              }\r\n            },\r\n            {\r\n              text: text['Cancel'],\r\n              handler: () => {\r\n                this.subscriptions.push(this.orderService.getMyOrder(this.user.id).subscribe(order => {\r\n                  this.subscriptions.push(this.orderService.increasedOrderAccept(order.id, false)\r\n                    .subscribe(() => {\r\n\r\n                    }))\r\n                  this.subscriptions.push(this.orderService.resetIncreasing(this.order.id)\r\n                    .subscribe(() => {\r\n                    }))\r\n                }))\r\n              }\r\n            },\r\n          ]\r\n        });\r\n\r\n        await popup.present();\r\n      })\r\n\r\n  }\r\n\r\n  backFromTravel(){\r\n    this.choosedLocDest = false;\r\n    this.isCompleted = false;\r\n    this.orderStatus = null;\r\n    this.orderTotalPrice = 0;\r\n    this.clearForm();\r\n    this.isSubmitted = false;\r\n  }\r\n\r\n\r\n  clearForm() {\r\n    this.translate.get(['Take me from here', 'Choose destination'])\r\n      .subscribe(text => {\r\n        this.orderService.chosenLocation = text['Take me from here'];\r\n        this.orderService.chosenDestination = text['Choose destination'];\r\n      })\r\n    this.form.reset({\r\n      'location': undefined,\r\n      'destination': undefined,\r\n      'increaseAmount': '',\r\n      'applicationUserId': '',\r\n      'locationLat': 0,\r\n      'locationLong': 0,\r\n      'destinationLat': 0,\r\n      'destinationLong': 0,\r\n      'totalPrice': 0,\r\n      'tripDistance': 0,\r\n      'userDistance': 0,\r\n      'increasePrice': 0,\r\n      'status': 'Waiting',\r\n      'eta': '',\r\n      'withPets': false,\r\n      'withStroller': false,\r\n      'special': false,\r\n      'carType': 'normal'\r\n    })\r\n  }\r\n  //END JUNK\r\n}","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { TravellingPage } from './travelling.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: TravellingPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class TravellingPageRoutingModule {}\r\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError, tap } from 'rxjs/operators';\r\nimport { environment } from 'src/environments/environment';\r\nimport { FavouriteOrder, Order } from 'src/_models';\r\nimport { SharedService } from '../shared/shared.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class OrderService {\r\n  public selectedFavourite: FavouriteOrder;\r\n\r\n  public order: Order;\r\n  public orders = [];\r\n  public currentOrderId: string;\r\n\r\n  public driverId: string;\r\n  public completedOrder = false;\r\n  public alertForcomplete: string;\r\n\r\n  public chosenLocation: string;\r\n  public chosenDestination: string;\r\n\r\n  public userLocationLat: number;\r\n  public userLocationLong: number;\r\n\r\n  public userDestinationLat: number;\r\n  public userDestinationLong: number;\r\n\r\n\r\n  constructor(private http: HttpClient, private sharedService: SharedService) { }\r\n\r\n  public createOrder(data) {\r\n    const headers = this.sharedService.headerGerneration();\r\n\r\n    return this.http.post(`${environment.apiUrl}/api/order`, data, { headers, responseType: 'text' })\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  addToFavourites(data) {\r\n    const headers = this.sharedService.headerGerneration();\r\n\r\n    return this.http.post(`${environment.apiUrl}/api/order/favourites`, data, { headers, responseType: 'text' })\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  getMyFavourites(userId: string): Observable<FavouriteOrder[]> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<FavouriteOrder[]>(`${environment.apiUrl}/api/order/favourites/${userId}`, {headers})\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  deleteFavouriteOrder(orderId: string): Observable<FavouriteOrder> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.delete<FavouriteOrder>(`${environment.apiUrl}/api/order/favourites/${orderId}`, {headers})\r\n      .pipe(\r\n        tap(data => console.log('deleted favourite order: ', JSON.stringify(data))),\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  public getDirections(locationLat, locationLng, destinationLat, destinationLng) {\r\n    const headers = this.sharedService.headerGerneration();\r\n\r\n    return this.http.post(`https://maps.googleapis.com/maps/api/distancematrix/json?units=imperial&origins=${locationLat},${locationLng}&destinations=${destinationLat}%2C${destinationLng}%7C&key=AIzaSyAEvlXdM4joG4bNVT5l-tJSk9lUSGhxMNw`, { headers, responseType: 'text' })\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  getOrderById(id: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Order>(`${environment.apiUrl}/api/order/id/${id}`, {headers})\r\n      .pipe(\r\n        tap(data => this.order = data)\r\n      );\r\n  }\r\n\r\n  getCanceledOrderById(id: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Order>(`${environment.apiUrl}/api/order/canceled/${id}`, {headers})\r\n      .pipe(\r\n        tap(data => this.order = data)\r\n      );\r\n  }\r\n\r\n  getLastCompletedOrder(userId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Order>(`${environment.apiUrl}/api/order/completed/${userId}`, {headers})\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  getMyOrder(userId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Order>(`${environment.apiUrl}/api/order/${userId}`, {headers})\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  getOrderForChat(userId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Order>(`${environment.apiUrl}/api/order/chat/${userId}`, {headers})\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  getAllOrders(): Observable<Order[]> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Order[]>(`${environment.apiUrl}/api/order`, {headers})\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      )\r\n  }\r\n\r\n  getNormalOrders(): Observable<Order[]> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Order[]>(`${environment.apiUrl}/api/order/normal`, {headers})\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      )\r\n  }\r\n\r\n  getComfortOrders(): Observable<Order[]> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Order[]>(`${environment.apiUrl}/api/order/comfort`, {headers})\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      )\r\n  }\r\n\r\n  acceptOrder(orderId: string, driverId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.put<Order>(`${environment.apiUrl}/api/order/${orderId}/${driverId}`, { headers, responseType: 'json' },)\r\n      .pipe(\r\n        tap(data => this.driverId = driverId),\r\n        catchError(this.handleError)\r\n      );\r\n\r\n  }\r\n\r\n  updateOrderEta(orderId: string, value: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.put<Order>(`${environment.apiUrl}/api/order/eta/${orderId}/${value}`, { headers, responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  updateDriverArrived(orderId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.put<Order>(`${environment.apiUrl}/api/order/arrived/${orderId}`, { headers, responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  rateOrder(orderId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.put<Order>(`${environment.apiUrl}/api/order/rate/${orderId}`, { headers, responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  increaseOrderPrice(id: string, amount: number): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.put<Order>(`${environment.apiUrl}/api/order/increase/${id}/${amount}`, { headers, responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n\r\n  }\r\n\r\n  completeOrder(orderId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.put<Order>(`${environment.apiUrl}/api/order/${orderId}`, { headers, responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n\r\n  }\r\n\r\n  deleteOrder(orderId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.delete<Order>(`${environment.apiUrl}/api/order/${orderId}`, {headers})\r\n      .pipe(\r\n        tap(data => console.log('deleted order: ', JSON.stringify(data))),\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  driverIncreaseOrderPrice(orderId: string, amount: number, driverId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.put<Order>(`${environment.apiUrl}/api/order/increased/${orderId}/${amount}/${driverId}`, { headers, responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  resetIncreasing(orderId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n\r\n    return this.http.put<Order>(`${environment.apiUrl}/api/order/reset/${orderId}`, { headers, responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n\r\n  increasedOrderAccept(orderId: string, value: boolean): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();;\r\n\r\n    return this.http.put<Order>(`${environment.apiUrl}/api/order/accepted/increase/${orderId}/${value}`, { headers, responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  incrementOrderPrice(orderId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n\r\n    return this.http.put<Order>(`${environment.apiUrl}/api/order/increment/${orderId}`, { headers, responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  decrementOrderPrice(orderId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n\r\n    return this.http.put<Order>(`${environment.apiUrl}/api/order/decrement/${orderId}`, { headers, responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  handleError(error) {\r\n    let errorMessage = '';\r\n    if (error.error instanceof ErrorEvent) {\r\n      // client-side error\r\n      console.log('Client side error.')\r\n      errorMessage = `Error: ${error.error.message}`;\r\n    } else {\r\n      // server-side error\r\n      console.log('Server side error.')\r\n      errorMessage = `Error Code: ${error.status}\\nMessage: ${error.message}`;\r\n    }\r\n    console.log(errorMessage);\r\n    return throwError(errorMessage);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { TravellingPageRoutingModule } from './travelling-routing.module';\r\n\r\nimport { TravellingPage } from './travelling.page';\r\n\r\nimport { TranslateLoader, TranslateModule, TranslateService } from '@ngx-translate/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { LanguagePopoverPageModule } from '../language-popover/language-popover.module';\r\n\r\nexport function HttpLoaderFactory(http: HttpClient) {\r\n  return new TranslateHttpLoader(http);\r\n}\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TravellingPageRoutingModule,\r\n    ReactiveFormsModule,\r\n    TranslateModule.forChild({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: HttpLoaderFactory,\r\n        deps: [HttpClient]\r\n      }\r\n    }),\r\n    LanguagePopoverPageModule\r\n  ],\r\n  providers:[TranslateService],\r\n  declarations: [TravellingPage]\r\n})\r\nexport class TravellingPageModule {\r\n}\r\n","export default \"ion-content {\\n  --ion-background-color:#e9e9e9;\\n}\\n\\nion-toolbar {\\n  --ion-background-color:#eeeeee;\\n}\\n\\nion-title {\\n  text-align: center;\\n}\\n\\n#normal {\\n  border-radius: 20px;\\n}\\n\\n#comfort {\\n  border: 3px solid #6d6d6d;\\n  border-radius: 20px;\\n}\\n\\n.noScroll {\\n  overflow: hidden;\\n}\\n\\n#marker {\\n  position: absolute;\\n  /*url of the marker*/\\n  background: url(http://maps.gstatic.com/mapfiles/markers2/marker.png) no-repeat;\\n  /*center the marker*/\\n  top: 50%;\\n  left: 50%;\\n  z-index: 1;\\n  /*fix offset when needed*/\\n  margin-left: -10px;\\n  margin-top: -34px;\\n  /*size of the image*/\\n  height: 34px;\\n  width: 20px;\\n  cursor: pointer;\\n}\\n\\n#map {\\n  height: 100%;\\n  width: 100%;\\n}\\n\\n#toolbarIcon {\\n  font-size: 1.7em;\\n}\\n\\n.centered {\\n  text-align: center;\\n}\\n\\n.textTravel {\\n  font-size: 1.5em;\\n  font-family: Open Sans Light;\\n}\\n\\n.text {\\n  font-size: 1.4em;\\n  font-family: Open Sans Light;\\n}\\n\\n.checkbox-icon {\\n  color: white;\\n}\\n\\nion-select {\\n  color: #383838;\\n  background-color: white;\\n  border-radius: 10px;\\n  border: 3px solid #eeeeee;\\n}\\n\\n.blink_me {\\n  -webkit-animation: blinker 1s linear infinite;\\n          animation: blinker 1s linear infinite;\\n}\\n\\n@-webkit-keyframes blinker {\\n  50% {\\n    opacity: 0;\\n  }\\n}\\n\\n@keyframes blinker {\\n  50% {\\n    opacity: 0;\\n  }\\n}\\n\\n.backIcon {\\n  color: #ffae00;\\n  font-size: 150%;\\n}\\n\\n.back {\\n  color: #ffae00;\\n}\\n\\n.fonted {\\n  font-family: Open Sans Light;\\n}\\n\\n.icn {\\n  font-size: 20px;\\n  margin-top: 4px;\\n}\\n\\n.date {\\n  line-height: 10px;\\n}\\n\\n.timebtn {\\n  margin-left: 3%;\\n  margin-top: 8px;\\n  width: 110px;\\n  height: 38px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXHRyYXZlbGxpbmcucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUksOEJBQUE7QUFBSjs7QUFHQTtFQUNJLDhCQUFBO0FBQUo7O0FBR0E7RUFDSSxrQkFBQTtBQUFKOztBQUdBO0VBRUksbUJBQUE7QUFESjs7QUFJQTtFQUNJLHlCQUFBO0VBQ0EsbUJBQUE7QUFESjs7QUFJQTtFQUNJLGdCQUFBO0FBREo7O0FBSUk7RUFDSSxrQkFBQTtFQUNBLG9CQUFBO0VBQ0EsK0VBQUE7RUFDQSxvQkFBQTtFQUNBLFFBQUE7RUFBUSxTQUFBO0VBRVIsVUFBQTtFQUNBLHlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLG9CQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFFQSxlQUFBO0FBRlI7O0FBS0k7RUFDQSxZQUFBO0VBQ0EsV0FBQTtBQUZKOztBQUtBO0VBQ0ksZ0JBQUE7QUFGSjs7QUFNQTtFQUNJLGtCQUFBO0FBSEo7O0FBTUE7RUFDSSxnQkFBQTtFQUNBLDRCQUFBO0FBSEo7O0FBTUE7RUFDSSxnQkFBQTtFQUNBLDRCQUFBO0FBSEo7O0FBTUM7RUFDSSxZQUFBO0FBSEw7O0FBTUE7RUFDSSxjQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLHlCQUFBO0FBSEo7O0FBTUE7RUFDSSw2Q0FBQTtVQUFBLHFDQUFBO0FBSEo7O0FBTUU7RUFDRTtJQUNFLFVBQUE7RUFISjtBQUNGOztBQUFFO0VBQ0U7SUFDRSxVQUFBO0VBSEo7QUFDRjs7QUFNQTtFQUNJLGNBQUE7RUFDQSxlQUFBO0FBSko7O0FBT0E7RUFDSSxjQUFBO0FBSko7O0FBT0E7RUFDSSw0QkFBQTtBQUpKOztBQVFBO0VBQ0ksZUFBQTtFQUNBLGVBQUE7QUFMSjs7QUFRQTtFQUVRLGlCQUFBO0FBTlI7O0FBU0E7RUFDSSxlQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0FBTkoiLCJmaWxlIjoidHJhdmVsbGluZy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudHtcclxuICAgIC8vLS1iYWNrZ3JvdW5kOiB1cmwoLi4vLi4vYXNzZXRzL3dwNDc5Mjc4MC1kYXJrLXBob25lLXdhbGxwYXBlcnMuanBnKSAwIDAvMTAwJSAxMDAlIG5vLXJlcGVhdDtcclxuICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6I2U5ZTllOTtcclxufVxyXG5cclxuaW9uLXRvb2xiYXJ7XHJcbiAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiNlZWVlZWU7XHJcbn1cclxuXHJcbmlvbi10aXRsZSB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbiNub3JtYWx7XHJcbiAgICAvL2JvcmRlcjogM3B4IHNvbGlkIHJnYigyNTUsIDIwOCwgMCk7XHJcbiAgICBib3JkZXItcmFkaXVzOiAyMHB4O1xyXG59XHJcblxyXG4jY29tZm9ydHtcclxuICAgIGJvcmRlcjogM3B4IHNvbGlkIHJnYigxMDksIDEwOSwgMTA5KTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XHJcbn1cclxuXHJcbi5ub1Njcm9sbCB7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgfVxyXG5cclxuICAgICNtYXJrZXJ7XHJcbiAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XHJcbiAgICAgICAgLyp1cmwgb2YgdGhlIG1hcmtlciovXHJcbiAgICAgICAgYmFja2dyb3VuZDp1cmwoaHR0cDovL21hcHMuZ3N0YXRpYy5jb20vbWFwZmlsZXMvbWFya2VyczIvbWFya2VyLnBuZykgbm8tcmVwZWF0O1xyXG4gICAgICAgIC8qY2VudGVyIHRoZSBtYXJrZXIqL1xyXG4gICAgICAgIHRvcDo1MCU7bGVmdDo1MCU7XHJcbiAgICAgIFxyXG4gICAgICAgIHotaW5kZXg6MTtcclxuICAgICAgICAvKmZpeCBvZmZzZXQgd2hlbiBuZWVkZWQqL1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0Oi0xMHB4O1xyXG4gICAgICAgIG1hcmdpbi10b3A6LTM0cHg7XHJcbiAgICAgICAgLypzaXplIG9mIHRoZSBpbWFnZSovXHJcbiAgICAgICAgaGVpZ2h0OjM0cHg7XHJcbiAgICAgICAgd2lkdGg6MjBweDtcclxuICAgICAgXHJcbiAgICAgICAgY3Vyc29yOnBvaW50ZXI7XHJcbiAgICAgIH1cclxuICAgIFxyXG4gICAgI21hcCB7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIH1cclxuXHJcbiN0b29sYmFySWNvbntcclxuICAgIGZvbnQtc2l6ZTogMS43ZW07XHJcbn1cclxuXHJcblxyXG4uY2VudGVyZWR7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi50ZXh0VHJhdmVse1xyXG4gICAgZm9udC1zaXplOiAxLjVlbTtcclxuICAgIGZvbnQtZmFtaWx5OiBPcGVuIFNhbnMgTGlnaHQ7XHJcbn1cclxuXHJcbi50ZXh0eyAgXHJcbiAgICBmb250LXNpemU6IDEuNGVtO1xyXG4gICAgZm9udC1mYW1pbHk6IE9wZW4gU2FucyBMaWdodDtcclxufVxyXG5cclxuIC5jaGVja2JveC1pY29ue1xyXG4gICAgIGNvbG9yOndoaXRlO1xyXG4gfVxyXG5cclxuaW9uLXNlbGVjdHtcclxuICAgIGNvbG9yOiByZ2IoNTYsIDU2LCA1Nik7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICBib3JkZXI6IDNweCBzb2xpZCAjZWVlZWVlO1xyXG59XHJcblxyXG4uYmxpbmtfbWUge1xyXG4gICAgYW5pbWF0aW9uOiBibGlua2VyIDFzIGxpbmVhciBpbmZpbml0ZTtcclxuICB9XHJcbiAgXHJcbiAgQGtleWZyYW1lcyBibGlua2VyIHtcclxuICAgIDUwJSB7XHJcbiAgICAgIG9wYWNpdHk6IDA7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuLmJhY2tJY29uIHtcclxuICAgIGNvbG9yOiByZ2IoMjU1LCAxNzQsIDApO1xyXG4gICAgZm9udC1zaXplOiAxNTAlO1xyXG59XHJcblxyXG4uYmFjayB7XHJcbiAgICBjb2xvcjogcmdiKDI1NSwgMTc0LCAwKTtcclxufVxyXG5cclxuLmZvbnRlZHtcclxuICAgIGZvbnQtZmFtaWx5OiBPcGVuIFNhbnMgTGlnaHQ7XHJcbn1cclxuXHJcblxyXG4uaWNue1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG4gICAgbWFyZ2luLXRvcDogNHB4O1xyXG59XHJcblxyXG4uZGF0ZXtcclxuICAgICAgICAvL3RleHQtaW5kZW50OiAwcHg7XHJcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEwcHg7XHJcbn1cclxuXHJcbi50aW1lYnRue1xyXG4gICAgbWFyZ2luLWxlZnQ6IDMlO1xyXG4gICAgbWFyZ2luLXRvcDogOHB4O1xyXG4gICAgd2lkdGg6IDExMHB4O1xyXG4gICAgaGVpZ2h0OiAzOHB4O1xyXG59XHJcbiJdfQ== */\";","export default \"<ion-content padding>\\r\\n    <ion-header>\\r\\n        <ion-toolbar>\\r\\n            <ion-buttons slot=\\\"start\\\">\\r\\n                <ion-menu-button></ion-menu-button>\\r\\n            </ion-buttons>\\r\\n\\r\\n\\r\\n            <ion-title>\\r\\n                <ion-label>{{'Travel'| translate}}</ion-label>\\r\\n            </ion-title>\\r\\n\\r\\n            <ion-buttons slot=\\\"end\\\">\\r\\n\\r\\n                <ion-icon (click)='openLanguagePopover($event)' id=\\\"toolbarIcon\\\" name=\\\"language-outline\\\"></ion-icon>\\r\\n            </ion-buttons>\\r\\n        </ion-toolbar>\\r\\n    </ion-header>\\r\\n    <div class=\\\"row mt-2\\\">\\r\\n        <div class=\\\"col\\\">\\r\\n            <ion-text>\\r\\n                <div class=\\\"row\\\">\\r\\n                    <form [formGroup]=\\\"form\\\" novalidate class=\\\"col\\\">\\r\\n                        <div *ngIf=\\\"isCompleted == false\\\" class=\\\"form-group col mt-2\\\">\\r\\n                            <p (click)=\\\"locationMap()\\\" *ngIf=\\\"this.orderService.chosenLocation != null\\\">\\r\\n                                <ion-icon class=\\\"mr-2\\\" name=\\\"location-outline\\\"></ion-icon>\\r\\n                                {{this.orderService.chosenLocation}}\\r\\n                            </p>\\r\\n                            <p (click)=\\\"locationMap()\\\" *ngIf=\\\"this.orderService.chosenLocation == null\\\">\\r\\n                                <ion-icon class=\\\"mr-2\\\" name=\\\"location-outline\\\"></ion-icon>{{'Take me from here'|\\r\\n                                translate}}\\r\\n                            </p>\\r\\n                            <hr />\\r\\n                        </div>\\r\\n                        <div *ngIf=\\\"isCompleted == false\\\" class=\\\"form-group col mt-3\\\">\\r\\n                            <p (click)=\\\"destinationMap()\\\" *ngIf=\\\"this.orderService.chosenDestination != null\\\">\\r\\n                                <ion-icon class=\\\"mr-2\\\" name=\\\"arrow-forward-outline\\\"></ion-icon>\\r\\n                                {{this.orderService.chosenDestination}}\\r\\n                            </p>\\r\\n                            <p (click)=\\\"destinationMap()\\\" *ngIf=\\\"this.orderService.chosenDestination == null\\\">\\r\\n                                <ion-icon class=\\\"mr-2\\\" name=\\\"arrow-forward-outline\\\"></ion-icon>{{'Choose destination' |\\r\\n                                translate}}\\r\\n                            </p>\\r\\n                        </div>\\r\\n\\r\\n                        <div *ngIf=\\\"isCompleted == true\\\" class=\\\"form-group col mt-2\\\">\\r\\n                            <p>\\r\\n                                <ion-icon class=\\\"mr-2\\\" name=\\\"analytics-outline\\\"></ion-icon>{{order.location}}\\r\\n                            </p>\\r\\n                            <hr />\\r\\n                            <p>\\r\\n                                <ion-icon class=\\\"mr-2\\\" name=\\\"arrow-forward-outline\\\"></ion-icon>{{order.destination}}\\r\\n                            </p>\\r\\n                        </div>\\r\\n\\r\\n                        <div *ngIf=\\\"isCompleted == false && this.choosedLocDest == true\\\" class=\\\"text-center mb-2\\\">\\r\\n                            <hr>\\r\\n\\r\\n                            <ion-label>{{'Additional options' | translate}}</ion-label>\\r\\n                            <br>\\r\\n                        </div>\\r\\n                        <div *ngIf=\\\"isCompleted == false && this.choosedLocDest == true\\\" class=\\\"col-md-12 text-left\\\">\\r\\n\\r\\n                            <ion-checkbox color=\\\"dark\\\" (click)=\\\"priceUpdate()\\\" value=\\\"With pets\\\"\\r\\n                                formControlName=\\\"withPets\\\">\\r\\n                            </ion-checkbox>\\r\\n                            <ion-label class=\\\"ml-2\\\">\\r\\n                                <ion-icon name=\\\"paw\\\"></ion-icon> {{'Pets' | translate}} + 2.20 лв.\\r\\n                            </ion-label>\\r\\n                            <br>\\r\\n                            <ion-checkbox color=\\\"dark\\\" value=\\\"With stroller\\\" formControlName=\\\"withStroller\\\">\\r\\n                            </ion-checkbox>\\r\\n                            <ion-label class=\\\"ml-2\\\">\\r\\n                                <ion-icon name=\\\"bag-handle\\\"></ion-icon> {{'Baggage' | translate}}\\r\\n                            </ion-label>\\r\\n                            <br>\\r\\n                            <ion-checkbox color=\\\"dark\\\" value=\\\"Special needs\\\" formControlName=\\\"special\\\">\\r\\n                            </ion-checkbox>\\r\\n                            <ion-label class=\\\"ml-2\\\">\\r\\n                                <ion-icon name=\\\"information-circle\\\"></ion-icon> {{'Special needs' | translate}}\\r\\n                            </ion-label>\\r\\n                        </div>\\r\\n                        <!-- <div *ngIf=\\\"isCompleted == false\\\" class=\\\"col-md-12 text-center\\\">\\r\\n                            <ion-select (ionChange)=\\\"onSelectChange($event)\\\"\\r\\n                                [placeholder]='\\\"Additional options (optional)\\\" | translate' multiple=\\\"true\\\">\\r\\n                                <ion-select-option value=\\\"With pets\\\">{{'Pets' | translate}} + 2.20 лв.\\r\\n                                </ion-select-option>\\r\\n                                <ion-select-option value=\\\"With stroller\\\">{{'Baggage' | translate}}\\r\\n                                </ion-select-option>\\r\\n                                <ion-select-option value=\\\"Special needs\\\">{{'Special needs' | translate}}\\r\\n                                </ion-select-option>\\r\\n                            </ion-select>\\r\\n                        </div> -->\\r\\n                        <hr />\\r\\n\\r\\n                        <!-- <div *ngIf=\\\"isCompleted == false\\\" class=\\\"col-md-12 text-center\\\">\\r\\n                            <ion-select (ionChange)=\\\"onSelectCar($event)\\\"\\r\\n                                [placeholder]='\\\"Car type (optional)\\\" | translate'>\\r\\n                                <ion-select-option value=\\\"Normal\\\">{{'Normal' | translate}}</ion-select-option>\\r\\n                                <ion-select-option value=\\\"Comfort\\\">{{'Comfort' | translate}} + 1 лв.</ion-select-option>\\r\\n                            </ion-select>\\r\\n                        </div> -->\\r\\n\\r\\n                        <div *ngIf=\\\"isCompleted == false && this.choosedLocDest == true\\\" class=\\\"row text-center\\\">\\r\\n                            <div class=\\\"col-md-12 mb-2\\\">\\r\\n                                <ion-label>{{'Car type (optional)' | translate}}</ion-label>\\r\\n                            </div>\\r\\n                            <div (click)=\\\"onSelectCar('normal')\\\" class=\\\"col\\\">\\r\\n                                <img id=\\\"normal\\\" src=\\\"../../assets/normtext.png\\\" width=\\\"100\\\" height=\\\"100\\\" [ngStyle]=\\\"{\\r\\n                                    'border': carValue =='normal' ? '3px solid rgb(255, 208, 0)' : '3px solid rgb(109, 109, 109)'\\r\\n                                  }\\\">\\r\\n                            </div>\\r\\n\\r\\n                            <div (click)=\\\"onSelectCar('comfort')\\\" class=\\\"col\\\">\\r\\n                                <img id=\\\"comfort\\\" src=\\\"../../assets/comftext.png\\\" width=\\\"100\\\" height=\\\"100\\\" [ngStyle]=\\\"{\\r\\n                                    'border': carValue =='comfort' ? '3px solid rgb(255, 208, 0)' : '3px solid rgb(109, 109, 109)'\\r\\n                                  }\\\">\\r\\n\\r\\n                            </div>\\r\\n                        </div>\\r\\n\\r\\n\\r\\n                        <div *ngIf=\\\"isCompleted == false && this.choosedLocDest == true\\\" class=\\\"col mt-2\\\">\\r\\n                            <div class=\\\"row\\\">\\r\\n                                <button class=\\\"btn btn-light btn-sm timebtn\\\">\\r\\n                                    <div class=\\\"d-flex w-100 justify-content-between\\\">\\r\\n\\r\\n                                        <ion-datetime class=\\\"date\\\" placeholder=\\\"{{'Time' | translate}}\\\"\\r\\n                                            formControlName=\\\"pickUpTime\\\" #mydt [pickerOptions]=\\\"customPickerOptions\\\"\\r\\n                                            displayFormat=\\\"HH:mm\\\"></ion-datetime>\\r\\n                                        <ion-label>\\r\\n                                            <ion-icon class=\\\"icn\\\" name=\\\"time-outline\\\"></ion-icon>\\r\\n                                        </ion-label>\\r\\n                                    </div>\\r\\n                                </button>\\r\\n\\r\\n                                <div class=\\\"form-group col mt-2\\\">\\r\\n                                    <ion-input formControlName=\\\"description\\\" type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                                        [placeholder]='\\\"Additional requirements\\\" | translate'>\\r\\n                                    </ion-input>\\r\\n                                </div>\\r\\n\\r\\n                            </div>\\r\\n                        </div>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n                        <div *ngIf=\\\"orderStatus == 'Waiting'\\\" class=\\\"form-group col mt-3\\\">\\r\\n                            <div class=\\\"d-flex w-100 justify-content-between\\\">\\r\\n                                <h5 class=\\\"fonted\\\">{{'Increase amount' | translate}}</h5>\\r\\n                                <a class=\\\"mr-1\\\">\\r\\n                                    <button class=\\\"btn btn-light btn-sm\\\">{{order.totalPrice | number : '1.2-2'}}\\r\\n                                        лв.</button>\\r\\n                                    <!-- <button class=\\\"btn btn-light btn-sm ml-1\\\" (click)=\\\"decrement()\\\">-</button> -->\\r\\n                                    <button class=\\\"btn btn-light btn-sm ml-1\\\" (click)=\\\"increment()\\\">+</button>\\r\\n                                </a>\\r\\n\\r\\n                            </div>\\r\\n                            <hr />\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"row text-center\\\">\\r\\n                            <div class=\\\"col-md-12\\\">\\r\\n\\r\\n                                <button [disabled]=\\\"isSubmitted\\\" *ngIf=\\\"isCompleted == false\\\" type=\\\"button\\\"\\r\\n                                    (click)=\\\"onSubmit()\\\" class=\\\"mt-1 btn btn-warning fonted\\\">\\r\\n                                    {{orderTotalPrice | number : '1.2-2'}} лв. | {{'Make a order'| translate}}\\r\\n                                    <span *ngIf=\\\"isSubmitted\\\" class=\\\"spinner-border spinner-border-sm mr-1\\\"></span>\\r\\n                                </button>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </form>\\r\\n\\r\\n                    <div *ngIf=\\\"isCompleted == true\\\" class=\\\"blink_me col-md-12 mt-3 text-center fonted\\\">\\r\\n                        <button class=\\\"btn btn-warning fonted\\\">{{'Looking for a driver'| translate}}</button>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </ion-text>\\r\\n        </div>\\r\\n    </div>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer *ngIf=\\\"isCompleted == true\\\" class=\\\"ion-no-border\\\">\\r\\n    <ion-toolbar>\\r\\n        <!-- <ion-title>Choosen location</ion-title> -->\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col\\\">\\r\\n                <div class=\\\"d-flex w-100 justify-content-between\\\">\\r\\n                    <button *ngIf=\\\"isCompleted == true\\\" class=\\\"ml-3 btn btn-info fonted\\\">{{'Cost'|\\r\\n                        translate}} : {{order.totalPrice | number : '1.2-2'}} лв.</button>\\r\\n\\r\\n                    <button *ngIf=\\\"isCompleted == true\\\" class=\\\"mr-3 btn btn-danger fonted\\\"\\r\\n                        (click)=\\\"cancelOrder()\\\">{{'Cancel'| translate}}</button>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n        </div>\\r\\n\\r\\n\\r\\n    </ion-toolbar>\\r\\n</ion-footer>\";"]}