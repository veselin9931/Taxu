{"version":3,"sources":["webpack:///src/app/travelling/travelling.page.ts","webpack:///src/app/travelling/travelling-routing.module.ts","webpack:///src/app/travelling/travelling.module.ts","webpack:///src/app/travelling/travelling.page.scss","webpack:///src/app/travelling/travelling.page.html"],"names":["TravellingPage","formBuilder","route","orderService","accountService","translate","popoverController","alertController","user","userValue","carModel","carColor","firstName","lastName","isSubmitted","isCompleted","subscriptions","setDefaultLang","choosenLanguage","loading","form","group","applicationUserId","location","chosenLocation","locationLat","userLocationLat","locationLong","userLocationLong","destination","chosenDestination","destinationLat","userDestinationLat","destinationLong","userDestinationLong","totalPrice","orderTotalPrice","tripDistance","userDistance","increasePrice","status","eta","withPets","withStroller","special","carType","connection","configureLogging","Information","withUrl","signalRUrl","build","start","then","console","log","err","on","checkorder","orderId","push","getOrderById","subscribe","data","Math","round","toFixed","x","id","order","increasedByDriver","driverPrice","driverIncreased","increasedOrder","getMyOrder","presentOrderAcceptedNotification","driverId","schedule","notifications","title","body","selectedFavourite","get","setValue","controls","navigate","value","undefined","locationError","destinationError","valid","directionsService","google","maps","DirectionsService","origin","lat","lng","travelMode","TravelMode","DRIVING","response","orderTotalDestination","routes","legs","distance","estimatedDuration","createOrder","toString","orderStatus","window","alert","$event","amount","increaseOrderPrice","incrementOrderPrice","decrementOrderPrice","currentOrderId","error","deleteOrder","clearForm","type","detail","forEach","element","ev","create","component","event","popover","present","header","buttons","text","role","popup","handler","increasedOrderAccept","resetIncreasing","reset","selector","template","path","TravellingPageRoutingModule","imports","forChild","exports","HttpLoaderFactory","http","TravellingPageModule","loader","provide","useFactory","deps","providers","declarations"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UAoBaA,cAAc;AAiCzB,gCAAoBC,WAApB,EACUC,KADV,EAESC,YAFT,EAGUC,cAHV,EAIUC,SAJV,EAKUC,iBALV,EAMUC,eANV,EAM4C;AAAA;;AANxB,eAAAN,WAAA,GAAAA,WAAA;AACV,eAAAC,KAAA,GAAAA,KAAA;AACD,eAAAC,YAAA,GAAAA,YAAA;AACC,eAAAC,cAAA,GAAAA,cAAA;AACA,eAAAC,SAAA,GAAAA,SAAA;AACA,eAAAC,iBAAA,GAAAA,iBAAA;AACA,eAAAC,eAAA,GAAAA,eAAA;AArCF,eAAAC,IAAA,GAAO,KAAKJ,cAAL,CAAoBK,SAA3B,CAqCoC,CAzB5C;;AACA,eAAAC,QAAA,GAAW,EAAX;AACA,eAAAC,QAAA,GAAW,EAAX,CAuB4C,CAlB5C;;AACA,eAAAC,SAAA,GAAY,EAAZ;AACA,eAAAC,QAAA,GAAW,EAAX;AAKA,eAAAC,WAAA,GAAc,KAAd;AACA,eAAAC,WAAA,GAAc,KAAd;AAEQ,eAAAC,aAAA,GAAgC,EAAhC;AASN,eAAKX,SAAL,CAAeY,cAAf,CAA8B,KAAKb,cAAL,CAAoBK,SAApB,CAA8BS,eAA5D;AACD;;AAzCwB;AAAA;AAAA,iBA2CzB,oBAAW;AAAA;;AACT,iBAAKC,OAAL,GAAe,IAAf;AACA,iBAAKC,IAAL,GAAY,KAAKnB,WAAL,CAAiBoB,KAAjB,CAAuB;AACjCC,+BAAiB,EAAE,CAAC,EAAD,CADc;AAEjCC,sBAAQ,EAAE,KAAKpB,YAAL,CAAkBqB,cAFK;AAGjCC,yBAAW,EAAE,KAAKtB,YAAL,CAAkBuB,eAHE;AAIjCC,0BAAY,EAAE,KAAKxB,YAAL,CAAkByB,gBAJC;AAKjCC,yBAAW,EAAE,KAAK1B,YAAL,CAAkB2B,iBALE;AAMjCC,4BAAc,EAAE,KAAK5B,YAAL,CAAkB6B,kBAND;AAOjCC,6BAAe,EAAE,KAAK9B,YAAL,CAAkB+B,mBAPF;AAQjCC,wBAAU,EAAE,KAAKC,eARgB;AASjCC,0BAAY,EAAE,CATmB;AAUjCC,0BAAY,EAAE,CAVmB;AAWjCC,2BAAa,EAAE,CAAC,CAAD,CAXkB;AAYjCC,oBAAM,EAAE,SAZyB;AAajCC,iBAAG,EAAE,EAb4B;AAcjCC,sBAAQ,EAAE,KAduB;AAejCC,0BAAY,EAAE,KAfmB;AAgBjCC,qBAAO,EAAE,KAhBwB;AAiBjCC,qBAAO,EAAE;AAjBwB,aAAvB,CAAZ;AAoBA,gBAAMC,UAAU,GAAG,IAAI,oEAAJ,GAChBC,gBADgB,CACC,yDAAiBC,WADlB,EAEhBC,OAFgB,WAEL,yEAAYC,UAFP,gBAGhBC,KAHgB,EAAnB;AAKAL,sBAAU,CAACM,KAAX,GAAmBC,IAAnB,CAAwB,YAAY;AAClCC,qBAAO,CAACC,GAAR,CAAY,iCAAZ;AACD,aAFD,WAES,UAAUC,GAAV,EAAe;AACtB,qBAAOF,OAAO,CAACC,GAAR,CAAYC,GAAZ,CAAP;AACD,aAJD;AAMAV,sBAAU,CAACW,EAAX,CAAc,cAAd,EAA8B,YAAM;AAClC,mBAAI,CAACC,UAAL;AACD,aAFD;AAIAZ,sBAAU,CAACW,EAAX,CAAc,oBAAd,EAAoC,UAACE,OAAD,EAAa;AAC/C,mBAAI,CAAC3C,aAAL,CAAmB4C,IAAnB,CAAwB,KAAI,CAACzD,YAAL,CAAkB0D,YAAlB,CAA+BF,OAA/B,EACrBG,SADqB,CACX,UAACC,IAAD,EAAU;AACnB,iBAACC,IAAI,CAACC,KAAL,CAAW,KAAI,CAAC7B,eAAL,GAAuB,GAAlC,IAAyC,GAA1C,EAA+C8B,OAA/C,CAAuD,CAAvD;AACA,qBAAI,CAAC9B,eAAL,GAAuB2B,IAAI,CAAC5B,UAA5B;AACD,eAJqB,CAAxB;AAKD,aAND;AAQAW,sBAAU,CAACW,EAAX,CAAc,gBAAd,EAAgC,UAACE,OAAD,EAAqB;AACnD,mBAAI,CAAC3C,aAAL,CAAmB4C,IAAnB,CAAwB,KAAI,CAACzD,YAAL,CAAkB0D,YAAlB,CAA+BF,OAA/B,EACrBG,SADqB,CACX,UAAAK,CAAC,EAAI;AACd,oBAAIA,CAAC,CAACC,EAAF,IAAQ,KAAI,CAACC,KAAL,CAAWD,EAAvB,EAA2B;AACzB,sBAAID,CAAC,CAACG,iBAAF,IAAuB,GAA3B,EAAgC;AAC9B,yBAAI,CAACC,WAAL,GAAmBJ,CAAC,CAACG,iBAArB;AACA,yBAAI,CAACE,eAAL,GAAuBL,CAAC,CAACG,iBAAF,GAAsB,KAAI,CAAClC,eAAlD;;AACA,yBAAI,CAACqC,cAAL;AACD;AACF;AACF,eATqB,CAAxB;AAUD,aAXD;AAaA3B,sBAAU,CAACW,EAAX,CAAc,eAAd,EAA+B,YAAM;AACnC,mBAAI,CAACzC,aAAL,CAAmB4C,IAAnB,CAAwB,KAAI,CAACzD,YAAL,CAAkBuE,UAAlB,CAA6B,KAAI,CAAClE,IAAL,CAAU4D,EAAvC,EACrBN,SADqB,CACX,UAAAK,CAAC,EAAI;AACd,oBAAIA,CAAC,CAAC3B,MAAF,IAAY,UAAhB,EAA4B;AAC1B,uBAAI,CAACmC,gCAAL;;AACA,uBAAI,CAACjB,UAAL;AACD;AACF,eANqB,CAAxB;AAOD,aARD;AAUAZ,sBAAU,CAACW,EAAX,CAAc,cAAd,EAA8B,UAACmB,QAAD,EAAsB,CAEnD,CAFD;AAGD;AAlHwB;AAAA;AAAA,iBAmHnB,4CAAmC;;;;;;;AACvC,6BAAM,oEAAmBC,QAAnB,CAA4B;AAChCC,qCAAa,EAAE,CACb;AACEC,+BAAK,EAAE,aADT;AAEEC,8BAAI,EAAE,wBAFR;AAGEZ,4BAAE,EAAE;AAHN,yBADa;AADiB,uBAA5B,CAAN;;;;;;;;;AASD;AA7HwB;AAAA;AAAA,iBAgIzB,2BAAkB;AAChB,iBAAKV,UAAL;;AACA,gBAAI,KAAKvD,YAAL,CAAkB8E,iBAAtB,EAAyC;AACvC,mBAAK9E,YAAL,CAAkBqB,cAAlB,GAAmC,KAAKrB,YAAL,CAAkB8E,iBAAlB,CAAoC1D,QAAvE;AACA,mBAAKH,IAAL,CAAU8D,GAAV,CAAc,UAAd,EAA0BC,QAA1B,CAAmC,KAAKhF,YAAL,CAAkB8E,iBAAlB,CAAoC1D,QAAvE;AACA,mBAAKH,IAAL,CAAU8D,GAAV,CAAc,aAAd,EAA6BC,QAA7B,CAAsC,CAAC,KAAKhF,YAAL,CAAkB8E,iBAAlB,CAAoCxD,WAA3E;AACA,mBAAKL,IAAL,CAAU8D,GAAV,CAAc,cAAd,EAA8BC,QAA9B,CAAuC,CAAC,KAAKhF,YAAL,CAAkB8E,iBAAlB,CAAoCtD,YAA5E;AAEA,mBAAKxB,YAAL,CAAkB2B,iBAAlB,GAAsC,KAAK3B,YAAL,CAAkB8E,iBAAlB,CAAoCpD,WAA1E;AACA,mBAAKT,IAAL,CAAU8D,GAAV,CAAc,aAAd,EAA6BC,QAA7B,CAAsC,KAAKhF,YAAL,CAAkB8E,iBAAlB,CAAoCpD,WAA1E;AACA,mBAAKT,IAAL,CAAU8D,GAAV,CAAc,gBAAd,EAAgCC,QAAhC,CAAyC,CAAC,KAAKhF,YAAL,CAAkB8E,iBAAlB,CAAoClD,cAA9E;AACA,mBAAKX,IAAL,CAAU8D,GAAV,CAAc,iBAAd,EAAiCC,QAAjC,CAA0C,CAAC,KAAKhF,YAAL,CAAkB8E,iBAAlB,CAAoChD,eAA/E;AACD,aAVD,MAUO;AACL,mBAAKb,IAAL,CAAU8D,GAAV,CAAc,UAAd,EAA0BC,QAA1B,CAAmC,KAAKhF,YAAL,CAAkBqB,cAArD;AACA,mBAAKJ,IAAL,CAAU8D,GAAV,CAAc,aAAd,EAA6BC,QAA7B,CAAsC,KAAKhF,YAAL,CAAkBuB,eAAxD;AACA,mBAAKN,IAAL,CAAU8D,GAAV,CAAc,cAAd,EAA8BC,QAA9B,CAAuC,KAAKhF,YAAL,CAAkByB,gBAAzD;AAEA,mBAAKR,IAAL,CAAU8D,GAAV,CAAc,aAAd,EAA6BC,QAA7B,CAAsC,KAAKhF,YAAL,CAAkB2B,iBAAxD;AACA,mBAAKV,IAAL,CAAU8D,GAAV,CAAc,gBAAd,EAAgCC,QAAhC,CAAyC,KAAKhF,YAAL,CAAkB6B,kBAA3D;AACA,mBAAKZ,IAAL,CAAU8D,GAAV,CAAc,iBAAd,EAAiCC,QAAjC,CAA0C,KAAKhF,YAAL,CAAkB+B,mBAA5D;AACD;;AAED,gBAAI,KAAKnB,WAAT,EAAsB;AACpB,mBAAKK,IAAL,CAAU8D,GAAV,CAAc,UAAd,EAA0BC,QAA1B,CAAmC,KAAKd,KAAL,CAAW9C,QAA9C;AACA,mBAAKH,IAAL,CAAU8D,GAAV,CAAc,aAAd,EAA6BC,QAA7B,CAAsC,KAAKd,KAAL,CAAWxC,WAAjD;AACD;AAEF,WA3JwB,CA8JzB;;AA9JyB;AAAA;AAAA,eA+JzB,eAAQ;AAAE,mBAAO,KAAKT,IAAL,CAAUgE,QAAjB;AAA4B;AA/Jb;AAAA;AAAA,iBAiKzB,uBAAc;AACZ,iBAAKlF,KAAL,CAAWmF,QAAX,CAAoB,CAAC,eAAD,CAApB;AACD;AAnKwB;AAAA;AAAA,iBAqKzB,0BAAiB;AACf,iBAAKnF,KAAL,CAAWmF,QAAX,CAAoB,CAAC,kBAAD,CAApB;AACD;AAvKwB;AAAA;AAAA,iBAyKzB,oBAAW;AAAA;;AACT,iBAAKvE,WAAL,GAAmB,IAAnB,CADS,CAGT;;AACA,gBAAI,KAAKM,IAAL,CAAUkE,KAAV,CAAgB/D,QAAhB,IAA4BgE,SAAhC,EAA2C;AACzC,mBAAKC,aAAL;AACA,mBAAK1E,WAAL,GAAmB,KAAnB;AAED;;AAED,gBAAI,KAAKM,IAAL,CAAUkE,KAAV,CAAgBzD,WAAhB,IAA+B0D,SAAnC,EAA8C;AAC5C,mBAAKE,gBAAL;AACA,mBAAK3E,WAAL,GAAmB,KAAnB;AAED;;AAED,gBAAI,CAAC,KAAKM,IAAL,CAAUsE,KAAf,EAAsB;AACpB;AACD,aAlBQ,CAoBT;;;AACA,gBAAMC,iBAAiB,GAAG,IAAIC,MAAM,CAACC,IAAP,CAAYC,iBAAhB,EAA1B;AAEAH,6BAAiB,CAACzF,KAAlB,CACE;AACE6F,oBAAM,EAAE;AACNC,mBAAG,EAAE,KAAK5E,IAAL,CAAUkE,KAAV,CAAgB7D,WADf;AAENwE,mBAAG,EAAE,KAAK7E,IAAL,CAAUkE,KAAV,CAAgB3D;AAFf,eADV;AAKEE,yBAAW,EAAE;AACXmE,mBAAG,EAAE,KAAK5E,IAAL,CAAUkE,KAAV,CAAgBvD,cADV;AAEXkE,mBAAG,EAAE,KAAK7E,IAAL,CAAUkE,KAAV,CAAgBrD;AAFV,eALf;AASEiE,wBAAU,EAAEN,MAAM,CAACC,IAAP,CAAYM,UAAZ,CAAuBC;AATrC,aADF,EAYE,UAACC,QAAD,EAAW7D,MAAX,EAAsB;AACpB,kBAAIA,MAAM,KAAK,IAAf,EAAqB;AACnB;AACA,sBAAI,CAAC8D,qBAAL,GAA6BD,QAAQ,CAACE,MAAT,CAAgB,CAAhB,EAAmBC,IAAnB,CAAwB,CAAxB,EAA2BC,QAA3B,CAAoCnB,KAApC,GAA4C,IAAzE;AACA,sBAAI,CAAClD,eAAL,GAAuB,MAAI,CAACkE,qBAAL,GAA6B,IAApD,CAHmB,CAKnB;;AACA,oBAAI,MAAI,CAAClF,IAAL,CAAUkE,KAAV,CAAgB5C,QAAhB,IAA4B,IAAhC,EAAsC;AACpC,wBAAI,CAACN,eAAL,IAAwB,IAAxB;AACD;;AACD,oBAAI,MAAI,CAAChB,IAAL,CAAUkE,KAAV,CAAgBzC,OAAhB,IAA2B,SAA/B,EAA0C;AACxC,wBAAI,CAACT,eAAL,IAAwB,CAAxB;AACD;;AAED,sBAAI,CAAChB,IAAL,CAAUkE,KAAV,CAAgBnD,UAAhB,GAA6B,MAAI,CAACC,eAAlC;AACA,sBAAI,CAAChB,IAAL,CAAUkE,KAAV,CAAgBjD,YAAhB,GAA+B,MAAI,CAACiE,qBAApC;AAEA,sBAAI,CAAClF,IAAL,CAAUkE,KAAV,CAAgB/C,aAAhB,GAAiC,CAAC,MAAI,CAACnB,IAAL,CAAUkE,KAAV,CAAgB/C,aAAlD;AACA,sBAAI,CAACnB,IAAL,CAAUkE,KAAV,CAAgB7C,GAAhB,GAAsB,MAAI,CAACiE,iBAA3B;AACA,sBAAI,CAACtF,IAAL,CAAUkE,KAAV,CAAgBhE,iBAAhB,GAAoC,MAAI,CAACd,IAAL,CAAU4D,EAA9C;AACA,sBAAI,CAACtD,WAAL,GAAmB,IAAnB;;AACA,oBAAI,CAAC,MAAI,CAACM,IAAL,CAAUsE,KAAf,EAAsB;AACpB,yBAAO,KAAP;AACD,iBAFD,MAEO;AACL,wBAAI,CAAC1E,aAAL,CAAmB4C,IAAnB,CAAwB,MAAI,CAACzD,YAAL,CAAkBwG,WAAlB,CAA8B,MAAI,CAACvF,IAAL,CAAUkE,KAAxC,EACrBxB,SADqB,CACX,UAAAK,CAAC,EAAI;AACd,0BAAI,CAAC/C,IAAL,CAAUkE,KAAV,CAAgB7D,WAAhB,GAA8B,MAAI,CAACL,IAAL,CAAUkE,KAAV,CAAgB7D,WAAhB,CAA4BmF,QAA5B,EAA9B;AACA,0BAAI,CAACxF,IAAL,CAAUkE,KAAV,CAAgB3D,YAAhB,GAA+B,MAAI,CAACP,IAAL,CAAUkE,KAAV,CAAgB3D,YAAhB,CAA6BiF,QAA7B,EAA/B;AACA,0BAAI,CAACC,WAAL,GAAmB,MAAI,CAACzF,IAAL,CAAUkE,KAAV,CAAgB9C,MAAnC;;AACA,0BAAI,CAACxB,aAAL,CAAmB4C,IAAnB,CAAwB,MAAI,CAACzD,YAAL,CAAkBuE,UAAlB,CAA6B,MAAI,CAAClE,IAAL,CAAU4D,EAAvC,EACrBN,SADqB,EAAxB;AAED,mBAPqB,CAAxB;AAQD;AACF,eAhCD,MAgCO;AACL,sBAAI,CAAChD,WAAL,GAAmB,KAAnB;AACAgG,sBAAM,CAACC,KAAP,CAAa,sCAAsCvE,MAAnD;AACD;AACF,aAjDH;AAmDD;AAnPwB;AAAA;AAAA,iBAqPzB,eAAM8C,KAAN,EAAa;AACX,iBAAKlE,IAAL,CAAUkE,KAAV,CAAgB/C,aAAhB,GAAgC+C,KAAhC;AACD,WAvPwB,CAyPzB;;AAzPyB;AAAA;AAAA,iBA0PzB,kBAAS0B,MAAT,EAAiB;AACf,gBAAIC,MAAM,GAAG,CAACD,MAAd;;AACA,gBAAIC,MAAM,IAAI,CAAV,IAAeD,MAAM,IAAI,EAA7B,EAAiC;AAC/B,mBAAKhG,aAAL,CAAmB4C,IAAnB,CAAwB,KAAKzD,YAAL,CAAkB+G,kBAAlB,CAAqC,KAAK7C,KAAL,CAAWD,EAAhD,EAAoD6C,MAApD,EACrBnD,SADqB,EAAxB;AAED;AACF;AAhQwB;AAAA;AAAA,iBAkQzB,qBAAY;AACV,iBAAK9C,aAAL,CAAmB4C,IAAnB,CAAyB,KAAKzD,YAAL,CAAkBgH,mBAAlB,CAAsC,KAAK9C,KAAL,CAAWD,EAAjD,EACtBN,SADsB,CACZ,YAAM,CAAG,CADG,CAAzB;AAED;AArQwB;AAAA;AAAA,iBAuQzB,qBAAY;AACV,gBAAI,KAAK1B,eAAL,IAAwB,CAA5B,EAA+B;AAC7B,mBAAKpB,aAAL,CAAmB4C,IAAnB,CAAwB,KAAKzD,YAAL,CAAkBiH,mBAAlB,CAAsC,KAAK/C,KAAL,CAAWD,EAAjD,EACrBN,SADqB,CACX,YAAM,CAAG,CADE,CAAxB;AAED;AAEF,WA7QwB,CA+QzB;;AA/QyB;AAAA;AAAA,iBAgRzB,sBAAa;AAAA;;AACX,iBAAK9C,aAAL,CAAmB4C,IAAnB,CAAwB,KAAKzD,YAAL,CAAkBuE,UAAlB,CAA6B,KAAKlE,IAAL,CAAU4D,EAAvC,EACrBN,SADqB,CACX,UAAAC,IAAI,EAAI;AACjB,kBAAIA,IAAJ,EAAU;AACR,sBAAI,CAAC5D,YAAL,CAAkBkH,cAAlB,GAAmCtD,IAAI,CAACK,EAAxC;AACA,sBAAI,CAAC7C,QAAL,GAAgBwC,IAAI,CAACxC,QAArB;AACA,sBAAI,CAACM,WAAL,GAAmBkC,IAAI,CAAClC,WAAxB;AACA,iBAACmC,IAAI,CAACC,KAAL,CAAW,MAAI,CAAC7B,eAAL,GAAuB,GAAlC,IAAyC,GAA1C,EAA+C8B,OAA/C,CAAuD,CAAvD;AACA,sBAAI,CAAC9B,eAAL,GAAuB2B,IAAI,CAAC5B,UAA5B;AACA,sBAAI,CAACkC,KAAL,GAAaN,IAAb;AACA,sBAAI,CAAC2C,iBAAL,GAAyB3C,IAAI,CAACtB,GAA9B;;AAEA,oBAAIsB,IAAI,CAACvB,MAAL,IAAe,SAAf,IAA4BuB,IAAI,IAAI,IAAxC,EAA8C;AAC5C,wBAAI,CAAC8C,WAAL,GAAmB9C,IAAI,CAACvB,MAAxB;AACA,wBAAI,CAACzB,WAAL,GAAmB,IAAnB,CAF4C,CAI5C;AACA;AACD;;AAED,oBAAIgD,IAAI,CAACvB,MAAL,IAAe,UAAf,IAA6BuB,IAAI,IAAI,IAAzC,EAA+C;AAC7C,wBAAI,CAACjD,WAAL,GAAmB,KAAnB;;AACA,wBAAI,CAACZ,KAAL,CAAWmF,QAAX,CAAoB,CAAC,kBAAD,CAApB;;AACA,wBAAI,CAACtE,WAAL,GAAmB,KAAnB;AACD;AACF,eAtBD,MAsBO;AACL,sBAAI,CAACqB,eAAL,GAAuB,CAAvB;AACD;AACF,aA3BqB,EA4BpB,UAAAkF,KAAK,EAAI;AACPhE,qBAAO,CAACC,GAAR,CAAY+D,KAAZ;AACD,aA9BmB,CAAxB;AA+BD;AAhTwB;AAAA;AAAA,iBAkTzB,uBAAc;AAAA;;AACZ,iBAAKtG,aAAL,CAAmB4C,IAAnB,CAAwB,KAAKzD,YAAL,CAAkBuE,UAAlB,CAA6B,KAAKlE,IAAL,CAAU4D,EAAvC,EACrBN,SADqB,CACX,UAAAC,IAAI,EAAI;AACjB,oBAAI,CAAC/C,aAAL,CAAmB4C,IAAnB,CAAwB,MAAI,CAACzD,YAAL,CAAkBoH,WAAlB,CAA8BxD,IAAI,CAACK,EAAnC,EACrBN,SADqB,CACX,YAAM;AACf,sBAAI,CAAC/C,WAAL,GAAmB,KAAnB;AACA,sBAAI,CAAC8F,WAAL,GAAmB,IAAnB;AACA,sBAAI,CAACzE,eAAL,GAAuB,CAAvB;;AACA,sBAAI,CAACoF,SAAL;;AACA,sBAAI,CAAC1G,WAAL,GAAmB,KAAnB;AACD,eAPqB,CAAxB;AAQD,aAVqB,CAAxB;AAWD;AA9TwB;AAAA;AAAA,iBAkUzB,qBAAYkG,MAAZ,EAAoB;AAClB,gBAAIS,IAAI,GAAGT,MAAM,CAACU,MAAP,CAAcpC,KAAzB;;AACA,gBAAImC,IAAI,IAAI,QAAZ,EAAsB;AACpB,mBAAKrG,IAAL,CAAUkE,KAAV,CAAgBzC,OAAhB,GAA0B4E,IAA1B;AACD;;AACD,gBAAIA,IAAI,IAAI,SAAZ,EAAuB;AACrB,mBAAKrG,IAAL,CAAUkE,KAAV,CAAgBzC,OAAhB,GAA0B4E,IAA1B;AACD;AACF;AA1UwB;AAAA;AAAA,iBA4UzB,wBAAeT,MAAf,EAAuB;AAAA;;AACrBA,kBAAM,CAACU,MAAP,CAAcpC,KAAd,CAAoBqC,OAApB,CAA4B,UAAAC,OAAO,EAAI;AACrC,kBAAIA,OAAO,IAAI,WAAf,EAA4B;AAC1B,sBAAI,CAACxG,IAAL,CAAUkE,KAAV,CAAgB5C,QAAhB,GAA2B,IAA3B;AACD;;AACD,kBAAIkF,OAAO,IAAI,eAAf,EAAgC;AAC9B,sBAAI,CAACxG,IAAL,CAAUkE,KAAV,CAAgB3C,YAAhB,GAA+B,IAA/B;AACD;;AACD,kBAAIiF,OAAO,IAAI,eAAf,EAAgC;AAC9B,sBAAI,CAACxG,IAAL,CAAUkE,KAAV,CAAgB1C,OAAhB,GAA0B,IAA1B;AACD;AACF,aAVD;AAWD;AAxVwB;AAAA;AAAA,iBA0VnB,6BAAoBiF,EAApB,EAAwB;;;;;;;;AACZ,6BAAM,KAAKvH,iBAAL,CAAuBwH,MAAvB,CAA8B;AAClDC,iCAAS,EAAE,4FADuC;AAElDC,6BAAK,EAAEH;AAF2C,uBAA9B,CAAN;;;AAAVI,6B;;AAIN,6BAAMA,OAAO,CAACC,OAAR,EAAN;;;;;;;;;AACD;AAhWwB;AAAA;AAAA,iBAkWnB,yBAAgB;;;;;;;;AACN,6BAAM,KAAK3H,eAAL,CAAqBuH,MAArB,CAA4B;AAC9CK,8BAAM,EAAE,8BADsC;AAE9CC,+BAAO,EAAE,CACP;AACEC,8BAAI,EAAE,IADR;AAEEC,8BAAI,EAAE;AAFR,yBADO;AAFqC,uBAA5B,CAAN;;;AAARC,2B;;AAUN,6BAAMA,KAAK,CAACL,OAAN,EAAN;;;;;;;;;AACD;AA9WwB;AAAA;AAAA,iBAgXnB,4BAAmB;;;;;;;;AACT,6BAAM,KAAK3H,eAAL,CAAqBuH,MAArB,CAA4B;AAC9CK,8BAAM,EAAE,iCADsC;AAE9CC,+BAAO,EAAE,CACP;AACEC,8BAAI,EAAE,IADR;AAEEC,8BAAI,EAAE;AAFR,yBADO;AAFqC,uBAA5B,CAAN;;;AAARC,2B;;AAWN,6BAAMA,KAAK,CAACL,OAAN,EAAN;;;;;;;;;AACD;AA7XwB;AAAA;AAAA,iBA+XnB,0BAAiB;;;;;;;;;;AACP,6BAAM,KAAK3H,eAAL,CAAqBuH,MAArB,CAA4B;AAC9CK,8BAAM,8BAAuB,KAAK3D,eAAL,CAAqBN,OAArB,CAA6B,CAA7B,CAAvB,oBADwC;AAE9CkE,+BAAO,EAAE,CACP;AACEC,8BAAI,EAAE,QADR;AAEEG,iCAAO,EAAE,mBAAM;AACb,kCAAI,CAACxH,aAAL,CAAmB4C,IAAnB,CAAwB,MAAI,CAACzD,YAAL,CAAkBuE,UAAlB,CAA6B,MAAI,CAAClE,IAAL,CAAU4D,EAAvC,EAA2CN,SAA3C,CAAqD,UAAAO,KAAK,EAAI;AACpF,oCAAI,CAACrD,aAAL,CAAmB4C,IAAnB,CAAwB,MAAI,CAACzD,YAAL,CAAkBsI,oBAAlB,CAAuCpE,KAAK,CAACD,EAA7C,EAAiD,IAAjD,EACrBN,SADqB,CACX,YAAM;AACf,sCAAI,CAAC9C,aAAL,CAAmB4C,IAAnB,CAAwB,MAAI,CAACzD,YAAL,CAAkB+G,kBAAlB,CAAqC7C,KAAK,CAACD,EAA3C,EAA+C,MAAI,CAACG,WAApD,EACrBT,SADqB,CACX,YAAM,CAChB,CAFqB,CAAxB;AAGD,+BALqB,CAAxB;AAMD,6BAPuB,CAAxB;AASD;AAZH,yBADO,EAeP;AACEuE,8BAAI,EAAE,QADR;AAEEG,iCAAO,EAAE,mBAAM;AACb,kCAAI,CAACxH,aAAL,CAAmB4C,IAAnB,CAAwB,MAAI,CAACzD,YAAL,CAAkBuE,UAAlB,CAA6B,MAAI,CAAClE,IAAL,CAAU4D,EAAvC,EAA2CN,SAA3C,CAAqD,UAAAO,KAAK,EAAI;AACpF,oCAAI,CAACrD,aAAL,CAAmB4C,IAAnB,CAAwB,MAAI,CAACzD,YAAL,CAAkBsI,oBAAlB,CAAuCpE,KAAK,CAACD,EAA7C,EAAiD,KAAjD,EACrBN,SADqB,CACX,YAAM,CAEhB,CAHqB,CAAxB;;AAIA,oCAAI,CAAC9C,aAAL,CAAmB4C,IAAnB,CAAwB,MAAI,CAACzD,YAAL,CAAkBuI,eAAlB,CAAkC,MAAI,CAACrE,KAAL,CAAWD,EAA7C,EACrBN,SADqB,CACX,YAAM,CAChB,CAFqB,CAAxB;AAGD,6BARuB,CAAxB;AASD;AAZH,yBAfO;AAFqC,uBAA5B,CAAN;;;AAARyE,2B;;AAkCN,6BAAMA,KAAK,CAACL,OAAN,EAAN;;;;;;;;;AACD;AAnawB;AAAA;AAAA,iBAqazB,qBAAY;AACV,iBAAK9G,IAAL,CAAUuH,KAAV,CAAgB;AACd,0BAAY,EADE;AAEd,6BAAe,EAFD;AAGd,gCAAkB,EAHJ;AAId,mCAAqB,EAJP;AAKd,6BAAe,CALD;AAMd,8BAAgB,CANF;AAOd,gCAAkB,CAPJ;AAQd,iCAAmB,CARL;AASd,4BAAc,CATA;AAUd,8BAAgB,CAVF;AAWd,8BAAgB,CAXF;AAYd,+BAAiB,CAZH;AAad,wBAAU,SAbI;AAcd,qBAAO,EAdO;AAed,0BAAY,KAfE;AAgBd,8BAAgB,KAhBF;AAiBd,yBAAW;AAjBG,aAAhB;AAmBD;AAzbwB;;AAAA;AAAA,S;;;;gBAnBlB;;gBACA;;gBAMA;;gBADA;;gBAEA;;gBALiB;;gBAAjB;;;;AAgBI3I,oBAAc,6DAL1B,gEAAU;AACT4I,gBAAQ,EAAE,gBADD;AAETC,gBAAQ,EAAR,wEAFS;;AAAA,OAAV,CAK0B,GAAd7I,cAAc,CAAd;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfb,UAAMuG,MAAM,GAAW,CACrB;AACEuC,YAAI,EAAE,EADR;AAEEf,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWagB,2BAA2B;AAAA;AAAA,O;;AAA3BA,iCAA2B,6DAJvC,+DAAS;AACRC,eAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsB1C,MAAtB,CAAD,CADD;AAER2C,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAIuC,GAA3BH,2BAA2B,CAA3B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDN,eAASI,iBAAT,CAA2BC,IAA3B,EAA6C;AAClD,eAAO,IAAI,8EAAJ,CAAwBA,IAAxB,CAAP;AACD;;UAqBYC,oBAAoB;AAAA;AAAA,O;;AAApBA,0BAAoB,6DAnBhC,+DAAS;AACRL,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,sFAJO,EAKP,kEALO,EAMP,oEAAgBC,QAAhB,CAAyB;AACvBK,gBAAM,EAAE;AACNC,mBAAO,EAAE,mEADH;AAENC,sBAAU,EAAEL,iBAFN;AAGNM,gBAAI,EAAE,CAAC,+DAAD;AAHA;AADe,SAAzB,CANO,EAaP,oGAbO,CADD;AAgBRC,iBAAS,EAAC,CAAC,oEAAD,CAhBF;AAiBRC,oBAAY,EAAE,CAAC,+DAAD;AAjBN,OAAT,CAmBgC,GAApBN,oBAAoB,CAApB;;;;;;;;;;;;;;;;ACtCb;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA","file":"travelling-travelling-module-es5.js","sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport * as signalR from '@aspnet/signalr';\r\nimport { AlertController, PopoverController } from '@ionic/angular';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Order, Trip } from 'src/_models';\r\nimport { AccountService } from 'src/_services';\r\nimport { OrderService } from 'src/_services/order/order.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { LanguagePopoverPage } from '../language-popover/language-popover.page';\r\nimport { Subscription } from 'rxjs';\r\nimport { LocalNotifications } from '@capacitor/core';\r\nimport { HttpTransportType } from '@aspnet/signalr';\r\n\r\n@Component({\r\n  selector: 'app-travelling',\r\n  templateUrl: './travelling.page.html',\r\n  styleUrls: ['./travelling.page.scss'],\r\n})\r\nexport class TravellingPage implements OnInit {\r\n  public currentTrip: Trip;\r\n  private user = this.accountService.userValue;\r\n  public loading: boolean;\r\n  public progress: number;\r\n  isLoggedIn;\r\n  order: Order;\r\n  form: FormGroup;\r\n  orderStatus: string;\r\n  orderTotalPrice: any;\r\n  orderTotalDestination: any;\r\n  estimatedDuration: any;\r\n\r\n\r\n  //Car html properties;\r\n  carModel = \"\";\r\n  carColor = \"\";\r\n\r\n  driverIncreased: number;\r\n  driverPrice: number;\r\n  increasedBy: string;\r\n  //User html properties\r\n  firstName = \"\";\r\n  lastName = \"\";\r\n\r\n  location: string;\r\n  destination: string;\r\n\r\n  isSubmitted = false;\r\n  isCompleted = false;\r\n\r\n  private subscriptions: Subscription[] = [];\r\n\r\n  constructor(private formBuilder: FormBuilder,\r\n    private route: Router,\r\n    public orderService: OrderService,\r\n    private accountService: AccountService,\r\n    private translate: TranslateService,\r\n    private popoverController: PopoverController,\r\n    private alertController: AlertController) {\r\n    this.translate.setDefaultLang(this.accountService.userValue.choosenLanguage);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.loading = true;\r\n    this.form = this.formBuilder.group({\r\n      applicationUserId: [''],\r\n      location: this.orderService.chosenLocation,\r\n      locationLat: this.orderService.userLocationLat,\r\n      locationLong: this.orderService.userLocationLong,\r\n      destination: this.orderService.chosenDestination,\r\n      destinationLat: this.orderService.userDestinationLat,\r\n      destinationLong: this.orderService.userDestinationLong,\r\n      totalPrice: this.orderTotalPrice,\r\n      tripDistance: 0,\r\n      userDistance: 0,\r\n      increasePrice: [0],\r\n      status: 'Waiting',\r\n      eta: '',\r\n      withPets: false,\r\n      withStroller: false,\r\n      special: false,\r\n      carType: ''\r\n    })\r\n\r\n    const connection = new signalR.HubConnectionBuilder()\r\n      .configureLogging(signalR.LogLevel.Information)\r\n      .withUrl(`${environment.signalRUrl}/orderHub`)\r\n      .build();\r\n\r\n    connection.start().then(function () {\r\n      console.log('signalR Connected in travelling');\r\n    }).catch(function (err) {\r\n      return console.log(err);\r\n    });\r\n\r\n    connection.on('CreatedOrder', () => {\r\n      this.checkorder();\r\n    });\r\n\r\n    connection.on(\"IncrementDecrement\", (orderId) => {\r\n      this.subscriptions.push(this.orderService.getOrderById(orderId)\r\n        .subscribe((data) => {\r\n          (Math.round(this.orderTotalPrice * 100) / 100).toFixed(2);\r\n          this.orderTotalPrice = data.totalPrice;\r\n        }));\r\n    });\r\n\r\n    connection.on('OfferMorePrice', (orderId: string) => {\r\n      this.subscriptions.push(this.orderService.getOrderById(orderId)\r\n        .subscribe(x => {\r\n          if (x.id == this.order.id) {\r\n            if (x.increasedByDriver >= 0.5) {\r\n              this.driverPrice = x.increasedByDriver;\r\n              this.driverIncreased = x.increasedByDriver + this.orderTotalPrice;\r\n              this.increasedOrder();\r\n            }\r\n          }\r\n        }))\r\n    });\r\n\r\n    connection.on('OrderAccepted', () => {\r\n      this.subscriptions.push(this.orderService.getMyOrder(this.user.id)\r\n        .subscribe(x => {\r\n          if (x.status == 'Accepted') {\r\n            this.presentOrderAcceptedNotification();\r\n            this.checkorder();\r\n          }\r\n        }))\r\n    });\r\n\r\n    connection.on('LocateDriver', (driverId: string) => {\r\n      \r\n    });\r\n  }\r\n  async presentOrderAcceptedNotification() {\r\n    await LocalNotifications.schedule({\r\n      notifications: [\r\n        {\r\n          title: \"Order alert\",\r\n          body: \"Your order is accepted\",\r\n          id: 1,\r\n        }\r\n      ]\r\n    })\r\n  }\r\n  \r\n\r\n  ionViewDidEnter() {\r\n    this.checkorder();\r\n    if (this.orderService.selectedFavourite) {\r\n      this.orderService.chosenLocation = this.orderService.selectedFavourite.location\r\n      this.form.get('location').setValue(this.orderService.selectedFavourite.location);\r\n      this.form.get('locationLat').setValue(+this.orderService.selectedFavourite.locationLat);\r\n      this.form.get('locationLong').setValue(+this.orderService.selectedFavourite.locationLong);\r\n\r\n      this.orderService.chosenDestination = this.orderService.selectedFavourite.destination;\r\n      this.form.get('destination').setValue(this.orderService.selectedFavourite.destination);\r\n      this.form.get('destinationLat').setValue(+this.orderService.selectedFavourite.destinationLat);\r\n      this.form.get('destinationLong').setValue(+this.orderService.selectedFavourite.destinationLong);\r\n    } else {\r\n      this.form.get('location').setValue(this.orderService.chosenLocation);\r\n      this.form.get('locationLat').setValue(this.orderService.userLocationLat);\r\n      this.form.get('locationLong').setValue(this.orderService.userLocationLong);\r\n\r\n      this.form.get('destination').setValue(this.orderService.chosenDestination);\r\n      this.form.get('destinationLat').setValue(this.orderService.userDestinationLat);\r\n      this.form.get('destinationLong').setValue(this.orderService.userDestinationLong);\r\n    }\r\n\r\n    if (this.isCompleted) {\r\n      this.form.get('location').setValue(this.order.location);\r\n      this.form.get('destination').setValue(this.order.destination);\r\n    }\r\n\r\n  }\r\n\r\n\r\n  //GET LOCATION AND DESTINATION AND SEARCH DRIVER\r\n  get f() { return this.form.controls; }\r\n\r\n  locationMap() {\r\n    this.route.navigate(['menu/location'])\r\n  }\r\n\r\n  destinationMap() {\r\n    this.route.navigate(['menu/destination'])\r\n  }\r\n\r\n  onSubmit() {\r\n    this.isSubmitted = true;\r\n\r\n    //Gets the loc and lng if we come from \"Favourites\" page\r\n    if (this.form.value.location == undefined) {\r\n      this.locationError();\r\n      this.isSubmitted = false;\r\n\r\n    }\r\n\r\n    if (this.form.value.destination == undefined) {\r\n      this.destinationError();\r\n      this.isSubmitted = false;\r\n\r\n    }\r\n\r\n    if (!this.form.valid) {\r\n      return;\r\n    }\r\n\r\n    //Gets information for directions - price, km and etc\r\n    const directionsService = new google.maps.DirectionsService();\r\n\r\n    directionsService.route(\r\n      {\r\n        origin: {\r\n          lat: this.form.value.locationLat,\r\n          lng: this.form.value.locationLong\r\n        },\r\n        destination: {\r\n          lat: this.form.value.destinationLat,\r\n          lng: this.form.value.destinationLong,\r\n        },\r\n        travelMode: google.maps.TravelMode.DRIVING,\r\n      },\r\n      (response, status) => {\r\n        if (status === \"OK\") {\r\n          // this.estimatedDuration = response.routes[0].legs[0].duration.text;\r\n          this.orderTotalDestination = response.routes[0].legs[0].distance.value / 1000;\r\n          this.orderTotalPrice = this.orderTotalDestination * 0.90;\r\n\r\n          //Additional option with additional price\r\n          if (this.form.value.withPets == true) {\r\n            this.orderTotalPrice += 2.20;\r\n          }\r\n          if (this.form.value.carType == \"Comfort\") {\r\n            this.orderTotalPrice += 1;\r\n          }\r\n\r\n          this.form.value.totalPrice = this.orderTotalPrice;\r\n          this.form.value.tripDistance = this.orderTotalDestination;\r\n\r\n          this.form.value.increasePrice = (+this.form.value.increasePrice);\r\n          this.form.value.eta = this.estimatedDuration;\r\n          this.form.value.applicationUserId = this.user.id;\r\n          this.isSubmitted = true;\r\n          if (!this.form.valid) {\r\n            return false;\r\n          } else {\r\n            this.subscriptions.push(this.orderService.createOrder(this.form.value)\r\n              .subscribe(x => {\r\n                this.form.value.locationLat = this.form.value.locationLat.toString();\r\n                this.form.value.locationLong = this.form.value.locationLong.toString();\r\n                this.orderStatus = this.form.value.status;\r\n                this.subscriptions.push(this.orderService.getMyOrder(this.user.id)\r\n                  .subscribe());\r\n              }))\r\n          }\r\n        } else {\r\n          this.isSubmitted = false;\r\n          window.alert(\"Directions request failed due to \" + status);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  offer(value) {\r\n    this.form.value.increasePrice = value;\r\n  }\r\n\r\n  //Increase the price for the order.\r\n  selector($event) {\r\n    let amount = +$event;\r\n    if (amount != 0 || $event != \"\") {\r\n      this.subscriptions.push(this.orderService.increaseOrderPrice(this.order.id, amount)\r\n        .subscribe());\r\n    }\r\n  }\r\n\r\n  increment() {\r\n    this.subscriptions.push((this.orderService.incrementOrderPrice(this.order.id)\r\n      .subscribe(() => { })));\r\n  }\r\n\r\n  decrement() {\r\n    if (this.orderTotalPrice >= 1) {\r\n      this.subscriptions.push(this.orderService.decrementOrderPrice(this.order.id)\r\n        .subscribe(() => { }));\r\n    }\r\n\r\n  }\r\n\r\n  //Order functionallity - waiting for driver\r\n  checkorder() {\r\n    this.subscriptions.push(this.orderService.getMyOrder(this.user.id)\r\n      .subscribe(data => {\r\n        if (data) {\r\n          this.orderService.currentOrderId = data.id;\r\n          this.location = data.location;\r\n          this.destination = data.destination;\r\n          (Math.round(this.orderTotalPrice * 100) / 100).toFixed(2);\r\n          this.orderTotalPrice = data.totalPrice;\r\n          this.order = data;\r\n          this.estimatedDuration = data.eta;\r\n\r\n          if (data.status == \"Waiting\" && data != null) {\r\n            this.orderStatus = data.status;\r\n            this.isCompleted = true;\r\n\r\n            // User can increase order price.\r\n            //this.selector(0);\r\n          }\r\n\r\n          if (data.status == \"Accepted\" && data != null) {\r\n            this.isSubmitted = false;\r\n            this.route.navigate(['menu/travel-mode']);\r\n            this.isCompleted = false;\r\n          }\r\n        } else {\r\n          this.orderTotalPrice = 0;\r\n        }\r\n      },\r\n        error => {\r\n          console.log(error)\r\n        }))\r\n  }\r\n\r\n  cancelOrder() {\r\n    this.subscriptions.push(this.orderService.getMyOrder(this.user.id)\r\n      .subscribe(data => {\r\n        this.subscriptions.push(this.orderService.deleteOrder(data.id)\r\n          .subscribe(() => {\r\n            this.isCompleted = false;\r\n            this.orderStatus = null;\r\n            this.orderTotalPrice = 0;\r\n            this.clearForm();\r\n            this.isSubmitted = false;\r\n          }))\r\n      }))\r\n  }\r\n\r\n\r\n\r\n  onSelectCar($event) {\r\n    let type = $event.detail.value;\r\n    if (type == \"Normal\") {\r\n      this.form.value.carType = type;\r\n    }\r\n    if (type == \"Comfort\") {\r\n      this.form.value.carType = type;\r\n    }\r\n  }\r\n\r\n  onSelectChange($event) {\r\n    $event.detail.value.forEach(element => {\r\n      if (element == \"With pets\") {\r\n        this.form.value.withPets = true;\r\n      }\r\n      if (element == \"With stroller\") {\r\n        this.form.value.withStroller = true;\r\n      }\r\n      if (element == \"Special needs\") {\r\n        this.form.value.special = true;\r\n      }\r\n    });\r\n  }\r\n\r\n  async openLanguagePopover(ev) {\r\n    const popover = await this.popoverController.create({\r\n      component: LanguagePopoverPage,\r\n      event: ev\r\n    });\r\n    await popover.present();\r\n  }\r\n\r\n  async locationError() {\r\n    const popup = await this.alertController.create({\r\n      header: 'Location field is required !',\r\n      buttons: [\r\n        {\r\n          text: 'Ok',\r\n          role: 'Ok',\r\n        }\r\n      ]\r\n    });\r\n\r\n    await popup.present();\r\n  }\r\n\r\n  async destinationError() {\r\n    const popup = await this.alertController.create({\r\n      header: 'Destination field is required !',\r\n      buttons: [\r\n        {\r\n          text: 'Ok',\r\n          role: 'Ok',\r\n          \r\n        }\r\n      ]\r\n    });\r\n\r\n    await popup.present();\r\n  }\r\n\r\n  async increasedOrder() {\r\n    const popup = await this.alertController.create({\r\n      header: `Driver offers you ${this.driverIncreased.toFixed(2)}$ for the order`,\r\n      buttons: [\r\n        {\r\n          text: 'Accept',\r\n          handler: () => {\r\n            this.subscriptions.push(this.orderService.getMyOrder(this.user.id).subscribe(order => {\r\n              this.subscriptions.push(this.orderService.increasedOrderAccept(order.id, true)\r\n                .subscribe(() => {\r\n                  this.subscriptions.push(this.orderService.increaseOrderPrice(order.id, this.driverPrice)\r\n                    .subscribe(() => {\r\n                    }))\r\n                }))\r\n            }))\r\n\r\n          }\r\n        },\r\n        {\r\n          text: 'Cancel',\r\n          handler: () => {\r\n            this.subscriptions.push(this.orderService.getMyOrder(this.user.id).subscribe(order => {\r\n              this.subscriptions.push(this.orderService.increasedOrderAccept(order.id, false)\r\n                .subscribe(() => {\r\n\r\n                }))\r\n              this.subscriptions.push(this.orderService.resetIncreasing(this.order.id)\r\n                .subscribe(() => {\r\n                }))\r\n            }))\r\n          }\r\n        },\r\n      ]\r\n    });\r\n\r\n    await popup.present();\r\n  }\r\n\r\n  clearForm() {\r\n    this.form.reset({\r\n      'location': '',\r\n      'destination': '',\r\n      'increaseAmount': '',\r\n      'applicationUserId': '',\r\n      'locationLat': 0,\r\n      'locationLong': 0,\r\n      'destinationLat': 0,\r\n      'destinationLong': 0,\r\n      'totalPrice': 0,\r\n      'tripDistance': 0,\r\n      'userDistance': 0,\r\n      'increasePrice': 0,\r\n      'status': 'Waiting',\r\n      'eta': '',\r\n      'withPets': false,\r\n      'withStroller': false,\r\n      'special': false\r\n    })\r\n  }\r\n  //END JUNK\r\n}","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { TravellingPage } from './travelling.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: TravellingPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class TravellingPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { TravellingPageRoutingModule } from './travelling-routing.module';\r\n\r\nimport { TravellingPage } from './travelling.page';\r\n\r\nimport { TranslateLoader, TranslateModule, TranslateService } from '@ngx-translate/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { LanguagePopoverPageModule } from '../language-popover/language-popover.module';\r\n\r\nexport function HttpLoaderFactory(http: HttpClient) {\r\n  return new TranslateHttpLoader(http);\r\n}\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TravellingPageRoutingModule,\r\n    ReactiveFormsModule,\r\n    TranslateModule.forChild({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: HttpLoaderFactory,\r\n        deps: [HttpClient]\r\n      }\r\n    }),\r\n    LanguagePopoverPageModule\r\n  ],\r\n  providers:[TranslateService],\r\n  declarations: [TravellingPage]\r\n})\r\nexport class TravellingPageModule {\r\n}\r\n","export default \"ion-content {\\n  --ion-background-color:#e9e9e9;\\n}\\n\\nion-toolbar {\\n  --ion-background-color:#eeeeee;\\n}\\n\\nion-title {\\n  text-align: center;\\n}\\n\\n.noScroll {\\n  overflow: hidden;\\n}\\n\\n#marker {\\n  position: absolute;\\n  /*url of the marker*/\\n  background: url(http://maps.gstatic.com/mapfiles/markers2/marker.png) no-repeat;\\n  /*center the marker*/\\n  top: 50%;\\n  left: 50%;\\n  z-index: 1;\\n  /*fix offset when needed*/\\n  margin-left: -10px;\\n  margin-top: -34px;\\n  /*size of the image*/\\n  height: 34px;\\n  width: 20px;\\n  cursor: pointer;\\n}\\n\\n#map {\\n  height: 100%;\\n  width: 100%;\\n}\\n\\n#toolbarIcon {\\n  font-size: 1.7em;\\n}\\n\\n.centered {\\n  text-align: center;\\n}\\n\\n.textTravel {\\n  font-size: 1.5em;\\n  font-family: Open Sans Light;\\n}\\n\\n.text {\\n  font-size: 1.4em;\\n  font-family: Open Sans Light;\\n}\\n\\n.checkbox-icon {\\n  color: white;\\n}\\n\\nion-select {\\n  color: #383838;\\n  background-color: white;\\n  border-radius: 10px;\\n  border: 3px solid #eeeeee;\\n}\\n\\n.blink_me {\\n  -webkit-animation: blinker 1s linear infinite;\\n          animation: blinker 1s linear infinite;\\n}\\n\\n@-webkit-keyframes blinker {\\n  50% {\\n    opacity: 0;\\n  }\\n}\\n\\n@keyframes blinker {\\n  50% {\\n    opacity: 0;\\n  }\\n}\\n\\n.backIcon {\\n  color: #ffae00;\\n  font-size: 150%;\\n}\\n\\n.back {\\n  color: #ffae00;\\n}\\n\\n.fonted {\\n  font-family: Open Sans Light;\\n}\\n\\n.msg-box {\\n  width: 100%;\\n  height: 140px;\\n  padding: 10px 30px;\\n  font-size: 14px;\\n  font-family: Open Sans Light;\\n  overflow: auto;\\n}\\n\\n.msg-box ul {\\n  margin: -5px;\\n  list-style: none;\\n}\\n\\n.msg-box ul .ex-msg {\\n  text-align: right;\\n}\\n\\n.msg-box ul .in-msg {\\n  text-align: left;\\n  margin-left: -60px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXHRyYXZlbGxpbmcucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUksOEJBQUE7QUFBSjs7QUFHQTtFQUNJLDhCQUFBO0FBQUo7O0FBR0E7RUFDSSxrQkFBQTtBQUFKOztBQUdBO0VBQ0ksZ0JBQUE7QUFBSjs7QUFHSTtFQUNJLGtCQUFBO0VBQ0Esb0JBQUE7RUFDQSwrRUFBQTtFQUNBLG9CQUFBO0VBQ0EsUUFBQTtFQUFRLFNBQUE7RUFFUixVQUFBO0VBQ0EseUJBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0Esb0JBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUVBLGVBQUE7QUFEUjs7QUFJSTtFQUNBLFlBQUE7RUFDQSxXQUFBO0FBREo7O0FBSUE7RUFDSSxnQkFBQTtBQURKOztBQUtBO0VBQ0ksa0JBQUE7QUFGSjs7QUFLQTtFQUNJLGdCQUFBO0VBQ0EsNEJBQUE7QUFGSjs7QUFLQTtFQUNJLGdCQUFBO0VBQ0EsNEJBQUE7QUFGSjs7QUFLQztFQUNJLFlBQUE7QUFGTDs7QUFLQTtFQUNJLGNBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EseUJBQUE7QUFGSjs7QUFLQTtFQUNJLDZDQUFBO1VBQUEscUNBQUE7QUFGSjs7QUFLRTtFQUNFO0lBQ0UsVUFBQTtFQUZKO0FBQ0Y7O0FBREU7RUFDRTtJQUNFLFVBQUE7RUFGSjtBQUNGOztBQUtBO0VBQ0ksY0FBQTtFQUNBLGVBQUE7QUFISjs7QUFNQTtFQUNJLGNBQUE7QUFISjs7QUFNQTtFQUNJLDRCQUFBO0FBSEo7O0FBT0E7RUFDSSxXQUFBO0VBQ0EsYUFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLDRCQUFBO0VBQ0EsY0FBQTtBQUpKOztBQU1JO0VBQ0ksWUFBQTtFQUVBLGdCQUFBO0FBTFI7O0FBTVE7RUFDSSxpQkFBQTtBQUpaOztBQU9RO0VBQ0ksZ0JBQUE7RUFDQSxrQkFBQTtBQUxaIiwiZmlsZSI6InRyYXZlbGxpbmcucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnR7XHJcbiAgICAvLy0tYmFja2dyb3VuZDogdXJsKC4uLy4uL2Fzc2V0cy93cDQ3OTI3ODAtZGFyay1waG9uZS13YWxscGFwZXJzLmpwZykgMCAwLzEwMCUgMTAwJSBuby1yZXBlYXQ7XHJcbiAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiNlOWU5ZTk7XHJcbn1cclxuXHJcbmlvbi10b29sYmFye1xyXG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjojZWVlZWVlO1xyXG59XHJcblxyXG5pb24tdGl0bGUge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4ubm9TY3JvbGwge1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIH1cclxuXHJcbiAgICAjbWFya2Vye1xyXG4gICAgICAgIHBvc2l0aW9uOmFic29sdXRlO1xyXG4gICAgICAgIC8qdXJsIG9mIHRoZSBtYXJrZXIqL1xyXG4gICAgICAgIGJhY2tncm91bmQ6dXJsKGh0dHA6Ly9tYXBzLmdzdGF0aWMuY29tL21hcGZpbGVzL21hcmtlcnMyL21hcmtlci5wbmcpIG5vLXJlcGVhdDtcclxuICAgICAgICAvKmNlbnRlciB0aGUgbWFya2VyKi9cclxuICAgICAgICB0b3A6NTAlO2xlZnQ6NTAlO1xyXG4gICAgICBcclxuICAgICAgICB6LWluZGV4OjE7XHJcbiAgICAgICAgLypmaXggb2Zmc2V0IHdoZW4gbmVlZGVkKi9cclxuICAgICAgICBtYXJnaW4tbGVmdDotMTBweDtcclxuICAgICAgICBtYXJnaW4tdG9wOi0zNHB4O1xyXG4gICAgICAgIC8qc2l6ZSBvZiB0aGUgaW1hZ2UqL1xyXG4gICAgICAgIGhlaWdodDozNHB4O1xyXG4gICAgICAgIHdpZHRoOjIwcHg7XHJcbiAgICAgIFxyXG4gICAgICAgIGN1cnNvcjpwb2ludGVyO1xyXG4gICAgICB9XHJcbiAgICBcclxuICAgICNtYXAge1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICB9XHJcblxyXG4jdG9vbGJhckljb257XHJcbiAgICBmb250LXNpemU6IDEuN2VtO1xyXG59XHJcblxyXG5cclxuLmNlbnRlcmVke1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4udGV4dFRyYXZlbHtcclxuICAgIGZvbnQtc2l6ZTogMS41ZW07XHJcbiAgICBmb250LWZhbWlseTogT3BlbiBTYW5zIExpZ2h0O1xyXG59XHJcblxyXG4udGV4dHsgIFxyXG4gICAgZm9udC1zaXplOiAxLjRlbTtcclxuICAgIGZvbnQtZmFtaWx5OiBPcGVuIFNhbnMgTGlnaHQ7XHJcbn1cclxuXHJcbiAuY2hlY2tib3gtaWNvbntcclxuICAgICBjb2xvcjp3aGl0ZTtcclxuIH1cclxuXHJcbmlvbi1zZWxlY3R7XHJcbiAgICBjb2xvcjogcmdiKDU2LCA1NiwgNTYpO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgYm9yZGVyOiAzcHggc29saWQgI2VlZWVlZTtcclxufVxyXG5cclxuLmJsaW5rX21lIHtcclxuICAgIGFuaW1hdGlvbjogYmxpbmtlciAxcyBsaW5lYXIgaW5maW5pdGU7XHJcbiAgfVxyXG4gIFxyXG4gIEBrZXlmcmFtZXMgYmxpbmtlciB7XHJcbiAgICA1MCUge1xyXG4gICAgICBvcGFjaXR5OiAwO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbi5iYWNrSWNvbiB7XHJcbiAgICBjb2xvcjogcmdiKDI1NSwgMTc0LCAwKTtcclxuICAgIGZvbnQtc2l6ZTogMTUwJTtcclxufVxyXG5cclxuLmJhY2sge1xyXG4gICAgY29sb3I6IHJnYigyNTUsIDE3NCwgMCk7XHJcbn1cclxuXHJcbi5mb250ZWR7XHJcbiAgICBmb250LWZhbWlseTogT3BlbiBTYW5zIExpZ2h0O1xyXG59XHJcblxyXG5cclxuLm1zZy1ib3gge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDE0MHB4O1xyXG4gICAgcGFkZGluZzogMTBweCAzMHB4O1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgZm9udC1mYW1pbHk6IE9wZW4gU2FucyBMaWdodDtcclxuICAgIG92ZXJmbG93OiBhdXRvO1xyXG5cclxuICAgIHVsIHtcclxuICAgICAgICBtYXJnaW46IC01cHg7XHJcblxyXG4gICAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7XHJcbiAgICAgICAgLmV4LW1zZyB7XHJcbiAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLmluLW1zZyB7XHJcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAtNjBweDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxufVxyXG5cclxuXHJcblxyXG4iXX0= */\";","export default \"<ion-content padding>\\r\\n    <ion-header>\\r\\n        <ion-toolbar>\\r\\n            <ion-buttons slot=\\\"start\\\">\\r\\n                <ion-menu-button></ion-menu-button>\\r\\n            </ion-buttons>\\r\\n\\r\\n\\r\\n            <ion-title>\\r\\n                <ion-label>{{'Travel'| translate}}</ion-label>\\r\\n            </ion-title>\\r\\n\\r\\n            <ion-buttons slot=\\\"end\\\">\\r\\n\\r\\n                <ion-icon (click)='openLanguagePopover($event)' id=\\\"toolbarIcon\\\" name=\\\"language-outline\\\"></ion-icon>\\r\\n            </ion-buttons>\\r\\n        </ion-toolbar>\\r\\n    </ion-header>\\r\\n    <div class=\\\"row mt-2\\\">\\r\\n        <div class=\\\"col\\\">\\r\\n            <ion-text>\\r\\n                <div class=\\\"row\\\">\\r\\n                    <form [formGroup]=\\\"form\\\" novalidate class=\\\"col\\\">\\r\\n                        <div *ngIf=\\\"isCompleted == false\\\" class=\\\"form-group col mt-2\\\">\\r\\n                            <p (click)=\\\"locationMap()\\\" *ngIf=\\\"this.orderService.chosenLocation != null\\\">\\r\\n                                <ion-icon class=\\\"mr-2\\\" name=\\\"location-outline\\\"></ion-icon>\\r\\n                                {{this.orderService.chosenLocation}}\\r\\n                            </p>\\r\\n                            <p (click)=\\\"locationMap()\\\" *ngIf=\\\"this.orderService.chosenLocation == null\\\">\\r\\n                                <ion-icon class=\\\"mr-2\\\" name=\\\"location-outline\\\"></ion-icon>{{'Take me from here'| translate}}.\\r\\n                            </p>\\r\\n                            <hr />\\r\\n                        </div>\\r\\n                        <div *ngIf=\\\"isCompleted == false\\\" class=\\\"form-group col mt-3\\\">\\r\\n                            <p (click)=\\\"destinationMap()\\\" *ngIf=\\\"this.orderService.chosenDestination != null\\\">\\r\\n                                <ion-icon class=\\\"mr-2\\\" name=\\\"arrow-forward-outline\\\"></ion-icon>\\r\\n                                {{this.orderService.chosenDestination}}\\r\\n                            </p>\\r\\n                            <p (click)=\\\"destinationMap()\\\" *ngIf=\\\"this.orderService.chosenDestination == null\\\">\\r\\n                                <ion-icon class=\\\"mr-2\\\" name=\\\"arrow-forward-outline\\\"></ion-icon>{{'Choose destination' | translate}}.\\r\\n                            </p>\\r\\n                        </div>\\r\\n\\r\\n                        <div *ngIf=\\\"isCompleted == true\\\" class=\\\"form-group col mt-2\\\">\\r\\n                            <p>\\r\\n                                <ion-icon class=\\\"mr-2\\\" name=\\\"analytics-outline\\\"></ion-icon>{{order.location}}\\r\\n                            </p>\\r\\n                            <hr />\\r\\n                            <p>\\r\\n                                <ion-icon class=\\\"mr-2\\\" name=\\\"arrow-forward-outline\\\"></ion-icon>{{order.destination}}\\r\\n                            </p>\\r\\n                        </div>\\r\\n\\r\\n                        <div *ngIf=\\\"isCompleted == false\\\" class=\\\"col-md-12 text-center\\\">\\r\\n                            <ion-select (ionChange)=\\\"onSelectChange($event)\\\"\\r\\n                                [placeholder]='\\\"Additional options (optional)\\\" | translate' multiple=\\\"true\\\">\\r\\n                                <!-- <ion-select-option value=\\\"With pets\\\">{{'Pets' | translate}} + 2.20$\\r\\n                                </ion-select-option> -->\\r\\n                                <ion-select-option value=\\\"With pets\\\">{{'Pets' | translate}} + 2.20$\\r\\n                                </ion-select-option>\\r\\n                                <ion-select-option value=\\\"With stroller\\\">{{'Baggage' | translate}}\\r\\n                                </ion-select-option>\\r\\n                                <ion-select-option value=\\\"Special needs\\\">{{'Special needs' | translate}}\\r\\n                                </ion-select-option>\\r\\n                            </ion-select>\\r\\n                        </div>\\r\\n                        <hr />\\r\\n\\r\\n                        <div *ngIf=\\\"isCompleted == false\\\" class=\\\"col-md-12 text-center\\\">\\r\\n                            <ion-select (ionChange)=\\\"onSelectCar($event)\\\"\\r\\n                                [placeholder]='\\\"Car type (optional)\\\" | translate'>\\r\\n                                <ion-select-option value=\\\"Normal\\\">{{'Normal' | translate}}</ion-select-option>\\r\\n                                <ion-select-option value=\\\"Comfort\\\">{{'Comfort' | translate}} + 1$</ion-select-option>\\r\\n                            </ion-select>\\r\\n                        </div>\\r\\n\\r\\n\\r\\n                        <div *ngIf=\\\"orderStatus == 'Waiting'\\\" class=\\\"form-group col mt-3\\\">\\r\\n                            <div class=\\\"d-flex w-100 justify-content-between\\\">\\r\\n                                <h5 class=\\\"fonted\\\">{{'Increase amount' | translate}}</h5>\\r\\n                                <a class=\\\"mr-1\\\">\\r\\n                                    <button class=\\\"btn btn-light btn-sm mr-1\\\" (click)=\\\"increment()\\\">+</button>\\r\\n                                    <button class=\\\"btn btn-light btn-sm\\\">{{orderTotalPrice}}$</button>\\r\\n                                    <button class=\\\"btn btn-light btn-sm ml-1\\\" (click)=\\\"decrement()\\\">-</button>\\r\\n                                </a>\\r\\n\\r\\n                            </div>\\r\\n                            <hr />\\r\\n                        </div>\\r\\n                        \\r\\n                        <div class=\\\"row text-center\\\">\\r\\n                            <div class=\\\"col-md-12\\\">\\r\\n\\r\\n                                <button [disabled]=\\\"isSubmitted\\\" *ngIf=\\\"isCompleted == false\\\" type=\\\"button\\\" (click)=\\\"onSubmit()\\\"\\r\\n                                        class=\\\"mt-3 btn btn-warning fonted\\\">\\r\\n                                    {{'Make a order'| translate}}\\r\\n                                    <span *ngIf=\\\"isSubmitted\\\" class=\\\"spinner-border spinner-border-sm mr-1\\\"></span>\\r\\n                                </button>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </form>\\r\\n\\r\\n                    <div *ngIf=\\\"isCompleted == true\\\" class=\\\"blink_me col-md-12 mt-3 text-center fonted\\\">\\r\\n                        <button class=\\\"btn btn-warning fonted\\\">{{'Looking for a driver'| translate}}</button>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </ion-text>\\r\\n        </div>\\r\\n    </div>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer *ngIf=\\\"isCompleted == true\\\" class=\\\"ion-no-border\\\">\\r\\n    <ion-toolbar>\\r\\n        <!-- <ion-title>Choosen location</ion-title> -->\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col\\\">\\r\\n                <div class=\\\"d-flex w-100 justify-content-between\\\">\\r\\n                    <button *ngIf=\\\"isCompleted == true\\\" class=\\\"ml-3 btn btn-info fonted\\\"\\r\\n                        (click)=\\\"cancelOrder()\\\">{{'Cost'|\\r\\n                        translate}} : {{orderTotalPrice}}$</button>\\r\\n\\r\\n                    <button *ngIf=\\\"isCompleted == true\\\" class=\\\"mr-3 btn btn-danger fonted\\\"\\r\\n                        (click)=\\\"cancelOrder()\\\">{{'Cancel'| translate}}</button>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n        </div>\\r\\n\\r\\n\\r\\n    </ion-toolbar>\\r\\n</ion-footer>\";"]}