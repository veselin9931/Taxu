{"version":3,"sources":["./src/app/account/register/register.module.ts","./src/app/account/register/register.page.scss","./src/app/account/register/register.page.html","./src/app/account/register/register-routing.module.ts","./src/app/account/register/register.page.ts"],"names":[],"mappings":"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","file":"account-register-register-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RegisterPageRoutingModule } from './register-routing.module';\r\n\r\nimport { RegisterPage } from './register.page';\r\n\r\nimport { TranslateLoader, TranslateModule, TranslateService } from '@ngx-translate/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { LanguagePopoverPageModule } from '../../language-popover/language-popover.module';\r\n\r\nexport function HttpLoaderFactory(http: HttpClient) {\r\n  return new TranslateHttpLoader(http);\r\n}\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RegisterPageRoutingModule,\r\n    TranslateModule.forChild({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: HttpLoaderFactory,\r\n        deps: [HttpClient]\r\n      }\r\n    }),\r\n    LanguagePopoverPageModule\r\n  ],\r\n  declarations: [RegisterPage]\r\n})\r\nexport class RegisterPageModule {}\r\n","export default \"ion-content {\\n  --ion-background-color:#e9e9e9;\\n}\\n\\nion-toolbar {\\n  --ion-background-color:#eeeeee;\\n}\\n\\nion-title {\\n  text-align: center;\\n}\\n\\n#toolbarIcon {\\n  font-size: 1.7em;\\n}\\n\\n.fonted {\\n  font-family: Open Sans Light;\\n}\\n\\n.text {\\n  font-size: 2.4em;\\n  font-family: Open Sans Light;\\n}\\n\\n.reg {\\n  margin-top: 20px;\\n}\\n\\nion-input {\\n  border-radius: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFxyZWdpc3Rlci5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSw4QkFBQTtBQUNKOztBQUVBO0VBQ0ksOEJBQUE7QUFDSjs7QUFFQTtFQUNJLGtCQUFBO0FBQ0o7O0FBRUE7RUFDSSxnQkFBQTtBQUNKOztBQUNBO0VBQ0ksNEJBQUE7QUFFSjs7QUFFQTtFQUNJLGdCQUFBO0VBQ0EsNEJBQUE7QUFDSjs7QUFFQTtFQUNJLGdCQUFBO0FBQ0o7O0FBRUE7RUFDSSxtQkFBQTtBQUNKIiwiZmlsZSI6InJlZ2lzdGVyLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50e1xyXG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjojZTllOWU5O1xyXG59XHJcblxyXG5pb24tdG9vbGJhcntcclxuICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6I2VlZWVlZTtcclxufVxyXG5cclxuaW9uLXRpdGxlIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuI3Rvb2xiYXJJY29ue1xyXG4gICAgZm9udC1zaXplOiAxLjdlbTtcclxufVxyXG4uZm9udGVke1xyXG4gICAgZm9udC1mYW1pbHk6IE9wZW4gU2FucyBMaWdodDtcclxufVxyXG5cclxuXHJcbi50ZXh0eyAgXHJcbiAgICBmb250LXNpemU6IDIuNGVtO1xyXG4gICAgZm9udC1mYW1pbHk6IE9wZW4gU2FucyBMaWdodDtcclxufVxyXG5cclxuLnJlZ3tcclxuICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbn1cclxuXHJcbmlvbi1pbnB1dCB7XHJcbiAgICBib3JkZXItcmFkaXVzOiAyMHB4O1xyXG59XHJcbiAgICAiXX0= */\";","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n\\r\\n    <ion-title>\\r\\n        <ion-label>Register</ion-label>\\r\\n    </ion-title>\\r\\n\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-icon (click)='openLanguagePopover($event)' id=\\\"toolbarIcon\\\" name=\\\"language-outline\\\"></ion-icon>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content padding class=\\\"background\\\">\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n\\r\\n      </div>\\r\\n      <ion-text class=\\\"text-center\\\" color=\\\"dark\\\">\\r\\n        <!-- <div class=\\\"col-md-5 mt-3\\\">\\r\\n          <h2 class=\\\"text\\\">\\r\\n            {{'Register' | translate}}\\r\\n          </h2>\\r\\n        </div> -->\\r\\n\\r\\n        <div class=\\\"row text-center\\\">\\r\\n            <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"onSubmit()\\\" novalidate class=\\\"col-md-6\\\">\\r\\n\\r\\n                <ion-text *ngIf=\\\"err\\\" color=\\\"danger\\\">\\r\\n                    <div class=\\\"text-center\\\">{{err}}</div>\\r\\n                </ion-text>\\r\\n\\r\\n                <div class=\\\"form-group col mt-5\\\">\\r\\n                    <ion-input formControlName=\\\"firstName\\\" type=\\\"text\\\" class=\\\"form-control\\\" [placeholder]='\\\"First Name\\\" | translate' [ngClass]=\\\"{ 'is-invalid': submitted && f.firstName.errors }\\\">\\r\\n                    </ion-input>\\r\\n                    <div *ngIf=\\\"submitted && f.firstName.errors\\\" class=\\\"invalid-feedback\\\">\\r\\n                        <div *ngIf=\\\"f.firstName.errors.required\\\">{{'The field is required' | translate}}!</div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group col mt-3\\\">\\r\\n                    <ion-input formControlName=\\\"lastName\\\" type=\\\"text\\\" class=\\\"form-control\\\" [placeholder]='\\\"Last Name\\\" | translate' [ngClass]=\\\"{ 'is-invalid': submitted && f.lastName.errors }\\\">\\r\\n                    </ion-input>\\r\\n\\r\\n                    <div *ngIf=\\\"submitted && f.lastName.errors\\\" class=\\\"invalid-feedback\\\">\\r\\n                        <div *ngIf=\\\"f.lastName.errors.required\\\">{{'The field is required' | translate}}!</div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group col mt-3\\\">\\r\\n                    <ion-input formControlName=\\\"username\\\" type=\\\"text\\\" class=\\\"form-control\\\" [placeholder]='\\\"Email\\\" | translate' [ngClass]=\\\"{ 'is-invalid': submitted && f.username.errors }\\\"></ion-input>\\r\\n\\r\\n                    <div *ngIf=\\\"submitted && f.username.errors\\\" class=\\\"invalid-feedback\\\">\\r\\n                        <div *ngIf=\\\"f.username.errors.required\\\">{{'The field is required' | translate}}!</div>\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"form-group col mt-3\\\">\\r\\n                    <ion-input formControlName=\\\"phone\\\" type=\\\"text\\\" class=\\\"form-control\\\" [placeholder]='\\\"Phone Number\\\" | translate' [ngClass]=\\\"{ 'is-invalid': submitted && f.phone.errors }\\\">\\r\\n                    </ion-input>\\r\\n                    <div *ngIf=\\\"submitted && f.phone.errors\\\" class=\\\"invalid-feedback\\\">\\r\\n                        <div *ngIf=\\\"f.phone.errors.required\\\">{{'The field is required' | translate}}!</div>\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"form-group col mt-3\\\">\\r\\n                    <ion-input formControlName=\\\"password\\\" type=\\\"password\\\" class=\\\"form-control\\\" [placeholder]='\\\"Password\\\" | translate' [ngClass]=\\\"{ 'is-invalid': submitted && f.password.errors }\\\">\\r\\n                    </ion-input>\\r\\n                    <div *ngIf=\\\"submitted && f.password.errors\\\" class=\\\"invalid-feedback\\\">\\r\\n                        <div *ngIf=\\\"f.password.errors.required\\\">{{'The field is required' | translate}}!</div>\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"form-group col mt-3\\\">\\r\\n                    <ion-input formControlName=\\\"confirmPassword\\\" type=\\\"password\\\" class=\\\"form-control\\\" [placeholder]='\\\"Confirm Password\\\" | translate' [ngClass]=\\\"{ 'is-invalid': submitted && f.confirmPassword.errors }\\\">\\r\\n                    </ion-input>\\r\\n                    <div *ngIf=\\\"submitted && f.confirmPassword.errors\\\" class=\\\"invalid-feedback\\\">\\r\\n                        <div *ngIf=\\\"f.confirmPassword.errors.required\\\">{{'The field is required' | translate}}!</div>\\r\\n                        <div *ngIf=\\\"f.confirmPassword.errors.confirmedValidator\\\">{{'Password should match' | translate}}!</div>\\r\\n\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <!-- <div class=\\\"form-group col mt-3\\\">\\r\\n                    <ion-input formControlName=\\\"referral\\\" type=\\\"text\\\" class=\\\"form-control\\\" [placeholder]='\\\"Referral\\\" | translate'></ion-input>\\r\\n                </div> -->\\r\\n\\r\\n                <div class=\\\"col-md-12 mt-3\\\">\\r\\n                    <button type=\\\"submit\\\" class=\\\"btn btn-info\\\"> {{'Register' | translate}}</button>\\r\\n                </div>\\r\\n            </form>\\r\\n\\r\\n\\r\\n            <div class=\\\"col-md-6 mt-3\\\">\\r\\n                <p class=\\\"fonted\\\">{{'Already have an account' | translate}}?</p>\\r\\n                <button (click)=\\\"signIn()\\\" type=\\\"submit\\\" class=\\\"btn btn-warning\\\">{{'Sign in' | translate}}</button>\\r\\n\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n      </ion-text>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { RegisterPage } from './register.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RegisterPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class RegisterPageRoutingModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport * as signalR from '@aspnet/signalr';\r\nimport { AlertController, PopoverController } from '@ionic/angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { first } from 'rxjs/operators';\r\nimport { LanguagePopoverPage } from 'src/app/language-popover/language-popover.page';\r\nimport { environment } from 'src/environments/environment';\r\nimport { AccountService, AlertService } from 'src/_services';\r\nimport { DriverService } from 'src/_services/driver/driver.service';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.page.html',\r\n  styleUrls: ['./register.page.scss'],\r\n})\r\nexport class RegisterPage implements OnInit {\r\n  submitted = false;\r\n  loading = false;\r\n  form: FormGroup;\r\n  err = '';\r\n\r\n  constructor(private route: Router,\r\n    private formBuilder: FormBuilder,\r\n    private accountService: AccountService,\r\n    private alertService: AlertService,\r\n    private driverService: DriverService,\r\n    private translate: TranslateService,\r\n    private popoverController: PopoverController,\r\n    private alertController: AlertController) { this.translate.setDefaultLang('en'); }\r\n\r\n\r\n\r\n  ngOnInit() {\r\n    this.form = this.formBuilder.group({\r\n      firstName: ['', Validators.required],\r\n      lastName: ['', Validators.required],\r\n      username: ['', Validators.required],\r\n      password: ['', Validators.required],\r\n      confirmPassword: ['', Validators.required],\r\n      phone: ['', Validators.required],\r\n      referral: ['']\r\n\r\n    }, {\r\n      validators: this.ConfirmedValidator('password', 'confirmPassword')\r\n    })\r\n\r\n\r\n\r\n    const connection = new signalR.HubConnectionBuilder()\r\n      .configureLogging(signalR.LogLevel.Information)\r\n      .withUrl(`${environment.signalRUrl}/orderHub`)\r\n      .build();\r\n\r\n    connection.start().then(function () {\r\n      console.log('signalR Connected in register');\r\n    }).catch(function (err) {\r\n      return console.log(err.toString());\r\n    });\r\n\r\n\r\n  }\r\n\r\n  get f() { return this.form.controls; }\r\n\r\n  onSubmit() {\r\n    this.submitted = true;\r\n\r\n    if (!this.form.valid) {\r\n      return;\r\n    }\r\n\r\n    this.loading = true;\r\n    this.accountService.register(this.form.value)\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          // this.driverService.getDriverByReferral(this.form.value.referral)\r\n          // .subscribe(driver => {\r\n          //   if(driver){\r\n          //     this.driverService.lowerDriverCommission(driver.id)\r\n          //     .subscribe(x => {\r\n          //       console.log(x)\r\n          //     })\r\n          //   }else{\r\n          //     console.log('The referral does not exists!')\r\n\r\n          //   }\r\n          // })\r\n          this.presentAlert();\r\n          this.route.navigate(['menu/home']);\r\n          console.log(data)\r\n        },\r\n        error => {\r\n\r\n          console.log(error.error);\r\n          this.err = error.error;\r\n\r\n          this.loading = false;\r\n        }\r\n      )\r\n  }\r\n\r\n  signIn() {\r\n    this.route.navigate(['menu/home']);\r\n  }\r\n\r\n  goBack() {\r\n    this.route.navigate(['menu/home']);\r\n  }\r\n\r\n  async openLanguagePopover(ev) {\r\n    const popover = await this.popoverController.create({\r\n      component: LanguagePopoverPage,\r\n      event: ev\r\n    });\r\n    await popover.present();\r\n  }\r\n\r\n  ConfirmedValidator(controlName: string, matchingControlName: string) {\r\n    return (formGroup: FormGroup) => {\r\n      const control = formGroup.controls[controlName];\r\n      const matchingControl = formGroup.controls[matchingControlName];\r\n      if (matchingControl.errors && !matchingControl.errors.confirmedValidator) {\r\n        return;\r\n      }\r\n      if (control.value !== matchingControl.value) {\r\n        matchingControl.setErrors({ confirmedValidator: true });\r\n      } else {\r\n        matchingControl.setErrors(null);\r\n      }\r\n    }\r\n  }\r\n\r\n  async presentAlert() {\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      header: 'Successfull registration',\r\n      message: 'Log in and book a car.',\r\n      buttons: ['OK']\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}