(self.webpackChunkcsharpcornerauthor=self.webpackChunkcsharpcornerauthor||[]).push([[7709],{7709:function(e,r,o){"use strict";o.r(r),o.d(r,{HttpLoaderFactory:function(){return Y},RegisterPageModule:function(){return O}});var t=o(8583),n=o(3679),i=o(7823),s=o(4481),a=o(4762),l=o(4426),c=o(8049),d=o(6522),u=o(2340),f=o(3018),g=o(5056),p=o(1799),m=o(7800);function Z(e,r){if(1&e&&(f.TgZ(0,"ion-text",24),f.TgZ(1,"div",25),f._uU(2),f.qZA(),f.qZA()),2&e){const e=f.oxw();f.xp6(2),f.Oqu(e.err)}}function h(e,r){1&e&&(f.TgZ(0,"div"),f._uU(1),f.ALo(2,"translate"),f.qZA()),2&e&&(f.xp6(1),f.hij("",f.lcZ(2,1,"The field is required"),"!"))}function v(e,r){if(1&e&&(f.TgZ(0,"div",26),f.YNc(1,h,3,3,"div",27),f.qZA()),2&e){const e=f.oxw();f.xp6(1),f.Q6J("ngIf",e.f.firstName.errors.required)}}function q(e,r){1&e&&(f.TgZ(0,"div"),f._uU(1),f.ALo(2,"translate"),f.qZA()),2&e&&(f.xp6(1),f.hij("",f.lcZ(2,1,"The field is required"),"!"))}function A(e,r){if(1&e&&(f.TgZ(0,"div",26),f.YNc(1,q,3,3,"div",27),f.qZA()),2&e){const e=f.oxw();f.xp6(1),f.Q6J("ngIf",e.f.lastName.errors.required)}}function x(e,r){1&e&&(f.TgZ(0,"div"),f._uU(1),f.ALo(2,"translate"),f.qZA()),2&e&&(f.xp6(1),f.hij("",f.lcZ(2,1,"The field is required"),"!"))}function b(e,r){if(1&e&&(f.TgZ(0,"div",26),f.YNc(1,x,3,3,"div",27),f.qZA()),2&e){const e=f.oxw();f.xp6(1),f.Q6J("ngIf",e.f.username.errors.required)}}function T(e,r){1&e&&(f.TgZ(0,"div"),f._uU(1),f.ALo(2,"translate"),f.qZA()),2&e&&(f.xp6(1),f.hij("",f.lcZ(2,1,"The field is required"),"!"))}function C(e,r){if(1&e&&(f.TgZ(0,"div",26),f.YNc(1,T,3,3,"div",27),f.qZA()),2&e){const e=f.oxw();f.xp6(1),f.Q6J("ngIf",e.f.phone.errors.required)}}function w(e,r){1&e&&(f.TgZ(0,"div"),f._uU(1),f.ALo(2,"translate"),f.qZA()),2&e&&(f.xp6(1),f.hij("",f.lcZ(2,1,"The field is required"),"!"))}function N(e,r){if(1&e&&(f.TgZ(0,"div",26),f.YNc(1,w,3,3,"div",27),f.qZA()),2&e){const e=f.oxw();f.xp6(1),f.Q6J("ngIf",e.f.password.errors.required)}}function I(e,r){1&e&&(f.TgZ(0,"div"),f._uU(1),f.ALo(2,"translate"),f.qZA()),2&e&&(f.xp6(1),f.hij("",f.lcZ(2,1,"The field is required"),"!"))}function J(e,r){1&e&&(f.TgZ(0,"div"),f._uU(1),f.ALo(2,"translate"),f.qZA()),2&e&&(f.xp6(1),f.hij("",f.lcZ(2,1,"Password should match"),"!"))}function _(e,r){if(1&e&&(f.TgZ(0,"div",26),f.YNc(1,I,3,3,"div",27),f.YNc(2,J,3,3,"div",27),f.qZA()),2&e){const e=f.oxw();f.xp6(1),f.Q6J("ngIf",e.f.confirmPassword.errors.required),f.xp6(1),f.Q6J("ngIf",e.f.confirmPassword.errors.confirmedValidator)}}const L=function(e){return{"is-invalid":e}},P=[{path:"",component:(()=>{class e{constructor(e,r,o,t,n,i,s){this.route=e,this.formBuilder=r,this.accountService=o,this.driverService=t,this.translate=n,this.popoverController=i,this.alertController=s,this.submitted=!1,this.loading=!1,this.err="",this.translate.setDefaultLang("en")}ngOnInit(){this.form=this.formBuilder.group({firstName:["",n.kI.required],lastName:["",n.kI.required],username:["",n.kI.required],password:["",n.kI.required],confirmPassword:["",n.kI.required],phone:["",n.kI.required],referral:[""]},{validators:this.ConfirmedValidator("password","confirmPassword")}),(new l.su).configureLogging(l.in.Information).withUrl(`${u.N.signalRUrl}/orderHub`).build().start().then(function(){console.log("signalR Connected in register")}).catch(function(e){return console.log(e.toString())})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.form.valid&&(this.loading=!0,this.accountService.register(this.form.value).pipe((0,c.P)()).subscribe(e=>{this.presentAlert(),this.route.navigate(["menu/home"]),console.log(e)},e=>{console.log(e.error),this.err=e.error,this.loading=!1}))}signIn(){this.route.navigate(["menu/home"])}goBack(){this.route.navigate(["menu/home"])}openLanguagePopover(e){return(0,a.mG)(this,void 0,void 0,function*(){const r=yield this.popoverController.create({component:d.m,event:e});yield r.present()})}ConfirmedValidator(e,r){return o=>{const t=o.controls[r];t.errors&&!t.errors.confirmedValidator||t.setErrors(o.controls[e].value!==t.value?{confirmedValidator:!0}:null)}}presentAlert(){return(0,a.mG)(this,void 0,void 0,function*(){const e=yield this.alertController.create({cssClass:"my-custom-class",header:"Successfull registration",message:"Log in and book a car.",buttons:["OK"]});yield e.present()})}}return e.\u0275fac=function(r){return new(r||e)(f.Y36(s.F0),f.Y36(n.qu),f.Y36(g.B),f.Y36(p.F),f.Y36(m.sK),f.Y36(i.Dh),f.Y36(i.Br))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-register"]],decls:53,vars:56,consts:[["slot","start"],["slot","end"],["id","toolbarIcon","name","language-outline",3,"click"],["padding","",1,"background"],[1,"row"],[1,"col"],["color","dark",1,"text-center"],[1,"row","text-center"],["novalidate","",1,"col-md-6",3,"formGroup","ngSubmit"],["color","danger",4,"ngIf"],[1,"form-group","col","mt-5"],["formControlName","firstName","type","text",1,"form-control",3,"placeholder","ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"form-group","col","mt-3"],["formControlName","lastName","type","text",1,"form-control",3,"placeholder","ngClass"],["formControlName","username","type","text",1,"form-control",3,"placeholder","ngClass"],["formControlName","phone","type","text",1,"form-control",3,"placeholder","ngClass"],["formControlName","password","type","password",1,"form-control",3,"placeholder","ngClass"],["formControlName","confirmPassword","type","password",1,"form-control",3,"placeholder","ngClass"],[1,"col-md-12","mt-3"],["type","submit",1,"btn","btn-info"],[1,"col-md-6","mt-3"],[1,"fonted"],["type","submit",1,"btn","btn-warning",3,"click"],["color","danger"],[1,"text-center"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,r){1&e&&(f.TgZ(0,"ion-header"),f.TgZ(1,"ion-toolbar"),f.TgZ(2,"ion-buttons",0),f._UZ(3,"ion-menu-button"),f.qZA(),f.TgZ(4,"ion-title"),f.TgZ(5,"ion-label"),f._uU(6),f.ALo(7,"translate"),f.qZA(),f.qZA(),f.TgZ(8,"ion-buttons",1),f.TgZ(9,"ion-icon",2),f.NdJ("click",function(e){return r.openLanguagePopover(e)}),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(10,"ion-content",3),f.TgZ(11,"div",4),f.TgZ(12,"div",5),f._UZ(13,"div",4),f.TgZ(14,"ion-text",6),f.TgZ(15,"div",7),f.TgZ(16,"form",8),f.NdJ("ngSubmit",function(){return r.onSubmit()}),f.YNc(17,Z,3,1,"ion-text",9),f.TgZ(18,"div",10),f._UZ(19,"ion-input",11),f.ALo(20,"translate"),f.YNc(21,v,2,1,"div",12),f.qZA(),f.TgZ(22,"div",13),f._UZ(23,"ion-input",14),f.ALo(24,"translate"),f.YNc(25,A,2,1,"div",12),f.qZA(),f.TgZ(26,"div",13),f._UZ(27,"ion-input",15),f.ALo(28,"translate"),f.YNc(29,b,2,1,"div",12),f.qZA(),f.TgZ(30,"div",13),f._UZ(31,"ion-input",16),f.ALo(32,"translate"),f.YNc(33,C,2,1,"div",12),f.qZA(),f.TgZ(34,"div",13),f._UZ(35,"ion-input",17),f.ALo(36,"translate"),f.YNc(37,N,2,1,"div",12),f.qZA(),f.TgZ(38,"div",13),f._UZ(39,"ion-input",18),f.ALo(40,"translate"),f.YNc(41,_,3,2,"div",12),f.qZA(),f.TgZ(42,"div",19),f.TgZ(43,"button",20),f._uU(44),f.ALo(45,"translate"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(46,"div",21),f.TgZ(47,"p",22),f._uU(48),f.ALo(49,"translate"),f.qZA(),f.TgZ(50,"button",23),f.NdJ("click",function(){return r.signIn()}),f._uU(51),f.ALo(52,"translate"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&e&&(f.xp6(6),f.Oqu(f.lcZ(7,24,"Register")),f.xp6(10),f.Q6J("formGroup",r.form),f.xp6(1),f.Q6J("ngIf",r.err),f.xp6(2),f.Q6J("placeholder",f.lcZ(20,26,"First Name"))("ngClass",f.VKq(44,L,r.submitted&&r.f.firstName.errors)),f.xp6(2),f.Q6J("ngIf",r.submitted&&r.f.firstName.errors),f.xp6(2),f.Q6J("placeholder",f.lcZ(24,28,"Last Name"))("ngClass",f.VKq(46,L,r.submitted&&r.f.lastName.errors)),f.xp6(2),f.Q6J("ngIf",r.submitted&&r.f.lastName.errors),f.xp6(2),f.Q6J("placeholder",f.lcZ(28,30,"Email"))("ngClass",f.VKq(48,L,r.submitted&&r.f.username.errors)),f.xp6(2),f.Q6J("ngIf",r.submitted&&r.f.username.errors),f.xp6(2),f.Q6J("placeholder",f.lcZ(32,32,"Phone Number"))("ngClass",f.VKq(50,L,r.submitted&&r.f.phone.errors)),f.xp6(2),f.Q6J("ngIf",r.submitted&&r.f.phone.errors),f.xp6(2),f.Q6J("placeholder",f.lcZ(36,34,"Password"))("ngClass",f.VKq(52,L,r.submitted&&r.f.password.errors)),f.xp6(2),f.Q6J("ngIf",r.submitted&&r.f.password.errors),f.xp6(2),f.Q6J("placeholder",f.lcZ(40,36,"Confirm Password"))("ngClass",f.VKq(54,L,r.submitted&&r.f.confirmPassword.errors)),f.xp6(2),f.Q6J("ngIf",r.submitted&&r.f.confirmPassword.errors),f.xp6(3),f.hij(" ",f.lcZ(45,38,"Confirm"),""),f.xp6(4),f.hij("",f.lcZ(49,40,"Already have an account"),"?"),f.xp6(3),f.Oqu(f.lcZ(52,42,"Sign in")))},directives:[i.Gu,i.sr,i.Sm,i.fG,i.wd,i.Q$,i.gu,i.W2,i.yW,n.Y7,n.JL,n.sg,t.O5,i.pK,i.j9,n.JJ,n.u,t.mk],pipes:[m.X$],styles:["ion-content[_ngcontent-%COMP%]{--ion-background-color:#e9e9e9}ion-toolbar[_ngcontent-%COMP%]{--ion-background-color:#eee}ion-title[_ngcontent-%COMP%]{text-align:center}#toolbarIcon[_ngcontent-%COMP%]{font-size:1.7em}.fonted[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{font-family:Open Sans Light}.text[_ngcontent-%COMP%]{font-size:2.4em}.reg[_ngcontent-%COMP%]{margin-top:20px}ion-input[_ngcontent-%COMP%]{border-radius:20px}"]}),e})()}];let k=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[s.Bz.forChild(P)],s.Bz]}),e})();var U=o(1841),y=o(2472),Q=o(3577);function Y(e){return new y.w(e)}let O=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[t.ez,n.UX,n.u5,i.Pc,k,m.aw.forChild({loader:{provide:m.Zw,useFactory:Y,deps:[U.eN]}}),Q.LanguagePopoverPageModule]]}),e})()}}]);