!function(){function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"2w85":function(n,t,o){"use strict";o.r(t),o.d(t,"HttpLoaderFactory",function(){return _}),o.d(t,"RegisterPageModule",function(){return A});var i=o("ofXK"),a=o("3Pt+"),s=o("TEn/"),c=o("tyNb"),b=o("mrSG"),d=o("Gpoy"),l=o("SxV6"),u=o("oXKM"),f=o("AytR"),m=o("fXoL"),p=o("8Xdb"),g=o("exMm"),v=o("sYmb");function h(e,r){if(1&e&&(m.Nb(0,"ion-text",24),m.Nb(1,"div",25),m.pc(2),m.Mb(),m.Mb()),2&e){var n=m.Xb();m.zb(2),m.qc(n.err)}}function N(e,r){1&e&&(m.Nb(0,"div"),m.pc(1),m.Yb(2,"translate"),m.Mb()),2&e&&(m.zb(1),m.rc("",m.Zb(2,1,"The field is required"),"!"))}function M(e,r){if(1&e&&(m.Nb(0,"div",26),m.oc(1,N,3,3,"div",27),m.Mb()),2&e){var n=m.Xb();m.zb(1),m.dc("ngIf",n.f.firstName.errors.required)}}function w(e,r){1&e&&(m.Nb(0,"div"),m.pc(1),m.Yb(2,"translate"),m.Mb()),2&e&&(m.zb(1),m.rc("",m.Zb(2,1,"The field is required"),"!"))}function C(e,r){if(1&e&&(m.Nb(0,"div",26),m.oc(1,w,3,3,"div",27),m.Mb()),2&e){var n=m.Xb();m.zb(1),m.dc("ngIf",n.f.lastName.errors.required)}}function z(e,r){1&e&&(m.Nb(0,"div"),m.pc(1),m.Yb(2,"translate"),m.Mb()),2&e&&(m.zb(1),m.rc("",m.Zb(2,1,"The field is required"),"!"))}function y(e,r){if(1&e&&(m.Nb(0,"div",26),m.oc(1,z,3,3,"div",27),m.Mb()),2&e){var n=m.Xb();m.zb(1),m.dc("ngIf",n.f.username.errors.required)}}function P(e,r){1&e&&(m.Nb(0,"div"),m.pc(1),m.Yb(2,"translate"),m.Mb()),2&e&&(m.zb(1),m.rc("",m.Zb(2,1,"The field is required"),"!"))}function k(e,r){if(1&e&&(m.Nb(0,"div",26),m.oc(1,P,3,3,"div",27),m.Mb()),2&e){var n=m.Xb();m.zb(1),m.dc("ngIf",n.f.phone.errors.required)}}function I(e,r){1&e&&(m.Nb(0,"div"),m.pc(1),m.Yb(2,"translate"),m.Mb()),2&e&&(m.zb(1),m.rc("",m.Zb(2,1,"The field is required"),"!"))}function x(e,r){if(1&e&&(m.Nb(0,"div",26),m.oc(1,I,3,3,"div",27),m.Mb()),2&e){var n=m.Xb();m.zb(1),m.dc("ngIf",n.f.password.errors.required)}}function q(e,r){1&e&&(m.Nb(0,"div"),m.pc(1),m.Yb(2,"translate"),m.Mb()),2&e&&(m.zb(1),m.rc("",m.Zb(2,1,"The field is required"),"!"))}function L(e,r){1&e&&(m.Nb(0,"div"),m.pc(1),m.Yb(2,"translate"),m.Mb()),2&e&&(m.zb(1),m.rc("",m.Zb(2,1,"Password should match"),"!"))}function Y(e,r){if(1&e&&(m.Nb(0,"div",26),m.oc(1,q,3,3,"div",27),m.oc(2,L,3,3,"div",27),m.Mb()),2&e){var n=m.Xb();m.zb(1),m.dc("ngIf",n.f.confirmPassword.errors.required),m.zb(1),m.dc("ngIf",n.f.confirmPassword.errors.confirmedValidator)}}var Z,O,S=function(e){return{"is-invalid":e}},K=[{path:"",component:(Z=function(){function n(r,t,o,i,a,s,c,b){e(this,n),this.route=r,this.formBuilder=t,this.accountService=o,this.alertService=i,this.driverService=a,this.translate=s,this.popoverController=c,this.alertController=b,this.submitted=!1,this.loading=!1,this.err="",this.translate.setDefaultLang("en")}var t,o,i;return t=n,(o=[{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({firstName:["",a.n.required],lastName:["",a.n.required],username:["",a.n.required],password:["",a.n.required],confirmPassword:["",a.n.required],phone:["",a.n.required],referral:[""]},{validators:this.ConfirmedValidator("password","confirmPassword")}),(new d.b).configureLogging(d.c.Information).withUrl("".concat(f.a.signalRUrl,"/orderHub")).build().start().then(function(){console.log("signalR Connected in register")}).catch(function(e){return console.log(e.toString())})}},{key:"f",get:function(){return this.form.controls}},{key:"onSubmit",value:function(){var e=this;this.submitted=!0,this.form.valid&&(this.loading=!0,this.accountService.register(this.form.value).pipe(Object(l.a)()).subscribe(function(r){e.presentAlert(),e.route.navigate(["menu/home"]),console.log(r)},function(r){console.log(r.error),e.err=r.error,e.loading=!1}))}},{key:"signIn",value:function(){this.route.navigate(["menu/home"])}},{key:"goBack",value:function(){this.route.navigate(["menu/home"])}},{key:"openLanguagePopover",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.popoverController.create({component:u.a,event:e});case 2:return n=r.sent,r.next=5,n.present();case 5:case"end":return r.stop()}},r,this)}))}},{key:"ConfirmedValidator",value:function(e,r){return function(n){var t=n.controls[r];t.errors&&!t.errors.confirmedValidator||t.setErrors(n.controls[e].value!==t.value?{confirmedValidator:!0}:null)}}},{key:"presentAlert",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Successfull registration",message:"Log in and book a car.",buttons:["OK"]});case 2:return r=e.sent,e.next=5,r.present();case 5:case"end":return e.stop()}},e,this)}))}}])&&r(t.prototype,o),i&&r(t,i),n}(),Z.\u0275fac=function(e){return new(e||Z)(m.Kb(c.f),m.Kb(a.b),m.Kb(p.a),m.Kb(p.b),m.Kb(g.a),m.Kb(v.d),m.Kb(s.H),m.Kb(s.a))},Z.\u0275cmp=m.Eb({type:Z,selectors:[["app-register"]],decls:53,vars:56,consts:[["slot","start"],["slot","end"],["id","toolbarIcon","name","language-outline",3,"click"],["padding","",1,"background"],[1,"row"],[1,"col"],["color","dark",1,"text-center"],[1,"row","text-center"],["novalidate","",1,"col-md-6",3,"formGroup","ngSubmit"],["color","danger",4,"ngIf"],[1,"form-group","col","mt-5"],["formControlName","firstName","type","text",1,"form-control",3,"placeholder","ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"form-group","col","mt-3"],["formControlName","lastName","type","text",1,"form-control",3,"placeholder","ngClass"],["formControlName","username","type","text",1,"form-control",3,"placeholder","ngClass"],["formControlName","phone","type","text",1,"form-control",3,"placeholder","ngClass"],["formControlName","password","type","password",1,"form-control",3,"placeholder","ngClass"],["formControlName","confirmPassword","type","password",1,"form-control",3,"placeholder","ngClass"],[1,"col-md-12","mt-3"],["type","submit",1,"btn","btn-info"],[1,"col-md-6","mt-3"],[1,"fonted"],["type","submit",1,"btn","btn-warning",3,"click"],["color","danger"],[1,"text-center"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,r){1&e&&(m.Nb(0,"ion-header"),m.Nb(1,"ion-toolbar"),m.Nb(2,"ion-buttons",0),m.Lb(3,"ion-menu-button"),m.Mb(),m.Nb(4,"ion-title"),m.Nb(5,"ion-label"),m.pc(6),m.Yb(7,"translate"),m.Mb(),m.Mb(),m.Nb(8,"ion-buttons",1),m.Nb(9,"ion-icon",2),m.Vb("click",function(e){return r.openLanguagePopover(e)}),m.Mb(),m.Mb(),m.Mb(),m.Mb(),m.Nb(10,"ion-content",3),m.Nb(11,"div",4),m.Nb(12,"div",5),m.Lb(13,"div",4),m.Nb(14,"ion-text",6),m.Nb(15,"div",7),m.Nb(16,"form",8),m.Vb("ngSubmit",function(){return r.onSubmit()}),m.oc(17,h,3,1,"ion-text",9),m.Nb(18,"div",10),m.Lb(19,"ion-input",11),m.Yb(20,"translate"),m.oc(21,M,2,1,"div",12),m.Mb(),m.Nb(22,"div",13),m.Lb(23,"ion-input",14),m.Yb(24,"translate"),m.oc(25,C,2,1,"div",12),m.Mb(),m.Nb(26,"div",13),m.Lb(27,"ion-input",15),m.Yb(28,"translate"),m.oc(29,y,2,1,"div",12),m.Mb(),m.Nb(30,"div",13),m.Lb(31,"ion-input",16),m.Yb(32,"translate"),m.oc(33,k,2,1,"div",12),m.Mb(),m.Nb(34,"div",13),m.Lb(35,"ion-input",17),m.Yb(36,"translate"),m.oc(37,x,2,1,"div",12),m.Mb(),m.Nb(38,"div",13),m.Lb(39,"ion-input",18),m.Yb(40,"translate"),m.oc(41,Y,3,2,"div",12),m.Mb(),m.Nb(42,"div",19),m.Nb(43,"button",20),m.pc(44),m.Yb(45,"translate"),m.Mb(),m.Mb(),m.Mb(),m.Nb(46,"div",21),m.Nb(47,"p",22),m.pc(48),m.Yb(49,"translate"),m.Mb(),m.Nb(50,"button",23),m.Vb("click",function(){return r.signIn()}),m.pc(51),m.Yb(52,"translate"),m.Mb(),m.Mb(),m.Mb(),m.Mb(),m.Mb(),m.Mb(),m.Mb()),2&e&&(m.zb(6),m.qc(m.Zb(7,24,"Register")),m.zb(10),m.dc("formGroup",r.form),m.zb(1),m.dc("ngIf",r.err),m.zb(2),m.dc("placeholder",m.Zb(20,26,"First Name"))("ngClass",m.gc(44,S,r.submitted&&r.f.firstName.errors)),m.zb(2),m.dc("ngIf",r.submitted&&r.f.firstName.errors),m.zb(2),m.dc("placeholder",m.Zb(24,28,"Last Name"))("ngClass",m.gc(46,S,r.submitted&&r.f.lastName.errors)),m.zb(2),m.dc("ngIf",r.submitted&&r.f.lastName.errors),m.zb(2),m.dc("placeholder",m.Zb(28,30,"Email"))("ngClass",m.gc(48,S,r.submitted&&r.f.username.errors)),m.zb(2),m.dc("ngIf",r.submitted&&r.f.username.errors),m.zb(2),m.dc("placeholder",m.Zb(32,32,"Phone Number"))("ngClass",m.gc(50,S,r.submitted&&r.f.phone.errors)),m.zb(2),m.dc("ngIf",r.submitted&&r.f.phone.errors),m.zb(2),m.dc("placeholder",m.Zb(36,34,"Password"))("ngClass",m.gc(52,S,r.submitted&&r.f.password.errors)),m.zb(2),m.dc("ngIf",r.submitted&&r.f.password.errors),m.zb(2),m.dc("placeholder",m.Zb(40,36,"Confirm Password"))("ngClass",m.gc(54,S,r.submitted&&r.f.confirmPassword.errors)),m.zb(2),m.dc("ngIf",r.submitted&&r.f.confirmPassword.errors),m.zb(3),m.rc(" ",m.Zb(45,38,"Confirm"),""),m.zb(4),m.rc("",m.Zb(49,40,"Already have an account"),"?"),m.zb(3),m.qc(m.Zb(52,42,"Sign in")))},directives:[s.l,s.B,s.e,s.s,s.A,s.p,s.m,s.i,s.z,a.o,a.i,a.d,i.l,s.n,s.K,a.h,a.c,i.j],pipes:[v.c],styles:["ion-content[_ngcontent-%COMP%]{--ion-background-color:#e9e9e9}ion-toolbar[_ngcontent-%COMP%]{--ion-background-color:#eee}ion-title[_ngcontent-%COMP%]{text-align:center}#toolbarIcon[_ngcontent-%COMP%]{font-size:1.7em}.fonted[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{font-family:Open Sans Light}.text[_ngcontent-%COMP%]{font-size:2.4em}.reg[_ngcontent-%COMP%]{margin-top:20px}ion-input[_ngcontent-%COMP%]{border-radius:20px}"]}),Z)}],X=((O=function r(){e(this,r)}).\u0275fac=function(e){return new(e||O)},O.\u0275mod=m.Ib({type:O}),O.\u0275inj=m.Hb({imports:[[c.h.forChild(K)],c.h]}),O),V=o("tk/3"),R=o("mqiu"),T=o("QhVT");function _(e){return new R.a(e)}var j,A=((j=function r(){e(this,r)}).\u0275fac=function(e){return new(e||j)},j.\u0275mod=m.Ib({type:j}),j.\u0275inj=m.Hb({imports:[[i.b,a.l,a.e,s.C,X,v.b.forChild({loader:{provide:v.a,useFactory:_,deps:[V.a]}}),T.LanguagePopoverPageModule]]}),j)}}])}();