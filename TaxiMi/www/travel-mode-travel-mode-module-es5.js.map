{"version":3,"sources":["webpack:///src/app/travel-mode/travel-mode-routing.module.ts","webpack:///src/app/travel-mode/travel-mode.page.scss","webpack:///src/app/travel-mode/travel-mode.page.html","webpack:///src/app/travel-mode/travel-mode.page.ts","webpack:///src/app/travel-mode/travel-mode.module.ts"],"names":["routes","path","component","TravelModePageRoutingModule","imports","forChild","exports","Geolocation","LocalNotifications","TravelModePage","route","orderService","accountService","tripService","driverService","alertController","chatService","translate","popoverController","callNumber","user","userValue","driverId","carModel","carColor","firstName","lastName","messages","chatStyle","subscriptions","maxTime","msgDto","msgInboxArray","setDefaultLang","choosenLanguage","checkorder","retrieveMappedObject","subscribe","receivedObj","addToInbox","connection","configureLogging","Information","withUrl","signalRUrl","build","start","then","console","log","err","setTimeout","on","orderId","push","getOrderById","order","id","status","presentOrderAcceptedNotification","getMyOrder","canceledOrder","x","getDriver","driver","loadMap","mapRef","applicationUserId","isDriverArrived","presentDriverArrivedNotification","alertTriggered","updateAlert","timer","Date","seconds","startTimer","completedOrderAlert","data","stop","totalPrice","orderStatus","orderAcceptedBy","acceptedBy","currentOrderId","location","destination","Math","round","orderTotalPrice","toFixed","estimatedDuration","eta","getUserById","getAcceptedTrip","error","startTime","setInterval","secsDiff","increaseOrderPrice","getTime","floor","schedule","notifications","title","body","document","getElementById","style","display","text","length","window","alert","broadcastMessage","obj","newObj","getById","userData","phoneNumber","phone","getDriverActiveCar","car","model","color","toString","res","userId","getTrip","tripStatus","currentTrip","locationLat","locationLong","destinationLat","destinationLong","addToFavourites","successAddedFavourite","driverLatLng","lat","currentLocationLat","lng","currentLocationLong","options","center","google","maps","LatLng","zoom","disableDefaultUI","map","Map","nativeElement","icon","url","scaledSize","Size","anchor","y","marker","Marker","position","alertForCancel","create","header","message","buttons","handler","trip","cancelTrip","updateDriving","isDrivingNow","deleteOrder","navigate","role","popup","present","ev","event","popover","cssClass","voteUp","reload","voteDown","read","selector","template","HttpLoaderFactory","http","TravelModePageModule","loader","provide","useFactory","deps","providers","declarations"],"mappings":"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","file":"travel-mode-travel-mode-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { TravelModePage } from './travel-mode.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: TravelModePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class TravelModePageRoutingModule {}\r\n","export default \"ion-content {\\n  --ion-background-color:#353535;\\n}\\n\\nion-toolbar {\\n  --ion-background-color:#eeeeee;\\n}\\n\\nion-title {\\n  text-align: center;\\n}\\n\\n#marker {\\n  position: absolute;\\n  /*url of the marker*/\\n  background: url(http://maps.gstatic.com/mapfiles/markers2/marker.png) no-repeat;\\n  /*center the marker*/\\n  top: 50%;\\n  left: 50%;\\n  z-index: 1;\\n  /*fix offset when needed*/\\n  margin-left: -10px;\\n  margin-top: -34px;\\n  /*size of the image*/\\n  height: 34px;\\n  width: 20px;\\n  cursor: pointer;\\n}\\n\\n#map {\\n  height: 100%;\\n  width: 100%;\\n}\\n\\n#toolbarIcon {\\n  font-size: 1.7em;\\n}\\n\\n.centered {\\n  text-align: center;\\n}\\n\\n.textTravel {\\n  font-size: 1.5em;\\n  font-family: Open Sans Light;\\n}\\n\\n.text {\\n  font-size: 2.4em;\\n  font-family: Open Sans Light;\\n}\\n\\ni {\\n  color: #eeeeee;\\n}\\n\\n.my-custom-class {\\n  --background: #e5e5e5;\\n}\\n\\n.checkbox-icon {\\n  color: white;\\n}\\n\\nion-checkbox {\\n  --border-color: #FFFFFF;\\n}\\n\\nion-select {\\n  color: #383838;\\n  background-color: white;\\n  border-radius: 10px;\\n  border: 3px solid #eeeeee;\\n}\\n\\n.blink_me {\\n  -webkit-animation: blinker 1s linear infinite;\\n          animation: blinker 1s linear infinite;\\n}\\n\\n@-webkit-keyframes blinker {\\n  50% {\\n    opacity: 0;\\n  }\\n}\\n\\n@keyframes blinker {\\n  50% {\\n    opacity: 0;\\n  }\\n}\\n\\n.backIcon {\\n  color: #ffae00;\\n  font-size: 150%;\\n}\\n\\n.back {\\n  color: #ffae00;\\n}\\n\\n.fonted {\\n  font-family: Open Sans Light;\\n}\\n\\n.msg-box {\\n  width: 100%;\\n  height: 140px;\\n  padding: 10px 30px;\\n  font-size: 14px;\\n  font-family: Open Sans Light;\\n  overflow: auto;\\n}\\n\\n.msg-box ul {\\n  margin: -5px;\\n  list-style: none;\\n}\\n\\n.msg-box ul .ex-msg {\\n  text-align: right;\\n}\\n\\n.msg-box ul .in-msg {\\n  text-align: left;\\n  margin-left: -60px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXHRyYXZlbC1tb2RlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUVJLDhCQUFBO0FBQUo7O0FBR0E7RUFDSSw4QkFBQTtBQUFKOztBQUdBO0VBQ0ksa0JBQUE7QUFBSjs7QUFHSTtFQUNJLGtCQUFBO0VBQ0Esb0JBQUE7RUFDQSwrRUFBQTtFQUNBLG9CQUFBO0VBQ0EsUUFBQTtFQUFRLFNBQUE7RUFFUixVQUFBO0VBQ0EseUJBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0Esb0JBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUVBLGVBQUE7QUFEUjs7QUFJSTtFQUNBLFlBQUE7RUFDQSxXQUFBO0FBREo7O0FBSUE7RUFDSSxnQkFBQTtBQURKOztBQUtBO0VBQ0ksa0JBQUE7QUFGSjs7QUFLQTtFQUNJLGdCQUFBO0VBQ0EsNEJBQUE7QUFGSjs7QUFLQTtFQUNJLGdCQUFBO0VBQ0EsNEJBQUE7QUFGSjs7QUFNQTtFQUNJLGNBQUE7QUFISjs7QUFPQTtFQUNJLHFCQUFBO0FBSko7O0FBT0M7RUFDSSxZQUFBO0FBSkw7O0FBT0M7RUFDSSx1QkFBQTtBQUpMOztBQU9BO0VBQ0ksY0FBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSx5QkFBQTtBQUpKOztBQU9BO0VBQ0ksNkNBQUE7VUFBQSxxQ0FBQTtBQUpKOztBQU9FO0VBQ0U7SUFDRSxVQUFBO0VBSko7QUFDRjs7QUFDRTtFQUNFO0lBQ0UsVUFBQTtFQUpKO0FBQ0Y7O0FBT0E7RUFDSSxjQUFBO0VBQ0EsZUFBQTtBQUxKOztBQVFBO0VBQ0ksY0FBQTtBQUxKOztBQVFBO0VBQ0ksNEJBQUE7QUFMSjs7QUFTQTtFQUNJLFdBQUE7RUFDQSxhQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsNEJBQUE7RUFDQSxjQUFBO0FBTko7O0FBUUk7RUFDSSxZQUFBO0VBRUEsZ0JBQUE7QUFQUjs7QUFRUTtFQUNJLGlCQUFBO0FBTlo7O0FBU1E7RUFDSSxnQkFBQTtFQUNBLGtCQUFBO0FBUFoiLCJmaWxlIjoidHJhdmVsLW1vZGUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnR7XHJcbiAgICAvLy0tYmFja2dyb3VuZDogdXJsKC4uLy4uL2Fzc2V0cy93cDQ3OTI3ODAtZGFyay1waG9uZS13YWxscGFwZXJzLmpwZykgMCAwLzEwMCUgMTAwJSBuby1yZXBlYXQ7XHJcbiAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiMzNTM1MzU7XHJcbn1cclxuXHJcbmlvbi10b29sYmFye1xyXG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjojZWVlZWVlO1xyXG59XHJcblxyXG5pb24tdGl0bGUge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4gICAgI21hcmtlcntcclxuICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcclxuICAgICAgICAvKnVybCBvZiB0aGUgbWFya2VyKi9cclxuICAgICAgICBiYWNrZ3JvdW5kOnVybChodHRwOi8vbWFwcy5nc3RhdGljLmNvbS9tYXBmaWxlcy9tYXJrZXJzMi9tYXJrZXIucG5nKSBuby1yZXBlYXQ7XHJcbiAgICAgICAgLypjZW50ZXIgdGhlIG1hcmtlciovXHJcbiAgICAgICAgdG9wOjUwJTtsZWZ0OjUwJTtcclxuICAgICAgXHJcbiAgICAgICAgei1pbmRleDoxO1xyXG4gICAgICAgIC8qZml4IG9mZnNldCB3aGVuIG5lZWRlZCovXHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6LTEwcHg7XHJcbiAgICAgICAgbWFyZ2luLXRvcDotMzRweDtcclxuICAgICAgICAvKnNpemUgb2YgdGhlIGltYWdlKi9cclxuICAgICAgICBoZWlnaHQ6MzRweDtcclxuICAgICAgICB3aWR0aDoyMHB4O1xyXG4gICAgICBcclxuICAgICAgICBjdXJzb3I6cG9pbnRlcjtcclxuICAgICAgfVxyXG4gICAgXHJcbiAgICAjbWFwIHtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgfVxyXG5cclxuI3Rvb2xiYXJJY29ue1xyXG4gICAgZm9udC1zaXplOiAxLjdlbTtcclxufVxyXG5cclxuXHJcbi5jZW50ZXJlZHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLnRleHRUcmF2ZWx7XHJcbiAgICBmb250LXNpemU6IDEuNWVtO1xyXG4gICAgZm9udC1mYW1pbHk6IE9wZW4gU2FucyBMaWdodDtcclxufVxyXG5cclxuLnRleHR7ICBcclxuICAgIGZvbnQtc2l6ZTogMi40ZW07XHJcbiAgICBmb250LWZhbWlseTogT3BlbiBTYW5zIExpZ2h0O1xyXG59XHJcblxyXG5cclxuaXtcclxuICAgIGNvbG9yOiNlZWVlZWU7XHJcbn1cclxuXHJcblxyXG4ubXktY3VzdG9tLWNsYXNzIHtcclxuICAgIC0tYmFja2dyb3VuZDogI2U1ZTVlNTtcclxuICB9XHJcblxyXG4gLmNoZWNrYm94LWljb257XHJcbiAgICAgY29sb3I6d2hpdGU7XHJcbiB9XHJcblxyXG4gaW9uLWNoZWNrYm94e1xyXG4gICAgIC0tYm9yZGVyLWNvbG9yOiAjRkZGRkZGO1xyXG4gICB9XHJcblxyXG5pb24tc2VsZWN0e1xyXG4gICAgY29sb3I6IHJnYig1NiwgNTYsIDU2KTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIGJvcmRlcjogM3B4IHNvbGlkICNlZWVlZWU7XHJcbn1cclxuXHJcbi5ibGlua19tZSB7XHJcbiAgICBhbmltYXRpb246IGJsaW5rZXIgMXMgbGluZWFyIGluZmluaXRlO1xyXG4gIH1cclxuICBcclxuICBAa2V5ZnJhbWVzIGJsaW5rZXIge1xyXG4gICAgNTAlIHtcclxuICAgICAgb3BhY2l0eTogMDtcclxuICAgIH1cclxuICB9XHJcblxyXG4uYmFja0ljb24ge1xyXG4gICAgY29sb3I6IHJnYigyNTUsIDE3NCwgMCk7XHJcbiAgICBmb250LXNpemU6IDE1MCU7XHJcbn1cclxuXHJcbi5iYWNrIHtcclxuICAgIGNvbG9yOiByZ2IoMjU1LCAxNzQsIDApO1xyXG59XHJcblxyXG4uZm9udGVke1xyXG4gICAgZm9udC1mYW1pbHk6IE9wZW4gU2FucyBMaWdodDtcclxufVxyXG5cclxuXHJcbi5tc2ctYm94IHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxNDBweDtcclxuICAgIHBhZGRpbmc6IDEwcHggMzBweDtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIGZvbnQtZmFtaWx5OiBPcGVuIFNhbnMgTGlnaHQ7XHJcbiAgICBvdmVyZmxvdzogYXV0bztcclxuXHJcbiAgICB1bCB7XHJcbiAgICAgICAgbWFyZ2luOiAtNXB4O1xyXG5cclxuICAgICAgICBsaXN0LXN0eWxlOiBub25lO1xyXG4gICAgICAgIC5leC1tc2cge1xyXG4gICAgICAgICAgICB0ZXh0LWFsaWduOiByaWdodDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5pbi1tc2cge1xyXG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogLTYwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbn1cclxuXHJcblxyXG5cclxuIl19 */\";","export default \"<ion-content>\\r\\n  <ion-header>\\r\\n    <ion-toolbar>\\r\\n      <ion-buttons slot=\\\"start\\\">\\r\\n        <ion-menu-button></ion-menu-button>\\r\\n      </ion-buttons>\\r\\n\\r\\n\\r\\n      <ion-title>\\r\\n        <ion-label class=\\\"blink_me\\\">{{'Waiting for the car'| translate}}</ion-label>\\r\\n      </ion-title>\\r\\n\\r\\n      <ion-buttons slot=\\\"end\\\">\\r\\n        <ion-icon (click)='openLanguagePopover($event)' id=\\\"toolbarIcon\\\" name=\\\"language-outline\\\"></ion-icon>\\r\\n      </ion-buttons>\\r\\n    </ion-toolbar>\\r\\n  </ion-header>\\r\\n  <div #map id=\\\"map\\\"></div>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer>\\r\\n\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col\\\">\\r\\n      <div class=\\\"list-group\\\">\\r\\n\\r\\n        <a class=\\\"list-group-item list-group-item-action flex-column align-items-start\\\">\\r\\n          <p>{{firstName}} {{lastName}} {{'will arrive with' | translate}} {{carColor}}\\r\\n            {{carModel}} {{'in about'| translate}} {{estimatedDuration}}.</p>\\r\\n          <hr />\\r\\n          <p>\\r\\n            <ion-icon class=\\\"mr-2\\\" name=\\\"analytics-outline\\\"></ion-icon>{{destination}}\\r\\n          </p>\\r\\n          <hr />\\r\\n          <div class=\\\"d-flex w-100 justify-content-between\\\">\\r\\n            <p *ngIf=\\\"this.accountService.userValue.alertTriggered == true\\\">\\r\\n              Price: {{totalPrice}}$ | {{secsDiff * 1000 | date:'mm:ss' }}\\r\\n            </p>\\r\\n            <p *ngIf=\\\"this.accountService.userValue.alertTriggered == false\\\">\\r\\n              Price: {{totalPrice}}$\\r\\n            </p>\\r\\n            <button (click)=\\\"callDriver()\\\" class=\\\"fonted btn btn-warning mb-1\\\" (click)=\\\"clearMessages()\\\" type=\\\"button\\\"><ion-icon name=\\\"call\\\" class=\\\"mr-2\\\"></ion-icon>Call driver\\r\\n            </button>\\r\\n            \\r\\n          </div>\\r\\n          \\r\\n          <div class=\\\"d-flex w-100 justify-content-between\\\">\\r\\n            <button (click)=\\\"chat()\\\" class=\\\"fonted btn btn-secondary mr-1\\\" (click)=\\\"clearMessages()\\\" type=\\\"button\\\">\\r\\n              {{'Chat' | translate}}\\r\\n            </button>\\r\\n\\r\\n            <button class=\\\"fonted btn btn-info\\\" (click)=\\\"addToFavourite()\\\" type=\\\"button\\\">\\r\\n              {{'Add to favourites' | translate}}\\r\\n            </button>\\r\\n\\r\\n            <button *ngIf=\\\"this.tripStatus == 'Processing'\\\" (click)=\\\"cancelTrip()\\\" class=\\\"fonted btn btn-warning ml-1\\\" type=\\\"button\\\">\\r\\n              {{'Cancel' | translate}}\\r\\n            </button>\\r\\n          </div>\\r\\n          <br />\\r\\n          <ion-label class=\\\"blink_me fonted\\\" *ngIf=\\\"messages.length != 0  && chatStyle == 'none'\\\">\\r\\n            {{\\r\\n            'You have new message' |\\r\\n            translate\\r\\n            }}.\\r\\n          </ion-label>\\r\\n          <div id=\\\"chat\\\" style=\\\"display: none;\\\" class=\\\"row chat\\\">\\r\\n\\r\\n            <div class=\\\"col\\\">\\r\\n              <ion-card>\\r\\n        \\r\\n                <div class=\\\"msg-box\\\">\\r\\n                  <ul *ngIf=\\\"this.msgInboxArray.length == 0\\\" class=\\\"text-center mr-5\\\">\\r\\n                    <li class=\\\"fonted\\\">{{'No messages for now' | translate}}</li>\\r\\n                  </ul>\\r\\n                  <ul *ngFor=\\\"let mObj of msgInboxArray\\\">\\r\\n                    <li class=\\\"fonted\\\" [ngClass]=\\\"mObj.user === msgDto.user ? 'in-msg' : 'ex-msg'\\\">\\r\\n                      {{mObj.user}}:\\r\\n                      {{mObj.text}}\\r\\n                    </li>\\r\\n        \\r\\n                  </ul>\\r\\n                </div>\\r\\n              </ion-card>\\r\\n        \\r\\n              <ion-card class=\\\"type\\\">\\r\\n                <ion-item>\\r\\n                  <ion-input [(ngModel)]=\\\"msgDto.text\\\" [placeholder]='\\\"Type your message...\\\" | translate'>\\r\\n        \\r\\n                  </ion-input>\\r\\n                  <ion-icon (click)=\\\"send()\\\" name=\\\"send-outline\\\"></ion-icon>\\r\\n        \\r\\n                </ion-item>\\r\\n              </ion-card>\\r\\n            </div>\\r\\n        \\r\\n          </div>\\r\\n        </a>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <!-- <ion-text class=\\\"textTravel\\\">\\r\\n      {{'Your driver' | translate}} {{firstName}} {{lastName}} {{'will arrive with' | translate}} {{carColor}}\\r\\n      {{carModel}} {{'in about'| translate}} {{estimatedDuration}}\\r\\n      <p>\\r\\n        <small>Price: {{totalPrice}}$</small>\\r\\n        <br>\\r\\n        <small *ngIf=\\\"this.accountService.userValue.alertTriggered == true\\\">Free waiting time is 5 mins.</small>\\r\\n        <br>\\r\\n        <small *ngIf=\\\"this.accountService.userValue.alertTriggered == true\\\">{{secsDiff * 1000 | date:'mm:ss' }}</small>\\r\\n\\r\\n      </p>\\r\\n\\r\\n    </ion-text> -->\\r\\n</ion-footer>\\r\\n\\r\\n<!-- <ion-footer class=\\\"ion-no-border\\\">\\r\\n  <ion-toolbar class=\\\"text-center\\\">\\r\\n    <ion-title class=\\\"fonted\\\">{{'Your destination' | translate}}</ion-title>\\r\\n    <ion-label class=\\\"fonted\\\">{{destination}}</ion-label>\\r\\n    <ion-toolbar class=\\\"text-center\\\">\\r\\n        <button class=\\\"fonted btn btn-info\\\" (click)=\\\"addToFavourite()\\\" type=\\\"button\\\">\\r\\n            {{'Add to favourites' | translate}}\\r\\n        </button>\\r\\n        <button (click)=\\\"chat()\\\" class=\\\"fonted btn btn-secondary ml-1\\\" (click)=\\\"clearMessages()\\\" type=\\\"button\\\">\\r\\n            {{'Chat' | translate}}\\r\\n        </button>\\r\\n\\r\\n        <button (click)=\\\"cancelTrip()\\\" class=\\\"fonted btn btn-warning ml-1\\\" type=\\\"button\\\">\\r\\n            {{'Cancel' | translate}}\\r\\n        </button>\\r\\n        <br />\\r\\n        <ion-label class=\\\"blink_me fonted\\\" *ngIf=\\\"messages.length != 0  && chatStyle == 'none'\\\">\\r\\n            {{\\r\\n'You have new message' |\\r\\n        translate\\r\\n            }}.\\r\\n        </ion-label>\\r\\n    </ion-toolbar>\\r\\n\\r\\n  </ion-toolbar>\\r\\n\\r\\n  <div id=\\\"chat\\\" style=\\\"display: none;\\\" class=\\\"row chat\\\">\\r\\n\\r\\n    <div class=\\\"col\\\">\\r\\n      <ion-card>\\r\\n\\r\\n        <div class=\\\"msg-box\\\">\\r\\n          <ul *ngIf=\\\"this.msgInboxArray.length == 0\\\" class=\\\"text-center mr-5\\\">\\r\\n            <li class=\\\"fonted\\\">{{'No messages for now' | translate}}</li>\\r\\n          </ul>\\r\\n          <ul *ngFor=\\\"let mObj of msgInboxArray\\\">\\r\\n            <li class=\\\"fonted\\\" [ngClass]=\\\"mObj.user === msgDto.user ? 'in-msg' : 'ex-msg'\\\">\\r\\n              {{mObj.user}}:\\r\\n              {{mObj.text}}\\r\\n            </li>\\r\\n\\r\\n          </ul>\\r\\n        </div>\\r\\n      </ion-card>\\r\\n\\r\\n      <ion-card class=\\\"type\\\">\\r\\n        <ion-item>\\r\\n          <ion-input [(ngModel)]=\\\"msgDto.text\\\" [placeholder]='\\\"Type your message...\\\" | translate'>\\r\\n\\r\\n          </ion-input>\\r\\n          <ion-icon (click)=\\\"send()\\\" name=\\\"send-outline\\\"></ion-icon>\\r\\n\\r\\n        </ion-item>\\r\\n      </ion-card>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n</ion-footer> -->\";","import { Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport * as signalR from '@aspnet/signalr';\r\nimport { Plugins } from '@capacitor/core';\r\nimport { AlertController, PopoverController } from '@ionic/angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { title } from 'process';\r\nimport { Subscription } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Message, Order, Trip } from 'src/_models';\r\nimport { AccountService } from 'src/_services';\r\nimport { ChatService } from 'src/_services/chat/chat.service';\r\nimport { DriverService } from 'src/_services/driver/driver.service';\r\nimport { OrderService } from 'src/_services/order/order.service';\r\nimport { TripService } from 'src/_services/trip/trip.service';\r\nimport { LanguagePopoverPage } from '../language-popover/language-popover.page';\r\nimport { CallNumber } from '@ionic-native/call-number/ngx';\r\nconst { Geolocation, LocalNotifications } = Plugins;\r\ndeclare var google: any;\r\n\r\n@Component({\r\n  selector: 'app-travel-mode',\r\n  templateUrl: './travel-mode.page.html',\r\n  styleUrls: ['./travel-mode.page.scss'],\r\n})\r\nexport class TravelModePage implements OnInit {\r\n  public currentTrip: Trip;\r\n  private user = this.accountService.userValue;\r\n  private driverId = this.accountService.userValue.driverId;\r\n  private orderAcceptedBy: any;\r\n  isLoggedIn;\r\n  order: Order;\r\n  orderStatus: string;\r\n  tripStatus: string;\r\n  orderTotalPrice: any;\r\n  estimatedDuration: any;\r\n  //Car html properties;\r\n  carModel = \"\";\r\n  carColor = \"\";\r\n\r\n  //User html properties\r\n  firstName = \"\";\r\n  lastName = \"\";\r\n  phoneNumber: any;\r\n\r\n  location: string;\r\n  destination: string;\r\n  totalPrice: any;\r\n  messages = this.chatService.messages;\r\n  chatStyle = \"\";\r\n  isDriverArrived: any;\r\n  private subscriptions: Subscription[] = [];\r\n  maxTime: any = 30000;\r\n  startTime: any;\r\n  timer: any;\r\n  hidevalue: any;\r\n  minutes: any;\r\n  secsDiff: any;\r\n  seconds: any;\r\n  map: any;\r\n  @ViewChild('map', { read: ElementRef, static: false }) mapRef: ElementRef;\r\n\r\n  constructor(private route: Router,\r\n    private orderService: OrderService,\r\n    public accountService: AccountService,\r\n    private tripService: TripService,\r\n    private driverService: DriverService,\r\n    private alertController: AlertController,\r\n    private chatService: ChatService,\r\n    private translate: TranslateService,\r\n    private popoverController: PopoverController,\r\n    private callNumber: CallNumber) {\r\n    this.translate.setDefaultLang(this.accountService.userValue.choosenLanguage);\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n    this.checkorder();\r\n   \r\n\r\n    this.chatService.retrieveMappedObject()\r\n      .subscribe((receivedObj: Message) => { this.addToInbox(receivedObj); });\r\n\r\n    const connection = new signalR.HubConnectionBuilder()\r\n      .configureLogging(signalR.LogLevel.Information)\r\n      .withUrl(`${environment.signalRUrl}/orderHub`)\r\n      .build();\r\n\r\n    connection.start().then(function () {\r\n      console.log('signalR Connected in travel-mode');\r\n    }).catch(function (err) {\r\n      console.log(\"Reconnecting in 1 sec.\");\r\n      setTimeout(() => connection.start(), 1000);\r\n    });\r\n\r\n    connection.on('BroadcastMessage', () => {\r\n      console.log('broadcasted from travel-mode')\r\n    });\r\n\r\n    connection.on('StartTrip', () => {\r\n      this.checkorder();\r\n    });\r\n\r\n    connection.on('Navigate', () => {\r\n      this.checkorder();\r\n    });\r\n\r\n    connection.on('OrderAccepted', (orderId: string) => {\r\n      this.subscriptions.push(this.orderService.getOrderById(orderId)\r\n        .subscribe(order => {\r\n          if (order.id == this.order.id && order.status == 'Accepted') {\r\n            this.presentOrderAcceptedNotification();\r\n          }\r\n        }))\r\n    });\r\n\r\n    connection.on('OrderWaiting', (orderId) => {\r\n      this.subscriptions.push(this.orderService.getMyOrder(this.user.id)\r\n        .subscribe(order => {\r\n          if (order.id == orderId) {\r\n            this.canceledOrder();\r\n          }\r\n        }))\r\n    });\r\n\r\n    connection.on('LocateDriver', (driverId) => {\r\n      this.subscriptions.push(this.orderService.getMyOrder(this.user.id)\r\n        .subscribe(x => {\r\n          this.subscriptions.push(this.driverService.getDriver(driverId)\r\n            .subscribe(driver => {\r\n              if (driver.id == driverId) {\r\n                this.loadMap(this.mapRef, driver.applicationUserId);\r\n              }\r\n            }))\r\n        }))\r\n    });\r\n\r\n    connection.on('NotifyArrived', (orderId: string) => {\r\n      this.subscriptions.push(this.orderService.getOrderById(orderId)\r\n        .subscribe(order => {\r\n          if (order.isDriverArrived == true && this.order.id == orderId) {\r\n            this.presentDriverArrivedNotification();\r\n            this.accountService.userValue.alertTriggered = true;\r\n            this.subscriptions.push(this.accountService.updateAlert(this.user.id, true)\r\n              .subscribe(() => { }));\r\n\r\n            this.accountService.userValue.timer = new Date();\r\n            if (this.seconds == 60) {\r\n              this.seconds = 0;\r\n            }\r\n            this.startTimer();\r\n          }\r\n        }))\r\n    });\r\n\r\n\r\n    connection.on('CompleteOrder', (orderId: string) => {\r\n      if (this.order.id == orderId) {\r\n        this.completedOrderAlert();\r\n      }\r\n    });\r\n  }\r\n\r\n  // ionViewDidLeave() {\r\n  //   for (const subscription of this.subscriptions) {\r\n  //     console.log(subscription)\r\n  //     subscription.unsubscribe();\r\n  //   }\r\n  // }\r\n\r\n  ionViewDidEnter() {\r\n    this.checkorder();\r\n    if (this.accountService.userValue.alertTriggered == true) {\r\n      this.startTimer();\r\n    }\r\n  }\r\n\r\n  checkorder() {\r\n    this.subscriptions.push(this.orderService.getMyOrder(this.user.id)\r\n      .subscribe(data => {\r\n        if (data) {\r\n          this.chatService.stop();\r\n          this.chatService.start();\r\n          this.totalPrice = data.totalPrice;\r\n          this.orderStatus = data.status;\r\n          this.orderAcceptedBy = data.acceptedBy;\r\n          this.orderService.currentOrderId = data.id;\r\n          this.location = data.location;\r\n          this.destination = data.destination;\r\n          (Math.round(this.orderTotalPrice * 100) / 100).toFixed(2);\r\n          this.orderTotalPrice = data.totalPrice;\r\n          this.order = data;\r\n          this.estimatedDuration = data.eta;\r\n\r\n          if (data.acceptedBy != null) {\r\n            this.getUserById(data.acceptedBy);\r\n            this.getAcceptedTrip(data.acceptedBy);\r\n            this.driverId = data.acceptedBy;\r\n          }\r\n\r\n        } else {\r\n          this.accountService.userValue.alertTriggered = false;\r\n          this.subscriptions.push(this.accountService.updateAlert(this.user.id, false)\r\n            .subscribe(() => { }));\r\n          this.orderTotalPrice = 0;\r\n        }\r\n      },\r\n        error => {\r\n          console.log(error)\r\n        }))\r\n  }\r\n\r\n  startTimer() {\r\n    this.startTime = new Date(this.accountService.userValue.timer);\r\n    setInterval(() => {\r\n      if (this.secsDiff == 300) {\r\n        this.subscriptions.push(this.orderService.increaseOrderPrice(this.order.id, 1)\r\n          .subscribe(() => { }));\r\n        return;\r\n      }\r\n      this.secsDiff = new Date().getTime() - this.startTime.getTime();\r\n\r\n      this.secsDiff = Math.floor(this.secsDiff / 1000);\r\n    }, 1000);\r\n  }\r\n\r\n  async presentOrderAcceptedNotification() {\r\n    await LocalNotifications.schedule({\r\n      notifications: [\r\n        {\r\n          title: \"Order alert\",\r\n          body: \"Your order is accepted\",\r\n          id: 1,\r\n        }\r\n      ]\r\n    })\r\n\r\n\r\n  }\r\n\r\n  async presentDriverArrivedNotification() {\r\n    await LocalNotifications.schedule({\r\n      notifications: [\r\n        {\r\n          title: \"Order alert\",\r\n          body: \"Your driver is on the address\",\r\n          id: 2,\r\n        }\r\n      ]\r\n    })\r\n  }\r\n\r\n  //CHAT FUNCTIONALLITY\r\n  chat() {\r\n    var x = document.getElementById(\"chat\");\r\n\r\n    if (x.style.display === \"none\") {\r\n      x.style.display = \"block\";\r\n      this.chatStyle = 'block';\r\n    } else {\r\n      x.style.display = \"none\";\r\n      this.chatStyle = 'none';\r\n    }\r\n  }\r\n  msgDto: Message = new Message();\r\n  msgInboxArray: Message[] = [];\r\n\r\n  send(): void {\r\n    if (this.msgDto) {\r\n      if (this.msgDto.text.length == 0) {\r\n        window.alert(\"Text field is required.\");\r\n        return;\r\n      } else {\r\n        this.msgDto.user = `${this.accountService.userValue.firstName} ${this.accountService.userValue.lastName}`;\r\n        this.chatService.broadcastMessage(this.msgDto);                   // Send the message via a service\r\n      }\r\n    }\r\n  }\r\n\r\n  clearMessages() {\r\n    this.messages.length = 0;\r\n  }\r\n\r\n  addToInbox(obj: Message) {\r\n    let newObj = new Message();\r\n    newObj.user = obj.user;\r\n    newObj.text = obj.text;\r\n    this.msgInboxArray.push(newObj);\r\n    this.msgDto.text = '';\r\n  }\r\n\r\n\r\n\r\n  getUserById(driverId: string) {\r\n    this.subscriptions.push(this.accountService.getById(driverId)\r\n      .subscribe(userData => {\r\n        this.firstName = userData.firstName;\r\n        this.lastName = userData.lastName;\r\n        this.driverId = userData.driverId;\r\n        this.phoneNumber = userData.phone;\r\n        this.subscriptions.push(this.driverService.getDriverActiveCar(userData.driverId)\r\n          .subscribe(car => {\r\n            this.carModel = car.model;\r\n            this.carColor = car.color;\r\n          }))\r\n      }))\r\n  }\r\n\r\n  callDriver() {\r\n    let phone = this.phoneNumber.toString();\r\n    this.callNumber.callNumber(phone, true)\r\n      .then(res => console.log('Launched dialer!', res))\r\n      .catch(err => console.log('Error launching dialer', err));\r\n  }\r\n\r\n  //Get current trip to manage data.\r\n  getAcceptedTrip(userId: string) {\r\n    this.subscriptions.push(this.tripService.getTrip(userId)\r\n      .subscribe(x => {\r\n        if (x == null) {\r\n          console.log(\"No trip!\");\r\n          return;\r\n        }\r\n        this.tripStatus = x.status;\r\n        if (x.status == 'Started') {\r\n          this.accountService.userValue.alertTriggered = false;\r\n          this.subscriptions.push(this.accountService.updateAlert(this.user.id, false)\r\n            .subscribe(() => { }));\r\n        }\r\n        this.currentTrip = x;\r\n        this.loadMap(this.mapRef, userId);\r\n      }));\r\n  }\r\n\r\n  addToFavourite() {\r\n    let data = {\r\n      applicationUserId: this.order.applicationUserId,\r\n      location: this.order.location,\r\n      locationLat: this.order.locationLat,\r\n      locationLong: this.order.locationLong,\r\n      destination: this.order.destination,\r\n      destinationLat: this.order.destinationLat,\r\n      destinationLong: this.order.destinationLong,\r\n      totalPrice: this.order.totalPrice\r\n    };\r\n\r\n    if (data) {\r\n      this.subscriptions.push(this.orderService.addToFavourites(data)\r\n        .subscribe(() => {\r\n          this.successAddedFavourite();\r\n        }));\r\n\r\n    } else {\r\n      console.log('Problem with data occured')\r\n    }\r\n  }\r\n\r\n  //MAPS FUNCTIONALLITY\r\n  async loadMap(mapRef: ElementRef, driverId: string) {\r\n    this.subscriptions.push(this.accountService.getById(driverId)\r\n      .subscribe(driver => {\r\n        this.subscriptions.push(this.driverService.getDriver(driver.driverId)\r\n          .subscribe(data => {\r\n            const driverLatLng = { lat: +data.currentLocationLat, lng: +data.currentLocationLong };\r\n\r\n            const options: google.maps.MapOptions = {\r\n              center: new google.maps.LatLng(driverLatLng.lat, driverLatLng.lng),\r\n              zoom: 15,\r\n              disableDefaultUI: true,\r\n            };\r\n\r\n            if (mapRef != null) {\r\n              this.map = new google.maps.Map(mapRef.nativeElement, options);\r\n            }\r\n\r\n            var icon = {\r\n              url: 'https://images.vexels.com/media/users/3/154573/isolated/preview/bd08e000a449288c914d851cb9dae110-hatchback-car-top-view-silhouette-by-vexels.png',\r\n              scaledSize: new window.google.maps.Size(25, 25),\r\n              anchor: { x: 10, y: 10 }\r\n            };\r\n\r\n            var marker = new google.maps.Marker({\r\n              position: new google.maps.LatLng(driverLatLng),\r\n              icon: icon,\r\n              map: this.map\r\n            });\r\n          }))\r\n      }))\r\n  }\r\n\r\n  async cancelTrip() {\r\n    this.alertForCancel();\r\n  }\r\n\r\n  async alertForCancel() {\r\n    const popup = await this.alertController.create({\r\n      header: 'Are you sure you want to cancel the order?',\r\n      message: 'Your rating will decrease!',\r\n      buttons: [\r\n        {\r\n          text: 'Confirm',\r\n          handler: () => {\r\n            this.subscriptions.push(this.tripService.getTrip(this.orderAcceptedBy)\r\n              .subscribe(trip => {\r\n                this.subscriptions.push(this.tripService.cancelTrip(trip.id)\r\n                  .subscribe(x => {\r\n                    this.subscriptions.push(this.accountService.updateDriving(this.orderAcceptedBy, false)\r\n                      .subscribe(() => {\r\n                      }));\r\n                    this.accountService.userValue.isDrivingNow = false;\r\n                    this.subscriptions.push(this.orderService.deleteOrder(trip.orderId)\r\n                      .subscribe(() => this.route.navigate(['menu/travelling'])));\r\n\r\n                  }));\r\n              }))\r\n          }\r\n        },\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel'\r\n        }\r\n      ]\r\n    });\r\n    await popup.present();\r\n  }\r\n\r\n  async openLanguagePopover(ev) {\r\n    const popover = await this.popoverController.create({\r\n      component: LanguagePopoverPage,\r\n      event: ev\r\n    });\r\n    await popover.present();\r\n  }\r\n\r\n  //ALERTS\r\n  async completedOrderAlert() {\r\n    const popup = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      header: 'You have reached the final destination! Did you enjoyed the trip?',\r\n      //message: '<img src = \"../assets/default.png\" width=\"1px\" height=\"1px\">',\r\n\r\n      buttons: [\r\n        {\r\n          text: 'Yes',\r\n          role: 'cancel',\r\n          handler: () => {\r\n            this.subscriptions.push(this.driverService.voteUp(this.driverId)\r\n              .subscribe(x => { }));\r\n            this.route.navigate(['menu/travelling']);\r\n            window.location.reload();\r\n          }\r\n        },\r\n        {\r\n          text: 'No',\r\n          role: 'no',\r\n          handler: () => {\r\n            this.subscriptions.push(this.driverService.voteDown(this.driverId)\r\n              .subscribe(x => { }));\r\n            this.route.navigate(['menu/travelling']);\r\n            window.location.reload();\r\n          }\r\n        },\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n          handler: () => {\r\n            this.route.navigate(['menu/travelling']);\r\n            window.location.reload();\r\n          }\r\n        },\r\n        {\r\n          text: 'Report a problem',\r\n          role: 'cancel',\r\n          handler: () => {\r\n            this.route.navigate(['menu/report']);\r\n          },\r\n        }\r\n      ]\r\n    });\r\n    this.route.navigate(['menu/travelling']);\r\n\r\n    await popup.present();\r\n  }\r\n  async successAddedFavourite() {\r\n    const popup = await this.alertController.create({\r\n      header: 'Successfully added to favourites!',\r\n\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n        }\r\n      ]\r\n    });\r\n    await popup.present();\r\n  }\r\n\r\n  async canceledOrder() {\r\n    const popup = await this.alertController.create({\r\n      header: 'Order is cancelled by the driver.',\r\n\r\n      buttons: [\r\n        {\r\n          text: 'Ok',\r\n          handler: () => {\r\n            this.route.navigate(['menu/travelling']);\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await popup.present();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { TravelModePageRoutingModule } from './travel-mode-routing.module';\r\n\r\nimport { TravelModePage } from './travel-mode.page';\r\nimport { TranslateLoader, TranslateModule, TranslateService } from '@ngx-translate/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { LanguagePopoverPageModule } from '../language-popover/language-popover.module';\r\nimport { CallNumber } from '@ionic-native/call-number/ngx';\r\nexport function HttpLoaderFactory(http: HttpClient) {\r\n  return new TranslateHttpLoader(http);\r\n}\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TravelModePageRoutingModule,\r\n    TranslateModule.forChild({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: HttpLoaderFactory,\r\n        deps: [HttpClient]\r\n      }\r\n    }),\r\n    LanguagePopoverPageModule\r\n  ],\r\n  providers: [CallNumber],\r\n  declarations: [TravelModePage]\r\n})\r\nexport class TravelModePageModule {}\r\n"]}