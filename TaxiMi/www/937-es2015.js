(self.webpackChunkcsharpcornerauthor=self.webpackChunkcsharpcornerauthor||[]).push([[937],{297:function(e,t,r){"use strict";r.d(t,{p:function(){return h}});var i=r(205),s=r(5304),n=r(3342),o=r(2340),a=r(3018),c=r(1841),d=r(728);let h=(()=>{class e{constructor(e,t){this.http=e,this.sharedService=t,this.orders=[],this.completedOrder=!1}createOrder(e){const t=this.sharedService.headerGerneration();return this.http.post(`${o.N.apiUrl}/api/order`,e,{headers:t,responseType:"text"}).pipe((0,s.K)(this.handleError))}addToFavourites(e){const t=this.sharedService.headerGerneration();return this.http.post(`${o.N.apiUrl}/api/order/favourites`,e,{headers:t,responseType:"text"}).pipe((0,s.K)(this.handleError))}getMyFavourites(e){const t=this.sharedService.headerGerneration();return this.http.get(`${o.N.apiUrl}/api/order/favourites/${e}`,{headers:t}).pipe((0,s.K)(this.handleError))}deleteFavouriteOrder(e){const t=this.sharedService.headerGerneration();return this.http.delete(`${o.N.apiUrl}/api/order/favourites/${e}`,{headers:t}).pipe((0,n.b)(e=>console.log("deleted favourite order: ",JSON.stringify(e))),(0,s.K)(this.handleError))}getDirections(e,t,r,i){const n=this.sharedService.headerGerneration();return this.http.post(`https://maps.googleapis.com/maps/api/distancematrix/json?units=imperial&origins=${e},${t}&destinations=${r}%2C${i}%7C&key=AIzaSyAEvlXdM4joG4bNVT5l-tJSk9lUSGhxMNw`,{headers:n,responseType:"text"}).pipe((0,s.K)(this.handleError))}getOrderById(e){const t=this.sharedService.headerGerneration();return this.http.get(`${o.N.apiUrl}/api/order/id/${e}`,{headers:t}).pipe((0,n.b)(e=>this.order=e))}getCanceledOrderById(e){const t=this.sharedService.headerGerneration();return this.http.get(`${o.N.apiUrl}/api/order/canceled/${e}`,{headers:t}).pipe((0,n.b)(e=>this.order=e))}getLastCompletedOrder(e){const t=this.sharedService.headerGerneration();return this.http.get(`${o.N.apiUrl}/api/order/completed/${e}`,{headers:t}).pipe((0,s.K)(this.handleError))}getMyOrder(e){const t=this.sharedService.headerGerneration();return this.http.get(`${o.N.apiUrl}/api/order/${e}`,{headers:t}).pipe((0,s.K)(this.handleError))}getOrderForChat(e){const t=this.sharedService.headerGerneration();return this.http.get(`${o.N.apiUrl}/api/order/chat/${e}`,{headers:t}).pipe((0,s.K)(this.handleError))}getAllOrders(){const e=this.sharedService.headerGerneration();return this.http.get(`${o.N.apiUrl}/api/order`,{headers:e}).pipe((0,s.K)(this.handleError))}getNormalOrders(){const e=this.sharedService.headerGerneration();return this.http.get(`${o.N.apiUrl}/api/order/normal`,{headers:e}).pipe((0,s.K)(this.handleError))}getComfortOrders(){const e=this.sharedService.headerGerneration();return this.http.get(`${o.N.apiUrl}/api/order/comfort`,{headers:e}).pipe((0,s.K)(this.handleError))}acceptOrder(e,t){const r=this.sharedService.headerGerneration();return this.http.put(`${o.N.apiUrl}/api/order/${e}/${t}`,{headers:r,responseType:"json"}).pipe((0,n.b)(e=>this.driverId=t),(0,s.K)(this.handleError))}updateOrderEta(e,t){const r=this.sharedService.headerGerneration();return this.http.put(`${o.N.apiUrl}/api/order/eta/${e}/${t}`,{headers:r,responseType:"json"}).pipe((0,s.K)(this.handleError))}updateDriverArrived(e){const t=this.sharedService.headerGerneration();return this.http.put(`${o.N.apiUrl}/api/order/arrived/${e}`,{headers:t,responseType:"json"}).pipe((0,s.K)(this.handleError))}rateOrder(e){const t=this.sharedService.headerGerneration();return this.http.put(`${o.N.apiUrl}/api/order/rate/${e}`,{headers:t,responseType:"json"}).pipe((0,s.K)(this.handleError))}increaseOrderPrice(e,t){const r=this.sharedService.headerGerneration();return this.http.put(`${o.N.apiUrl}/api/order/increase/${e}/${t}`,{headers:r,responseType:"json"}).pipe((0,s.K)(this.handleError))}completeOrder(e){const t=this.sharedService.headerGerneration();return this.http.put(`${o.N.apiUrl}/api/order/${e}`,{headers:t,responseType:"json"}).pipe((0,s.K)(this.handleError))}deleteOrder(e){const t=this.sharedService.headerGerneration();return this.http.delete(`${o.N.apiUrl}/api/order/${e}`,{headers:t}).pipe((0,n.b)(e=>console.log("deleted order: ",JSON.stringify(e))),(0,s.K)(this.handleError))}driverIncreaseOrderPrice(e,t,r){const i=this.sharedService.headerGerneration();return this.http.put(`${o.N.apiUrl}/api/order/increased/${e}/${t}/${r}`,{headers:i,responseType:"json"}).pipe((0,s.K)(this.handleError))}resetIncreasing(e){const t=this.sharedService.headerGerneration();return this.http.put(`${o.N.apiUrl}/api/order/reset/${e}`,{headers:t,responseType:"json"}).pipe((0,s.K)(this.handleError))}increasedOrderAccept(e,t){const r=this.sharedService.headerGerneration();return this.http.put(`${o.N.apiUrl}/api/order/accepted/increase/${e}/${t}`,{headers:r,responseType:"json"}).pipe((0,s.K)(this.handleError))}incrementOrderPrice(e){const t=this.sharedService.headerGerneration();return this.http.put(`${o.N.apiUrl}/api/order/increment/${e}`,{headers:t,responseType:"json"}).pipe((0,s.K)(this.handleError))}decrementOrderPrice(e){const t=this.sharedService.headerGerneration();return this.http.put(`${o.N.apiUrl}/api/order/decrement/${e}`,{headers:t,responseType:"json"}).pipe((0,s.K)(this.handleError))}handleError(e){let t="";return e.error instanceof ErrorEvent?(console.log("Client side error."),t=`Error: ${e.error.message}`):(console.log("Server side error."),t=`Error Code: ${e.status}\nMessage: ${e.message}`),console.log(t),(0,i._)(t)}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(c.eN),a.LFG(d.F))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},5224:function(e,t,r){"use strict";r.r(t),r.d(t,{DrivingModePageModule:function(){return _},HttpLoaderFactory:function(){return L}});var i=r(8583),s=r(3679),n=r(7823),o=r(4481),a=r(4762),c=r(3018),d=r(8442),h=r(6522),p=r(4426),l=r(2340),u=r(297),g=r(5056),v=r(1177),b=r(8948),m=r(1799),f=r(791),S=r(205),T=r(5304),Z=r(1841),y=r(728);let A=(()=>{class e{constructor(e,t){this.http=e,this.sharedService=t}getTotalProfit(){const e=this.sharedService.headerGerneration();return this.http.get(`${l.N.apiUrl}/api/profit`,{headers:e}).pipe((0,T.K)(this.handleError))}addToProfit(e){const t=this.sharedService.headerGerneration();return this.http.put(`${l.N.apiUrl}/api/profit/${e}`,{headers:t,responseType:"json"}).pipe((0,T.K)(this.handleError))}handleError(e){let t="";return e.error instanceof ErrorEvent?(console.log("Client side error."),t=`Error: ${e.error.message}`):(console.log("Server side error."),t=`Error Code: ${e.status}\nMessage: ${e.message}`),console.log(t),(0,S._)(t)}}return e.\u0275fac=function(t){return new(t||e)(c.LFG(Z.eN),c.LFG(y.F))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var $=r(7800),O=r(4687);const w=["map"];function x(e,t){1&e&&c._UZ(0,"ion-icon",31)}function N(e,t){if(1&e&&(c.TgZ(0,"small",32),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.AsE("",c.lcZ(2,2,"Pickup time")," ",e.pickUpTime,"")}}function U(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"button",33),c.NdJ("click",function(){return c.CHM(e),c.oxw().onTheAddress()}),c._uU(1),c.ALo(2,"translate"),c.qZA()}2&e&&(c.xp6(1),c.Oqu(c.lcZ(2,1,"Im on the address")))}function C(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"button",18),c.NdJ("click",function(){return c.CHM(e),c.oxw().cancelOrder()}),c._uU(1),c.ALo(2,"translate"),c.qZA()}2&e&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"Cancel")," "))}function I(e,t){1&e&&(c.TgZ(0,"ul",34),c.TgZ(1,"li"),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.qZA()),2&e&&(c.xp6(2),c.Oqu(c.lcZ(3,1,"No messages for now")))}function G(e,t){1&e&&c._UZ(0,"ul")}const{Geolocation:k}=d.Vn,q=[{path:"",component:(()=>{class e{constructor(e,t,r,i,s,n,o,a,c,d,h,p,l){this.route=e,this.orderService=t,this.accountService=r,this.tripService=i,this.walletService=s,this.driverService=n,this.chatService=o,this.profitService=a,this.translate=c,this.popoverController=d,this.alertController=h,this.callNumber=p,this.formBuilder=l,this.driverId=this.tripService.currentTripDriverId,this.applicationUserId=this.accountService.userValue.id,this.isDrivingNow=this.accountService.userValue.isDrivingNow,this.orders=[],this.closestOrders=[],this.chatStyle="",this.orderDiv=document.getElementById("orderDiv"),this.subscriptions=[],this.msgInboxArray=[],this.translate.setDefaultLang(this.accountService.userValue.choosenLanguage)}ngOnInit(){this.form=this.formBuilder.group({orderId:[""],sender:[""],user:[""],text:[""]}),this.id=setInterval(()=>{this.watchPos()},3e3),this.getAcceptedTrip(),this.isStarted=!1;const e=(new p.su).configureLogging(p.in.Information).withUrl(`${l.N.signalRUrl}/orderHub`).build();e.start().then(function(){console.log("signalR Connected in driving-mode")}).catch(function(t){console.log("Reconnecting in 1 sec."),setTimeout(()=>e.start(),1e3)}),e.on("OrderDeleted",e=>{this.subscriptions.push(this.orderService.getCanceledOrderById(e).subscribe(e=>{e.acceptedBy==this.applicationUserId&&this.canceledOrder()}))}),e.on("OrderAccepted",e=>{this.subscriptions.push(this.orderService.getOrderById(e).subscribe(e=>{e.acceptedBy==this.applicationUserId&&this.getAcceptedTrip()}))}),e.on("Navigate",e=>{this.subscriptions.push(this.orderService.getOrderById(e).subscribe(e=>{e.acceptedBy==this.applicationUserId&&this.getAcceptedTrip()}))}),e.on("MessageGet",e=>{this.order.id==e&&this.getMessages(e)}),e.on("LocateDriver",e=>{}),e.on("WalletAction",()=>{}),e.on("CompleteOrder",()=>{})}get f(){return this.form.controls}sendMessage(){this.form.value.sender=this.applicationUserId,this.form.value.user=this.order.applicationUserId,this.form.value.orderId=this.order.id,this.form.valid?this.chatService.sendMessage(this.form.value).subscribe(e=>{console.log(this.form.value)}):(console.log(this.form.value),console.log("Please provide all the required values!"))}getMessages(e){this.chatService.getMessages(e).subscribe(e=>{console.log(e.text)})}ngOnDestroy(){this.id&&clearInterval(this.id)}ionViewDidEnter(){1==this.accountService.userValue.isDrivingNow&&this.getAcceptedTrip()}callDriver(){return(0,a.mG)(this,void 0,void 0,function*(){let e=this.order.applicationUser.phone.toString();this.callNumber.callNumber(e,!0).then(e=>console.log("Launched dialer!",e)).catch(e=>console.log("Error launching dialer",e))})}watchPos(){return(0,a.mG)(this,void 0,void 0,function*(){let e=yield k.getCurrentPosition();const t={lat:e.coords.latitude,lng:e.coords.longitude};this.subscriptions.push(this.driverService.locateDriver(this.accountService.userValue.driverId,t.lat.toString(),t.lng.toString()).subscribe(e=>{}))})}navigateToUserAndCalculateDistance(){return(0,a.mG)(this,void 0,void 0,function*(){let e=+this.order.locationLat,t=+this.order.locationLong;this.subscriptions.push(this.tripService.navigateToUser(this.currentTrip.id,this.order.id).subscribe(()=>{})),"ios"===d.dV.platform&&(window.open(`maps://maps.apple.com/maps?q=${e},${t}&t=m&dirflg=d`),this.isStarted=!0),window.open(`https://www.google.com/maps/dir/?api=1&destination=${e},${t}&travelmode=driving`),this.isStarted=!0})}navigateToPointAndCalculateDistance(){return(0,a.mG)(this,void 0,void 0,function*(){let e=+this.order.destinationLat,t=+this.order.destinationLong;"ios"===d.dV.platform&&(window.open(`maps://maps.apple.com/maps?q=${e},${t}&t=m&dirflg=d`),this.isStarted=!0),window.open(`https://www.google.com/maps/dir/?api=1&destination=${e},${t}&travelmode=driving`),this.isStarted=!0,this.subscriptions.push(this.tripService.startTrip(this.currentTrip.id).subscribe(()=>{this.startTrip()}))})}startTrip(){this.subscriptions.push(this.tripService.startTrip(this.currentTrip.id).subscribe(e=>{e&&(this.tripStatus=e.status)}))}finishTrip(){this.completeTripAlert()}openLanguagePopover(e){return(0,a.mG)(this,void 0,void 0,function*(){const t=yield this.popoverController.create({component:h.m,event:e});yield t.present()})}calculateEta(e){return(0,a.mG)(this,void 0,void 0,function*(){const t=new google.maps.DirectionsService,r=yield k.getCurrentPosition(),i={lat:r.coords.latitude,lng:r.coords.longitude};t.route({origin:{lat:i.lat,lng:i.lng},destination:{lat:+e.locationLat,lng:+e.locationLong},travelMode:google.maps.TravelMode.DRIVING},(t,r)=>{"OK"===r&&(this.eta=t.routes[0].legs[0].duration.text,e.km=t.routes[0].legs[0].distance.value/1e3,e.distanceText=t.routes[0].legs[0].distance.text,e.eta=t.routes[0].legs[0].duration.text,this.distance=e.distanceText)})})}getAcceptedTrip(){this.subscriptions.push(this.tripService.getTrip(this.driverId).subscribe(e=>{null!=e&&(this.tripStatus=e.status,this.currentTrip=e,this.subscriptions.push(this.orderService.getOrderById(e.orderId).subscribe(t=>{null!=t&&(e.order=t,this.order=e.order,this.location=t.location,this.destination=t.destination,this.totalPrice=t.totalPrice,this.userLatitude=t.locationLat,this.userLongitude=t.locationLong,this.userDestinationLat=t.destinationLat,this.userDestinationLng=t.destinationLong,this.pickUpTime=t.pickUpTime,this.tripDistance=t.tripDistance,this.calculateEta(t),this.subscriptions.push(this.driverService.getDriver(this.accountService.userValue.driverId).subscribe(e=>{this.tripPriceForDriver=t.totalPrice*(e.comission/100)})))})))}))}onTheAddress(){this.subscriptions.push(this.orderService.updateDriverArrived(this.order.id).subscribe(()=>{}))}cancelOrder(){this.alertForCancel()}alertForCancel(){return(0,a.mG)(this,void 0,void 0,function*(){this.translate.get(["Are you sure you want to cancel the order?","Your rating will decrease!","Confirm","Cancel"]).subscribe(e=>(0,a.mG)(this,void 0,void 0,function*(){const t=yield this.alertController.create({header:e["Are you sure you want to cancel the order?"],message:e["Your rating will decrease!"],buttons:[{text:e.Cancel,role:"cancel"},{text:e.Confirm,handler:()=>{this.subscriptions.push(this.driverService.cancelOrderFromDriver(this.order.id).subscribe(e=>{this.subscriptions.push(this.tripService.cancelTrip(this.currentTrip.id).subscribe(()=>{this.accountService.userValue.isDrivingNow=!1,this.subscriptions.push(this.accountService.updateDriving(this.applicationUserId,!1).subscribe(()=>{this.subscriptions.push(this.driverService.voteDown(this.accountService.userValue.driverId).subscribe(()=>{this.route.navigate(["menu/driving"])}))}))}))}))}}]});yield t.present()}))})}canceledOrder(){return(0,a.mG)(this,void 0,void 0,function*(){this.translate.get(["Order is cancelled by the customer."]).subscribe(e=>(0,a.mG)(this,void 0,void 0,function*(){const t=yield this.alertController.create({header:e["Order is cancelled by the customer."],buttons:[{text:"Ok",handler:()=>{this.accountService.userValue.isDrivingNow=!1,this.subscriptions.push(this.accountService.updateDriving(this.applicationUserId,!1).subscribe(()=>{this.route.navigate(["menu/driving"])}))}}]});yield t.present()}))})}completeTripAlert(){return(0,a.mG)(this,void 0,void 0,function*(){this.translate.get(["Are you sure you want to finish the trip?","Yes","No"]).subscribe(e=>(0,a.mG)(this,void 0,void 0,function*(){const t=yield this.alertController.create({cssClass:"my-custom-class",header:e["Are you sure you want to finish the trip?"],buttons:[{text:e.No},{text:e.Yes,handler:()=>{this.subscriptions.push(this.tripService.completeTrip(this.currentTrip.id).subscribe(e=>{this.subscriptions.push(this.walletService.dischargeWallet(this.applicationUserId,this.tripPriceForDriver).subscribe(e=>{this.subscriptions.push(this.profitService.addToProfit(this.tripPriceForDriver).subscribe(()=>{}))})),e&&(this.tripStatus=e.status),this.subscriptions.push(this.orderService.completeOrder(this.currentTrip.orderId).subscribe(()=>{}));let t=this.accountService.userValue.id,r=this.accountService.userValue.isDrivingNow=!1;this.subscriptions.push(this.accountService.updateDriving(t,r).subscribe()),this.isDrivingNow=this.accountService.userValue.isDrivingNow,this.route.navigate(["menu/driving"])}))}}]});yield t.present()}))})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(o.F0),c.Y36(u.p),c.Y36(g.B),c.Y36(v.a),c.Y36(b.X),c.Y36(m.F),c.Y36(f.a),c.Y36(A),c.Y36($.sK),c.Y36(n.Dh),c.Y36(n.Br),c.Y36(O.X),c.Y36(s.qu))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-driving-mode"]],viewQuery:function(e,t){if(1&e&&c.Gf(w,1,c.SBq),2&e){let e;c.iGM(e=c.CRH())&&(t.mapRef=e.first)}},decls:60,vars:30,consts:[["slot","start"],["slot","end"],["id","toolbarIcon","name","language-outline",3,"click"],["padding","",1,"noScroll"],[1,"col-md-10"],["id","orderDiv",1,"list-group","mt-2"],[1,"text","list-group-item","list-group-item-action","flex-column","align-items-start"],["name","alert-circle",4,"ngIf"],["id","warningicn",4,"ngIf"],[1,"d-flex","w-100","justify-content-between"],[1,"mb-1","fonted"],["name","analytics-outline",1,"mr-2"],["name","arrow-forward-outline",1,"mr-2"],[1,"text-center"],["type","button",1,"fonted","btn","btn-info","btn-sm","btn-block",3,"disabled","click"],["type","button","color","primary",1,"fonted","btn","btn-info","btn-sm","btn-block",3,"disabled","click"],["type","button",1,"fonted","btn","btn-success","btn-sm","btn-block",3,"disabled","click"],["type","button","class","fonted btn btn-info btn-sm btn-block",3,"click",4,"ngIf"],["type","button",1,"fonted","btn","btn-warning","btn-sm","btn-block",3,"click"],["name","call",1,"mr-2"],["class","fonted btn btn-warning btn-sm btn-block","type","button",3,"click",4,"ngIf"],[1,"ion-no-border","page-wrap"],["novalidate","",1,"col-md-6",3,"formGroup"],["id","chat",1,"row","chat"],[1,"col"],[1,"msg-box"],["class","text-center mr-5",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"type"],["formControlName","text",3,"placeholder"],["name","send-outline",3,"click"],["name","alert-circle"],["id","warningicn"],["type","button",1,"fonted","btn","btn-info","btn-sm","btn-block",3,"click"],[1,"text-center","mr-5"]],template:function(e,t){1&e&&(c.TgZ(0,"ion-header"),c.TgZ(1,"ion-toolbar"),c.TgZ(2,"ion-buttons",0),c._UZ(3,"ion-menu-button"),c.qZA(),c.TgZ(4,"ion-title"),c.TgZ(5,"ion-label"),c._uU(6),c.ALo(7,"translate"),c.qZA(),c.qZA(),c.TgZ(8,"ion-buttons",1),c.TgZ(9,"ion-icon",2),c.NdJ("click",function(e){return t.openLanguagePopover(e)}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(10,"ion-content",3),c.TgZ(11,"div",4),c.TgZ(12,"div",5),c.TgZ(13,"a",6),c.YNc(14,x,1,0,"ion-icon",7),c.YNc(15,N,3,4,"small",8),c.TgZ(16,"div",9),c._UZ(17,"h5",10),c.qZA(),c.TgZ(18,"p"),c._UZ(19,"ion-icon",11),c._uU(20),c.qZA(),c._UZ(21,"hr"),c.TgZ(22,"p"),c._UZ(23,"ion-icon",12),c._uU(24),c.qZA(),c.TgZ(25,"div",13),c.TgZ(26,"p"),c.TgZ(27,"button",14),c.NdJ("click",function(){return t.navigateToUserAndCalculateDistance()}),c._uU(28),c.ALo(29,"translate"),c.qZA(),c.qZA(),c.TgZ(30,"p"),c.TgZ(31,"button",15),c.NdJ("click",function(){return t.navigateToPointAndCalculateDistance()}),c._uU(32),c.ALo(33,"translate"),c.qZA(),c.qZA(),c.TgZ(34,"p"),c.TgZ(35,"button",16),c.NdJ("click",function(){return t.finishTrip()}),c._uU(36),c.ALo(37,"translate"),c.qZA(),c.qZA(),c.TgZ(38,"p"),c.YNc(39,U,3,3,"button",17),c.qZA(),c.TgZ(40,"p"),c.TgZ(41,"button",18),c.NdJ("click",function(){return t.callDriver()}),c._UZ(42,"ion-icon",19),c._uU(43),c.ALo(44,"translate"),c.qZA(),c.qZA(),c.TgZ(45,"p"),c.YNc(46,C,3,3,"button",20),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(47,"ion-footer",21),c.TgZ(48,"form",22),c.TgZ(49,"div",23),c.TgZ(50,"div",24),c.TgZ(51,"ion-card"),c.TgZ(52,"div",25),c.YNc(53,I,4,3,"ul",26),c.YNc(54,G,1,0,"ul",27),c.qZA(),c.qZA(),c.TgZ(55,"ion-card",28),c.TgZ(56,"ion-item"),c._UZ(57,"ion-input",29),c.ALo(58,"translate"),c.TgZ(59,"ion-icon",30),c.NdJ("click",function(){return t.sendMessage()}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(6),c.Oqu(c.lcZ(7,18,"Accepted order")),c.xp6(8),c.Q6J("ngIf",t.pickUpTime),c.xp6(1),c.Q6J("ngIf",t.pickUpTime),c.xp6(5),c.hij("",t.location," "),c.xp6(4),c.hij("",t.destination," "),c.xp6(3),c.Q6J("disabled","Started"==t.tripStatus),c.xp6(1),c.Oqu(c.lcZ(29,20,"Navigate to user")),c.xp6(3),c.Q6J("disabled","!Processing"==t.tripStatus),c.xp6(1),c.Oqu(c.lcZ(33,22,"Start trip")),c.xp6(3),c.Q6J("disabled","Processing"==t.tripStatus),c.xp6(1),c.hij(" ",c.lcZ(37,24,"Finish trip"),""),c.xp6(3),c.Q6J("ngIf","Navigating"==t.tripStatus),c.xp6(4),c.hij("",c.lcZ(44,26,"Call passenger")," "),c.xp6(3),c.Q6J("ngIf","Processing"==t.tripStatus),c.xp6(2),c.Q6J("formGroup",t.form),c.xp6(5),c.Q6J("ngIf",0==t.msgInboxArray.length),c.xp6(1),c.Q6J("ngForOf",t.msgInboxArray),c.xp6(3),c.Q6J("placeholder",c.lcZ(58,28,"Type your message...")))},directives:[n.Gu,n.sr,n.Sm,n.fG,n.wd,n.Q$,n.gu,n.W2,i.O5,n.fr,s.Y7,s.JL,s.sg,n.PM,i.sg,n.Ie,n.pK,n.j9,s.JJ,s.u],pipes:[$.X$],styles:["ion-content[_ngcontent-%COMP%]{--ion-background-color:#e9e9e9}ion-toolbar[_ngcontent-%COMP%]{--ion-background-color:#eee}ion-title[_ngcontent-%COMP%]{text-align:center}#toolbarIcon[_ngcontent-%COMP%]{font-size:1.7em}.fonted[_ngcontent-%COMP%]{font-family:Open Sans Light}.centered[_ngcontent-%COMP%]{text-align:center}.text[_ngcontent-%COMP%]{font-family:Open Sans Light}hr[_ngcontent-%COMP%]{background:#eee;width:70%!important}.blink_me[_ngcontent-%COMP%]{-webkit-animation:blinker 1s linear infinite;animation:blinker 1s linear infinite}@-webkit-keyframes blinker{50%{opacity:0}}@keyframes blinker{50%{opacity:0}}.msg-box[_ngcontent-%COMP%]{width:100%;height:140px;padding:10px 30px;font-size:14px;font-family:Open Sans Light;overflow:auto}.msg-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:-5px;list-style:none}.msg-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .ex-msg[_ngcontent-%COMP%]{text-align:right}.msg-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .in-msg[_ngcontent-%COMP%]{text-align:left;margin-left:-60px}"]}),e})()}];let P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[o.Bz.forChild(q)],o.Bz]}),e})();var E=r(2472),D=r(3577);function L(e){return new E.w(e)}let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[O.X],imports:[[i.ez,s.u5,n.Pc,P,s.UX,$.aw.forChild({loader:{provide:$.Zw,useFactory:L,deps:[Z.eN]}}),D.LanguagePopoverPageModule]]}),e})()}}]);