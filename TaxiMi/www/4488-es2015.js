(self.webpackChunkcsharpcornerauthor=self.webpackChunkcsharpcornerauthor||[]).push([[4488],{4488:function(e,t,i){"use strict";i.r(t),i.d(t,{BecomeDriverPageModule:function(){return P},HttpLoaderFactory:function(){return k}});var s=i(8583),o=i(3679),n=i(7823),r=i(4481),a=i(4762),l=i(1841),p=i(3018);class c{constructor(e){var t;this.rawFile=e;let i=(t=e)&&(t.nodeName||t.prop&&t.attr&&t.find)?e.value:e;this["_createFrom"+("string"==typeof i?"FakePath":"Object")](i)}_createFromFakePath(e){this.lastModifiedDate=void 0,this.size=void 0,this.type="like/"+e.slice(e.lastIndexOf(".")+1).toLowerCase(),this.name=e.slice(e.lastIndexOf("/")+e.lastIndexOf("\\")+2)}_createFromObject(e){this.size=e.size,this.type=e.type,this.name=e.name}}class d{constructor(e,t,i){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.index=void 0,this.uploader=e,this.some=t,this.options=i,this.file=new c(t),this._file=t,e.options&&(this.method=e.options.method||"POST",this.alias=e.options.itemAlias||"file"),this.url=e.options.url}upload(){try{this.uploader.uploadItem(this)}catch(e){this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}}cancel(){this.uploader.cancelItem(this)}remove(){this.uploader.removeFromQueue(this)}onBeforeUpload(){}onBuildForm(e){return{form:e}}onProgress(e){return{progress:e}}onSuccess(e,t,i){return{response:e,status:t,headers:i}}onError(e,t,i){return{response:e,status:t,headers:i}}onCancel(e,t,i){return{response:e,status:t,headers:i}}onComplete(e,t,i){return{response:e,status:t,headers:i}}_onBeforeUpload(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()}_onBuildForm(e){this.onBuildForm(e)}_onProgress(e){this.progress=e,this.onProgress(e)}_onSuccess(e,t,i){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(e,t,i)}_onError(e,t,i){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(e,t,i)}_onCancel(e,t,i){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(e,t,i)}_onComplete(e,t,i){this.onComplete(e,t,i),this.uploader.options.removeAfterUpload&&this.remove()}_prepareToUploading(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0}}let u=(()=>{class e{static getMimeClass(e){let t="application";return-1!==this.mime_psd.indexOf(e.type)||e.type.match("image.*")?t="image":e.type.match("video.*")?t="video":e.type.match("audio.*")?t="audio":"application/pdf"===e.type?t="pdf":-1!==this.mime_compress.indexOf(e.type)?t="compress":-1!==this.mime_doc.indexOf(e.type)?t="doc":-1!==this.mime_xsl.indexOf(e.type)?t="xls":-1!==this.mime_ppt.indexOf(e.type)&&(t="ppt"),"application"===t&&(t=this.fileTypeDetection(e.name)),t}static fileTypeDetection(e){let t={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",bz2:"compress",gz:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},i=e.split(".");if(i.length<2)return"application";let s=i[i.length-1].toLowerCase();return void 0===t[s]?"application":t[s]}}return e.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],e.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],e.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],e.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"],e.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream","application/x-zip-compressed","application/zip-compressed","application/x-7z-compressed","application/gzip","application/x-bzip2"],e})();class h{constructor(e){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:e=>e._file,formatDataFunctionIsAsync:!1},this.setOptions(e),this.response=new p.vpe}setOptions(e){this.options=Object.assign(this.options,e),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.options.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(let t=0;t<this.queue.length;t++)this.queue[t].url=this.options.url}addToQueue(e,t,i){let s=[];for(let a of e)s.push(a);let o=this._getFilters(i),n=this.queue.length,r=[];s.map(e=>{t||(t=this.options);let i=new c(e);if(this._isValidFile(i,o,t)){let i=new d(this,e,t);r.push(i),this.queue.push(i),this._onAfterAddingFile(i)}else this._onWhenAddingFileFailed(i,o[this._failFilterIndex],t)}),this.queue.length!==n&&(this._onAfterAddingAll(r),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()}removeFromQueue(e){let t=this.getIndexOfItem(e),i=this.queue[t];i.isUploading&&i.cancel(),this.queue.splice(t,1),this.progress=this._getTotalProgress()}clearQueue(){for(;this.queue.length;)this.queue[0].remove();this.progress=0}uploadItem(e){let t=this.getIndexOfItem(e),i=this.queue[t],s=this.options.isHTML5?"_xhrTransport":"_iframeTransport";i._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[s](i))}cancelItem(e){let t=this.getIndexOfItem(e),i=this.queue[t];i&&i.isUploading&&(this.options.isHTML5?i._xhr:i._form).abort()}uploadAll(){let e=this.getNotUploadedItems().filter(e=>!e.isUploading);e.length&&(e.map(e=>e._prepareToUploading()),e[0].upload())}cancelAll(){this.getNotUploadedItems().map(e=>e.cancel())}isFile(e){return function(e){return File&&e instanceof File}(e)}isFileLikeObject(e){return e instanceof c}getIndexOfItem(e){return"number"==typeof e?e:this.queue.indexOf(e)}getNotUploadedItems(){return this.queue.filter(e=>!e.isUploaded)}getReadyItems(){return this.queue.filter(e=>e.isReady&&!e.isUploading).sort((e,t)=>e.index-t.index)}destroy(){}onAfterAddingAll(e){return{fileItems:e}}onBuildItemForm(e,t){return{fileItem:e,form:t}}onAfterAddingFile(e){return{fileItem:e}}onWhenAddingFileFailed(e,t,i){return{item:e,filter:t,options:i}}onBeforeUploadItem(e){return{fileItem:e}}onProgressItem(e,t){return{fileItem:e,progress:t}}onProgressAll(e){return{progress:e}}onSuccessItem(e,t,i,s){return{item:e,response:t,status:i,headers:s}}onErrorItem(e,t,i,s){return{item:e,response:t,status:i,headers:s}}onCancelItem(e,t,i,s){return{item:e,response:t,status:i,headers:s}}onCompleteItem(e,t,i,s){return{item:e,response:t,status:i,headers:s}}onCompleteAll(){}_mimeTypeFilter(e){return!(this.options.allowedMimeType&&-1===this.options.allowedMimeType.indexOf(e.type))}_fileSizeFilter(e){return!(this.options.maxFileSize&&e.size>this.options.maxFileSize)}_fileTypeFilter(e){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(u.getMimeClass(e)))}_onErrorItem(e,t,i,s){e._onError(t,i,s),this.onErrorItem(e,t,i,s)}_onCompleteItem(e,t,i,s){e._onComplete(t,i,s),this.onCompleteItem(e,t,i,s);let o=this.getReadyItems()[0];this.isUploading=!1,o?o.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())}_headersGetter(e){return t=>t?e[t.toLowerCase()]||void 0:e}_xhrTransport(e){let t,i=this,s=e._xhr=new XMLHttpRequest;if(this._onBeforeUploadItem(e),"number"!=typeof e._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)t=this.options.formatDataFunction(e);else{t=new FormData,this._onBuildItemForm(e,t);const i=()=>t.append(e.alias,e._file,e.file.name);this.options.parametersBeforeFiles||i(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(i=>{let s=this.options.additionalParameter[i];"string"==typeof s&&s.indexOf("{{file_name}}")>=0&&(s=s.replace("{{file_name}}",e.file.name)),t.append(i,s)}),this.options.parametersBeforeFiles&&i()}if(s.upload.onprogress=t=>{let i=Math.round(t.lengthComputable?100*t.loaded/t.total:0);this._onProgressItem(e,i)},s.onload=()=>{let t=this._parseHeaders(s.getAllResponseHeaders()),i=this._transformResponse(s.response,t);this["_on"+(this._isSuccessCode(s.status)?"Success":"Error")+"Item"](e,i,s.status,t),this._onCompleteItem(e,i,s.status,t)},s.onerror=()=>{let t=this._parseHeaders(s.getAllResponseHeaders()),i=this._transformResponse(s.response,t);this._onErrorItem(e,i,s.status,t),this._onCompleteItem(e,i,s.status,t)},s.onabort=()=>{let t=this._parseHeaders(s.getAllResponseHeaders()),i=this._transformResponse(s.response,t);this._onCancelItem(e,i,s.status,t),this._onCompleteItem(e,i,s.status,t)},s.open(e.method,e.url,!0),s.withCredentials=e.withCredentials,this.options.headers)for(let o of this.options.headers)s.setRequestHeader(o.name,o.value);if(e.headers.length)for(let o of e.headers)s.setRequestHeader(o.name,o.value);this.authToken&&s.setRequestHeader(this.authTokenHeader,this.authToken),s.onreadystatechange=function(){s.readyState==XMLHttpRequest.DONE&&i.response.emit(s.responseText)},this.options.formatDataFunctionIsAsync?t.then(e=>s.send(JSON.stringify(e))):s.send(t),this._render()}_getTotalProgress(e=0){if(this.options.removeAfterUpload)return e;let t=this.getNotUploadedItems().length,i=100/this.queue.length;return Math.round((t?this.queue.length-t:this.queue.length)*i+e*i/100)}_getFilters(e){if(!e)return this.options.filters;if(Array.isArray(e))return e;if("string"==typeof e){let t=e.match(/[^\s,]+/g);return this.options.filters.filter(e=>-1!==t.indexOf(e.name))}return this.options.filters}_render(){}_queueLimitFilter(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit}_isValidFile(e,t,i){return this._failFilterIndex=-1,!t.length||t.every(t=>(this._failFilterIndex++,t.fn.call(this,e,i)))}_isSuccessCode(e){return e>=200&&e<300||304===e}_transformResponse(e,t){return e}_parseHeaders(e){let t,i,s,o={};return e?(e.split("\n").map(e=>{s=e.indexOf(":"),t=e.slice(0,s).trim().toLowerCase(),i=e.slice(s+1).trim(),t&&(o[t]=o[t]?o[t]+", "+i:i)}),o):o}_onWhenAddingFileFailed(e,t,i){this.onWhenAddingFileFailed(e,t,i)}_onAfterAddingFile(e){this.onAfterAddingFile(e)}_onAfterAddingAll(e){this.onAfterAddingAll(e)}_onBeforeUploadItem(e){e._onBeforeUpload(),this.onBeforeUploadItem(e)}_onBuildItemForm(e,t){e._onBuildForm(t),this.onBuildItemForm(e,t)}_onProgressItem(e,t){let i=this._getTotalProgress(t);this.progress=i,e._onProgress(t),this.onProgressItem(e,t),this.onProgressAll(i),this._render()}_onSuccessItem(e,t,i,s){e._onSuccess(t,i,s),this.onSuccessItem(e,t,i,s)}_onCancelItem(e,t,i,s){e._onCancel(t,i,s),this.onCancelItem(e,t,i,s)}}let m=(()=>{class e{constructor(e){this.onFileSelected=new p.vpe,this.element=e}getOptions(){return this.uploader.options}getFilters(){return{}}isEmptyAfterSelection(){return!!this.element.nativeElement.attributes.multiple}onChange(){let e=this.element.nativeElement.files,t=this.getOptions(),i=this.getFilters();this.uploader.addToQueue(e,t,i),this.onFileSelected.emit(e),this.isEmptyAfterSelection()&&(this.element.nativeElement.value="")}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(p.SBq))},e.\u0275dir=p.lG2({type:e,selectors:[["","ng2FileSelect",""]],hostBindings:function(e,t){1&e&&p.NdJ("change",function(){return t.onChange()})},inputs:{uploader:"uploader"},outputs:{onFileSelected:"onFileSelected"}}),e})(),g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[s.ez]]}),e})(),f=(()=>{class e{constructor(){this.uploader=new h({}),this.hasBaseDropZoneOver=!1}getFiles(){return this.uploader.queue.map(e=>e.file)}fileOverBase(e){this.hasBaseDropZoneOver=e}reorderFiles(e){let t=this.uploader.queue.splice(e.detail.from,1)[0];this.uploader.queue.splice(e.detail.to,0,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-multi-file-upload"]],decls:5,vars:1,consts:[[1,"file-input-container"],["type","file","ng2FileSelect","","multiple","",3,"uploader"],["name","add-outline","color","dark"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"label"),p._UZ(2,"input",1),p._UZ(3,"ion-icon",2),p.qZA(),p.qZA(),p._UZ(4,"br")),2&e&&(p.xp6(2),p.Q6J("uploader",t.uploader))},directives:[m,n.gu],styles:[".file-input-container[_ngcontent-%COMP%]{text-align:right}input[type=file][_ngcontent-%COMP%]{display:none}label[_ngcontent-%COMP%]{border:1px solid #ccc;padding:8px 15px;cursor:pointer}.nv-file-over[_ngcontent-%COMP%]{border:3px dotted red}"]}),e})();var v=i(4426),Z=i(2340),_=i(6522),A=i(5056),x=i(292),b=i(1799),T=i(7800);function q(e,t){if(1&e&&(p.TgZ(0,"ion-item"),p.TgZ(1,"ion-label"),p._uU(2),p.qZA(),p.qZA()),2&e){const e=t.$implicit;p.xp6(2),p.hij(" ",null==e||null==e.file?null:e.file.name," ")}}function y(e,t){if(1&e&&(p.TgZ(0,"div",29),p._UZ(1,"div",30),p.qZA()),2&e){const e=p.oxw(2);p.xp6(1),p.Udp("width",e.progress,"%")}}function I(e,t){if(1&e&&(p.TgZ(0,"span",31),p._uU(1),p.qZA()),2&e){const e=p.oxw(2);p.xp6(1),p.hij(" ",e.progress,"% ")}}function F(e,t){if(1&e&&(p.TgZ(0,"span",31),p._uU(1),p.qZA()),2&e){const e=p.oxw(2);p.xp6(1),p.hij(" ",e.message," ")}}function C(e,t){if(1&e&&(p.TgZ(0,"div"),p.TgZ(1,"div",26),p.YNc(2,y,2,2,"div",27),p.YNc(3,I,2,1,"span",28),p.YNc(4,F,2,1,"span",28),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.xp6(2),p.Q6J("ngIf",e.progress>0),p.xp6(1),p.Q6J("ngIf",e.progress>0),p.xp6(1),p.Q6J("ngIf",e.message)}}function U(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"ion-item"),p.TgZ(1,"a",32),p.TgZ(2,"p"),p._UZ(3,"img",33),p.qZA(),p.TgZ(4,"div",34),p._UZ(5,"h5",35),p.TgZ(6,"button",36),p.NdJ("click",function(){p.CHM(e);const i=t.$implicit;return p.oxw().removePicture(i.id)}),p._uU(7),p.ALo(8,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=t.$implicit;p.xp6(3),p.s9C("src",e.path,p.LSH),p.xp6(4),p.Oqu(p.lcZ(8,2,"Delete"))}}const w=[{path:"",component:(()=>{class e{constructor(e,t,i,s,o,n,r,a){this.route=e,this.accountService=t,this.location=i,this.imageService=s,this.driverService=o,this.alertController=n,this.popoverController=r,this.translate=a,this.folderName="driverFacePic",this.imgType="personalImg",this.uploader=new h({}),this.hasBaseDropZoneOver=!1,this.applicationUserId=this.accountService.userValue.id,this.translate.setDefaultLang(this.accountService.userValue.choosenLanguage)}ngOnInit(){this.getDocs(),this.getDocs.length>=4&&(this.checker=!0),this.checker=!1;const e=(new v.su).configureLogging(v.in.Information).withUrl(`${Z.N.signalRUrl}/orderHub`).build();e.start().then(function(){console.log("signalR Connected in menu")}).catch(function(t){console.log("Reconnecting in 1 sec."),setTimeout(()=>e.start(),1e3)}),e.on("OnUpload",e=>{this.getDocs()})}getFiles(){return this.uploader.queue.map(e=>e.file)}getDocs(){this.imageService.getUserDocuments(this.applicationUserId).subscribe(e=>{console.log(e),this.pics=e,4!==this.pics.length&&(this.isDisabled=!0)})}upload(e){if(0===e)return;let t=e[0];const i=new FormData;i.append("file",t,t.name),this.imageService.upload(i,this.folderName,this.applicationUserId,this.imgType).subscribe(e=>{switch(e.type===l.dt.UploadProgress?this.progress=Math.round(100*e.loaded/e.total):e.type===l.dt.Response&&(this.message="Documents uploaded successfully."),e.type){case l.dt.Sent:console.log("Request has been made!");break;case l.dt.ResponseHeader:console.log("Response header has been received!");break;case l.dt.UploadProgress:this.progress=Math.round(e.loaded/e.total*100);break;case l.dt.Response:setTimeout(()=>{this.progress=0},1500)}})}removePicture(e){this.picDelete(e)}goBack(){this.location.back()}onSubmit(){this.imageService.getUserDocuments(this.applicationUserId).subscribe(e=>{this.pics.length>=4?this.driverService.createDriver({ApplicationUserId:this.applicationUserId}).subscribe(()=>{this.route.navigate(["menu/car-register"])}):null==e.id?this.notEnoughImages():this.message="Please upload your documents!"})}openLanguagePopover(e){return(0,a.mG)(this,void 0,void 0,function*(){const t=yield this.popoverController.create({component:_.m,event:e});yield t.present()})}notEnoughImages(){return(0,a.mG)(this,void 0,void 0,function*(){this.translate.get(["You have to upload 4 document pictures."]).subscribe(e=>(0,a.mG)(this,void 0,void 0,function*(){const t=yield this.alertController.create({header:e["You have to upload 4 document pictures."],buttons:[{text:"Ok",role:"Ok"}]});yield t.present()}))})}picDelete(e){return(0,a.mG)(this,void 0,void 0,function*(){this.translate.get(["Delete the picture?","Yes","No"]).subscribe(t=>(0,a.mG)(this,void 0,void 0,function*(){const i=yield this.alertController.create({header:t["Delete the picture?"],buttons:[{text:t.Yes,handler:()=>{this.imageService.removeDocument(e).subscribe(e=>{console.log("Image removed sucessfully")})}},{text:t.No,role:"no"}]});yield i.present()}))})}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(r.F0),p.Y36(A.B),p.Y36(s.Ye),p.Y36(x.A),p.Y36(b.F),p.Y36(n.Br),p.Y36(n.Dh),p.Y36(T.sK))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-become-driver"]],viewQuery:function(e,t){if(1&e&&p.Gf(f,1),2&e){let e;p.iGM(e=p.CRH())&&(t.fileField=e.first)}},decls:73,vars:25,consts:[["slot","start"],["slot","end"],["id","toolbarIcon","name","language-outline",3,"click"],["padding","",1,"background"],[1,"row","mt-2"],[1,"col"],["padding",""],[1,"col","text-center"],["color","dark",1,"centered"],[1,"text"],[1,"text","mb-3"],[1,"input-group"],[1,"input-group","mb-1"],["type","text",1,"form-control"],[1,"input-group-append"],["type","file","placeholder","Choose file",2,"display","none",3,"change"],["file1",""],["name","add-outline","color","dark",3,"click"],["file2",""],["file3",""],["file4",""],["disabled","false"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-center","mb-3"],["type","submit",1,"btn","btn-dark",3,"disabled","click"],[1,"col-md-4","mt-2"],["class","progress form-group",4,"ngIf"],["class","upload",4,"ngIf"],[1,"progress","form-group"],["role","progressbar",1,"progress-bar","progress-bar-striped","bg-success"],[1,"upload"],[1,"text","list-group-item","list-group-item-action","flex-column","align-items-start"],[3,"src"],[1,"text-center"],[1,"mb-1","fonted"],[1,"btn","btn-danger",3,"click"]],template:function(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"ion-header"),p.TgZ(1,"ion-toolbar"),p.TgZ(2,"ion-buttons",0),p._UZ(3,"ion-menu-button"),p.qZA(),p.TgZ(4,"ion-title"),p.TgZ(5,"ion-label"),p._uU(6,"Cyber"),p.qZA(),p.qZA(),p.TgZ(7,"ion-buttons",1),p.TgZ(8,"ion-icon",2),p.NdJ("click",function(e){return t.openLanguagePopover(e)}),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(9,"ion-content",3),p.TgZ(10,"div",4),p._UZ(11,"div",5),p.qZA(),p.TgZ(12,"ion-content",6),p.TgZ(13,"div",7),p.TgZ(14,"ion-text",8),p.TgZ(15,"h3",9),p._uU(16),p.ALo(17,"translate"),p.qZA(),p._UZ(18,"hr"),p.TgZ(19,"h5",10),p._uU(20),p.ALo(21,"translate"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(22,"div",11),p.TgZ(23,"div",12),p.TgZ(24,"label",13),p._uU(25),p.ALo(26,"translate"),p.qZA(),p.TgZ(27,"div",14),p.TgZ(28,"span"),p.TgZ(29,"input",15,16),p.NdJ("change",function(){p.CHM(e);const i=p.MAs(30);return t.upload(i.files)}),p.qZA(),p.TgZ(31,"label"),p.TgZ(32,"ion-icon",17),p.NdJ("click",function(){return p.CHM(e),p.MAs(30).click()}),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(33,"div",12),p.TgZ(34,"label",13),p._uU(35),p.ALo(36,"translate"),p.qZA(),p.TgZ(37,"div",14),p.TgZ(38,"span"),p.TgZ(39,"input",15,18),p.NdJ("change",function(){p.CHM(e);const i=p.MAs(40);return t.upload(i.files)}),p.qZA(),p.TgZ(41,"label"),p.TgZ(42,"ion-icon",17),p.NdJ("click",function(){return p.CHM(e),p.MAs(40).click()}),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(43,"div",12),p.TgZ(44,"label",13),p._uU(45),p.ALo(46,"translate"),p.qZA(),p.TgZ(47,"div",14),p.TgZ(48,"span"),p.TgZ(49,"input",15,19),p.NdJ("change",function(){p.CHM(e);const i=p.MAs(50);return t.upload(i.files)}),p.qZA(),p.TgZ(51,"label"),p.TgZ(52,"ion-icon",17),p.NdJ("click",function(){return p.CHM(e),p.MAs(50).click()}),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(53,"div",12),p.TgZ(54,"label",13),p._uU(55),p.ALo(56,"translate"),p.qZA(),p.TgZ(57,"div",14),p.TgZ(58,"span"),p.TgZ(59,"input",15,20),p.NdJ("change",function(){p.CHM(e);const i=p.MAs(60);return t.upload(i.files)}),p.qZA(),p.TgZ(61,"label"),p.TgZ(62,"ion-icon",17),p.NdJ("click",function(){return p.CHM(e),p.MAs(60).click()}),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(63,"ion-list"),p.TgZ(64,"ion-reorder-group",21),p.YNc(65,q,3,1,"ion-item",22),p.qZA(),p.qZA(),p.YNc(66,C,5,3,"div",23),p.TgZ(67,"ion-list"),p.YNc(68,U,9,4,"ion-item",22),p.qZA(),p.TgZ(69,"div",24),p.TgZ(70,"button",25),p.NdJ("click",function(){return t.onSubmit()}),p._uU(71),p.ALo(72,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA()}2&e&&(p.xp6(16),p.Oqu(p.lcZ(17,11,"Become a driver")),p.xp6(4),p.hij("",p.lcZ(21,13,"Please upload pictures of the following documents"),":"),p.xp6(5),p.hij("1. ",p.lcZ(26,15,"ID card front"),""),p.xp6(10),p.hij("2. ",p.lcZ(36,17,"ID card back"),""),p.xp6(10),p.hij("3. ",p.lcZ(46,19,"Driver license front"),""),p.xp6(10),p.hij("4. ",p.lcZ(56,21,"Driver license back"),""),p.xp6(10),p.Q6J("ngForOf",t.uploader.queue),p.xp6(1),p.Q6J("ngIf",t.checker),p.xp6(2),p.Q6J("ngForOf",t.pics),p.xp6(2),p.Q6J("disabled",0==t.isDisabled),p.xp6(1),p.Oqu(p.lcZ(72,23,"Submit")))},directives:[n.Gu,n.sr,n.Sm,n.fG,n.wd,n.Q$,n.gu,n.W2,n.yW,n.q_,n.oz,s.sg,s.O5,n.Ie],pipes:[T.X$],styles:["ion-content[_ngcontent-%COMP%]{--ion-background-color:#e9e9e9}ion-toolbar[_ngcontent-%COMP%]{--ion-background-color:#eee}ion-title[_ngcontent-%COMP%]{text-align:center}.file-input-container[_ngcontent-%COMP%]{text-align:right}input[type=file][_ngcontent-%COMP%]{display:none}label[_ngcontent-%COMP%]{border:1px solid #ccc;padding:8px 15px;cursor:pointer}.nv-file-over[_ngcontent-%COMP%]{border:3px dotted red}.text[_ngcontent-%COMP%]{font-family:Open Sans Light}#toolbarIcon[_ngcontent-%COMP%]{font-size:1.7em}span[_ngcontent-%COMP%]{color:#fff}.centered[_ngcontent-%COMP%]{text-align:center}hr[_ngcontent-%COMP%]{background:#eee;width:70%!important}.backIcon[_ngcontent-%COMP%]{font-size:150%}.back[_ngcontent-%COMP%], .backIcon[_ngcontent-%COMP%]{color:#ffae00}"]}),e})()}];let O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[r.Bz.forChild(w)],r.Bz]}),e})();var S=i(2472),M=i(3577);function k(e){return new S.w(e)}let P=(()=>{class e{constructor(e,t,i){this.accountService=e,this.imageService=t,this.driverService=i,this.folderName="driverFacePic",this.imgType="personalImg",this.applicationUserId=this.accountService.userValue.id}}return e.\u0275fac=function(t){return new(t||e)(p.LFG(A.B),p.LFG(x.A),p.LFG(b.F))},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[s.ez,o.u5,g,n.Pc,O,o.UX,T.aw.forChild({loader:{provide:T.Zw,useFactory:k,deps:[l.eN]}}),M.LanguagePopoverPageModule]]}),e})()}}]);