!function(){function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(self.webpackChunkcsharpcornerauthor=self.webpackChunkcsharpcornerauthor||[]).push([[937],{297:function(r,n,i){"use strict";i.d(n,{p:function(){return l}});var o=i(205),a=i(5304),s=i(3342),c=i(2340),u=i(3018),d=i(1841),p=i(728),l=function(){var r=function(){function r(t,n){e(this,r),this.http=t,this.sharedService=n,this.orders=[],this.completedOrder=!1}return t(r,[{key:"createOrder",value:function(e){var r=this.sharedService.headerGerneration();return this.http.post("".concat(c.N.apiUrl,"/api/order"),e,{headers:r,responseType:"text"}).pipe((0,a.K)(this.handleError))}},{key:"addToFavourites",value:function(e){var r=this.sharedService.headerGerneration();return this.http.post("".concat(c.N.apiUrl,"/api/order/favourites"),e,{headers:r,responseType:"text"}).pipe((0,a.K)(this.handleError))}},{key:"getMyFavourites",value:function(e){var r=this.sharedService.headerGerneration();return this.http.get("".concat(c.N.apiUrl,"/api/order/favourites/").concat(e),{headers:r}).pipe((0,a.K)(this.handleError))}},{key:"deleteFavouriteOrder",value:function(e){var r=this.sharedService.headerGerneration();return this.http.delete("".concat(c.N.apiUrl,"/api/order/favourites/").concat(e),{headers:r}).pipe((0,s.b)(function(e){return console.log("deleted favourite order: ",JSON.stringify(e))}),(0,a.K)(this.handleError))}},{key:"getDirections",value:function(e,r,t,n){var i=this.sharedService.headerGerneration();return this.http.post("https://maps.googleapis.com/maps/api/distancematrix/json?units=imperial&origins=".concat(e,",").concat(r,"&destinations=").concat(t,"%2C").concat(n,"%7C&key=AIzaSyAEvlXdM4joG4bNVT5l-tJSk9lUSGhxMNw"),{headers:i,responseType:"text"}).pipe((0,a.K)(this.handleError))}},{key:"getOrderById",value:function(e){var r=this,t=this.sharedService.headerGerneration();return this.http.get("".concat(c.N.apiUrl,"/api/order/id/").concat(e),{headers:t}).pipe((0,s.b)(function(e){return r.order=e}))}},{key:"getCanceledOrderById",value:function(e){var r=this,t=this.sharedService.headerGerneration();return this.http.get("".concat(c.N.apiUrl,"/api/order/canceled/").concat(e),{headers:t}).pipe((0,s.b)(function(e){return r.order=e}))}},{key:"getLastCompletedOrder",value:function(e){var r=this.sharedService.headerGerneration();return this.http.get("".concat(c.N.apiUrl,"/api/order/completed/").concat(e),{headers:r}).pipe((0,a.K)(this.handleError))}},{key:"getMyOrder",value:function(e){var r=this.sharedService.headerGerneration();return this.http.get("".concat(c.N.apiUrl,"/api/order/").concat(e),{headers:r}).pipe((0,a.K)(this.handleError))}},{key:"getOrderForChat",value:function(e){var r=this.sharedService.headerGerneration();return this.http.get("".concat(c.N.apiUrl,"/api/order/chat/").concat(e),{headers:r}).pipe((0,a.K)(this.handleError))}},{key:"getAllOrders",value:function(){var e=this.sharedService.headerGerneration();return this.http.get("".concat(c.N.apiUrl,"/api/order"),{headers:e}).pipe((0,a.K)(this.handleError))}},{key:"getNormalOrders",value:function(){var e=this.sharedService.headerGerneration();return this.http.get("".concat(c.N.apiUrl,"/api/order/normal"),{headers:e}).pipe((0,a.K)(this.handleError))}},{key:"getComfortOrders",value:function(){var e=this.sharedService.headerGerneration();return this.http.get("".concat(c.N.apiUrl,"/api/order/comfort"),{headers:e}).pipe((0,a.K)(this.handleError))}},{key:"acceptOrder",value:function(e,r){var t=this,n=this.sharedService.headerGerneration();return this.http.put("".concat(c.N.apiUrl,"/api/order/").concat(e,"/").concat(r),{headers:n,responseType:"json"}).pipe((0,s.b)(function(e){return t.driverId=r}),(0,a.K)(this.handleError))}},{key:"updateOrderEta",value:function(e,r){var t=this.sharedService.headerGerneration();return this.http.put("".concat(c.N.apiUrl,"/api/order/eta/").concat(e,"/").concat(r),{headers:t,responseType:"json"}).pipe((0,a.K)(this.handleError))}},{key:"updateDriverArrived",value:function(e){var r=this.sharedService.headerGerneration();return this.http.put("".concat(c.N.apiUrl,"/api/order/arrived/").concat(e),{headers:r,responseType:"json"}).pipe((0,a.K)(this.handleError))}},{key:"rateOrder",value:function(e){var r=this.sharedService.headerGerneration();return this.http.put("".concat(c.N.apiUrl,"/api/order/rate/").concat(e),{headers:r,responseType:"json"}).pipe((0,a.K)(this.handleError))}},{key:"increaseOrderPrice",value:function(e,r){var t=this.sharedService.headerGerneration();return this.http.put("".concat(c.N.apiUrl,"/api/order/increase/").concat(e,"/").concat(r),{headers:t,responseType:"json"}).pipe((0,a.K)(this.handleError))}},{key:"completeOrder",value:function(e){var r=this.sharedService.headerGerneration();return this.http.put("".concat(c.N.apiUrl,"/api/order/").concat(e),{headers:r,responseType:"json"}).pipe((0,a.K)(this.handleError))}},{key:"deleteOrder",value:function(e){var r=this.sharedService.headerGerneration();return this.http.delete("".concat(c.N.apiUrl,"/api/order/").concat(e),{headers:r}).pipe((0,s.b)(function(e){return console.log("deleted order: ",JSON.stringify(e))}),(0,a.K)(this.handleError))}},{key:"driverIncreaseOrderPrice",value:function(e,r,t){var n=this.sharedService.headerGerneration();return this.http.put("".concat(c.N.apiUrl,"/api/order/increased/").concat(e,"/").concat(r,"/").concat(t),{headers:n,responseType:"json"}).pipe((0,a.K)(this.handleError))}},{key:"resetIncreasing",value:function(e){var r=this.sharedService.headerGerneration();return this.http.put("".concat(c.N.apiUrl,"/api/order/reset/").concat(e),{headers:r,responseType:"json"}).pipe((0,a.K)(this.handleError))}},{key:"increasedOrderAccept",value:function(e,r){var t=this.sharedService.headerGerneration();return this.http.put("".concat(c.N.apiUrl,"/api/order/accepted/increase/").concat(e,"/").concat(r),{headers:t,responseType:"json"}).pipe((0,a.K)(this.handleError))}},{key:"incrementOrderPrice",value:function(e){var r=this.sharedService.headerGerneration();return this.http.put("".concat(c.N.apiUrl,"/api/order/increment/").concat(e),{headers:r,responseType:"json"}).pipe((0,a.K)(this.handleError))}},{key:"decrementOrderPrice",value:function(e){var r=this.sharedService.headerGerneration();return this.http.put("".concat(c.N.apiUrl,"/api/order/decrement/").concat(e),{headers:r,responseType:"json"}).pipe((0,a.K)(this.handleError))}},{key:"handleError",value:function(e){var r="";return e.error instanceof ErrorEvent?(console.log("Client side error."),r="Error: ".concat(e.error.message)):(console.log("Server side error."),r="Error Code: ".concat(e.status,"\nMessage: ").concat(e.message)),console.log(r),(0,o._)(r)}}]),r}();return r.\u0275fac=function(e){return new(e||r)(u.LFG(d.eN),u.LFG(p.F))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r}()},5224:function(r,n,i){"use strict";i.r(n),i.d(n,{DrivingModePageModule:function(){return F},HttpLoaderFactory:function(){return K}});var o=i(8583),a=i(3679),s=i(7823),c=i(4481),u=i(4762),d=i(3018),p=i(8442),l=i(6522),h=i(4426),v=i(2340),g=i(297),f=i(5056),m=i(1177),b=i(8948),y=i(1799),k=i(791),S=i(205),T=i(5304),Z=i(1841),w=i(728),x=function(){var r=function(){function r(t,n){e(this,r),this.http=t,this.sharedService=n}return t(r,[{key:"getTotalProfit",value:function(){var e=this.sharedService.headerGerneration();return this.http.get("".concat(v.N.apiUrl,"/api/profit"),{headers:e}).pipe((0,T.K)(this.handleError))}},{key:"addToProfit",value:function(e){var r=this.sharedService.headerGerneration();return this.http.put("".concat(v.N.apiUrl,"/api/profit/").concat(e),{headers:r,responseType:"json"}).pipe((0,T.K)(this.handleError))}},{key:"handleError",value:function(e){var r="";return e.error instanceof ErrorEvent?(console.log("Client side error."),r="Error: ".concat(e.error.message)):(console.log("Server side error."),r="Error Code: ".concat(e.status,"\nMessage: ").concat(e.message)),console.log(r),(0,S._)(r)}}]),r}();return r.\u0275fac=function(e){return new(e||r)(d.LFG(Z.eN),d.LFG(w.F))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r}(),A=i(7800),O=i(4687),N=["map"];function U(e,r){1&e&&d._UZ(0,"ion-icon",31)}function C(e,r){if(1&e&&(d.TgZ(0,"small",32),d._uU(1),d.ALo(2,"translate"),d.qZA()),2&e){var t=d.oxw();d.xp6(1),d.AsE("",d.lcZ(2,2,"Pickup time")," ",t.pickUpTime,"")}}function I(e,r){if(1&e){var t=d.EpF();d.TgZ(0,"button",33),d.NdJ("click",function(){return d.CHM(t),d.oxw().onTheAddress()}),d._uU(1),d.ALo(2,"translate"),d.qZA()}2&e&&(d.xp6(1),d.Oqu(d.lcZ(2,1,"Im on the address")))}function G(e,r){if(1&e){var t=d.EpF();d.TgZ(0,"button",18),d.NdJ("click",function(){return d.CHM(t),d.oxw().cancelOrder()}),d._uU(1),d.ALo(2,"translate"),d.qZA()}2&e&&(d.xp6(1),d.hij(" ",d.lcZ(2,1,"Cancel")," "))}function P(e,r){1&e&&(d.TgZ(0,"ul",34),d.TgZ(1,"li"),d._uU(2),d.ALo(3,"translate"),d.qZA(),d.qZA()),2&e&&(d.xp6(2),d.Oqu(d.lcZ(3,1,"No messages for now")))}function q(e,r){1&e&&d._UZ(0,"ul")}var E,D=p.Vn.Geolocation,L=[{path:"",component:(E=function(){function r(t,n,i,o,a,s,c,u,d,p,l,h,v){e(this,r),this.route=t,this.orderService=n,this.accountService=i,this.tripService=o,this.walletService=a,this.driverService=s,this.chatService=c,this.profitService=u,this.translate=d,this.popoverController=p,this.alertController=l,this.callNumber=h,this.formBuilder=v,this.driverId=this.tripService.currentTripDriverId,this.applicationUserId=this.accountService.userValue.id,this.isDrivingNow=this.accountService.userValue.isDrivingNow,this.orders=[],this.closestOrders=[],this.chatStyle="",this.orderDiv=document.getElementById("orderDiv"),this.subscriptions=[],this.msgInboxArray=[],this.translate.setDefaultLang(this.accountService.userValue.choosenLanguage)}return t(r,[{key:"ngOnInit",value:function(){var e=this;this.form=this.formBuilder.group({orderId:[""],sender:[""],user:[""],text:[""]}),this.id=setInterval(function(){e.watchPos()},3e3),this.getAcceptedTrip(),this.isStarted=!1;var r=(new h.su).configureLogging(h.in.Information).withUrl("".concat(v.N.signalRUrl,"/orderHub")).build();r.start().then(function(){console.log("signalR Connected in driving-mode")}).catch(function(e){console.log("Reconnecting in 1 sec."),setTimeout(function(){return r.start()},1e3)}),r.on("OrderDeleted",function(r){e.subscriptions.push(e.orderService.getCanceledOrderById(r).subscribe(function(r){r.acceptedBy==e.applicationUserId&&e.canceledOrder()}))}),r.on("OrderAccepted",function(r){e.subscriptions.push(e.orderService.getOrderById(r).subscribe(function(r){r.acceptedBy==e.applicationUserId&&e.getAcceptedTrip()}))}),r.on("Navigate",function(r){e.subscriptions.push(e.orderService.getOrderById(r).subscribe(function(r){r.acceptedBy==e.applicationUserId&&e.getAcceptedTrip()}))}),r.on("MessageGet",function(r){e.order.id==r&&e.getMessages(r)}),r.on("LocateDriver",function(e){}),r.on("WalletAction",function(){}),r.on("CompleteOrder",function(){})}},{key:"f",get:function(){return this.form.controls}},{key:"sendMessage",value:function(){var e=this;this.form.value.sender=this.applicationUserId,this.form.value.user=this.order.applicationUserId,this.form.value.orderId=this.order.id,this.form.valid?this.chatService.sendMessage(this.form.value).subscribe(function(r){console.log(e.form.value)}):(console.log(this.form.value),console.log("Please provide all the required values!"))}},{key:"getMessages",value:function(e){this.chatService.getMessages(e).subscribe(function(e){console.log(e.text)})}},{key:"ngOnDestroy",value:function(){this.id&&clearInterval(this.id)}},{key:"ionViewDidEnter",value:function(){1==this.accountService.userValue.isDrivingNow&&this.getAcceptedTrip()}},{key:"callDriver",value:function(){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=this.order.applicationUser.phone.toString(),this.callNumber.callNumber(r,!0).then(function(e){return console.log("Launched dialer!",e)}).catch(function(e){return console.log("Error launching dialer",e)});case 2:case"end":return e.stop()}},e,this)}))}},{key:"watchPos",value:function(){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var r,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.getCurrentPosition();case 2:r=e.sent,t={lat:r.coords.latitude,lng:r.coords.longitude},this.subscriptions.push(this.driverService.locateDriver(this.accountService.userValue.driverId,t.lat.toString(),t.lng.toString()).subscribe(function(e){}));case 5:case"end":return e.stop()}},e,this)}))}},{key:"navigateToUserAndCalculateDistance",value:function(){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var r,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=+this.order.locationLat,t=+this.order.locationLong,this.subscriptions.push(this.tripService.navigateToUser(this.currentTrip.id,this.order.id).subscribe(function(){})),"ios"===p.dV.platform&&(window.open("maps://maps.apple.com/maps?q=".concat(r,",").concat(t,"&t=m&dirflg=d")),this.isStarted=!0),window.open("https://www.google.com/maps/dir/?api=1&destination=".concat(r,",").concat(t,"&travelmode=driving")),this.isStarted=!0;case 2:case"end":return e.stop()}},e,this)}))}},{key:"navigateToPointAndCalculateDistance",value:function(){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var r,t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=+this.order.destinationLat,t=+this.order.destinationLong,"ios"===p.dV.platform&&(window.open("maps://maps.apple.com/maps?q=".concat(r,",").concat(t,"&t=m&dirflg=d")),this.isStarted=!0),window.open("https://www.google.com/maps/dir/?api=1&destination=".concat(r,",").concat(t,"&travelmode=driving")),this.isStarted=!0,this.subscriptions.push(this.tripService.startTrip(this.currentTrip.id).subscribe(function(){n.startTrip()}));case 2:case"end":return e.stop()}},e,this)}))}},{key:"startTrip",value:function(){var e=this;this.subscriptions.push(this.tripService.startTrip(this.currentTrip.id).subscribe(function(r){r&&(e.tripStatus=r.status)}))}},{key:"finishTrip",value:function(){this.completeTripAlert()}},{key:"openLanguagePopover",value:function(e){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function r(){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.popoverController.create({component:l.m,event:e});case 2:return t=r.sent,r.next=5,t.present();case 5:case"end":return r.stop()}},r,this)}))}},{key:"calculateEta",value:function(e){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function r(){var t,n,i,o=this;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=new google.maps.DirectionsService,r.next=3,D.getCurrentPosition();case 3:n=r.sent,i={lat:n.coords.latitude,lng:n.coords.longitude},t.route({origin:{lat:i.lat,lng:i.lng},destination:{lat:+e.locationLat,lng:+e.locationLong},travelMode:google.maps.TravelMode.DRIVING},function(r,t){"OK"===t&&(o.eta=r.routes[0].legs[0].duration.text,e.km=r.routes[0].legs[0].distance.value/1e3,e.distanceText=r.routes[0].legs[0].distance.text,e.eta=r.routes[0].legs[0].duration.text,o.distance=e.distanceText)});case 6:case"end":return r.stop()}},r)}))}},{key:"getAcceptedTrip",value:function(){var e=this;this.subscriptions.push(this.tripService.getTrip(this.driverId).subscribe(function(r){null!=r&&(e.tripStatus=r.status,e.currentTrip=r,e.subscriptions.push(e.orderService.getOrderById(r.orderId).subscribe(function(t){null!=t&&(r.order=t,e.order=r.order,e.location=t.location,e.destination=t.destination,e.totalPrice=t.totalPrice,e.userLatitude=t.locationLat,e.userLongitude=t.locationLong,e.userDestinationLat=t.destinationLat,e.userDestinationLng=t.destinationLong,e.pickUpTime=t.pickUpTime,e.tripDistance=t.tripDistance,e.calculateEta(t),e.subscriptions.push(e.driverService.getDriver(e.accountService.userValue.driverId).subscribe(function(r){e.tripPriceForDriver=t.totalPrice*(r.comission/100)})))})))}))}},{key:"onTheAddress",value:function(){this.subscriptions.push(this.orderService.updateDriverArrived(this.order.id).subscribe(function(){}))}},{key:"cancelOrder",value:function(){this.alertForCancel()}},{key:"alertForCancel",value:function(){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.translate.get(["Are you sure you want to cancel the order?","Your rating will decrease!","Confirm","Cancel"]).subscribe(function(e){return(0,u.mG)(r,void 0,void 0,regeneratorRuntime.mark(function r(){var t,n=this;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.alertController.create({header:e["Are you sure you want to cancel the order?"],message:e["Your rating will decrease!"],buttons:[{text:e.Cancel,role:"cancel"},{text:e.Confirm,handler:function(){n.subscriptions.push(n.driverService.cancelOrderFromDriver(n.order.id).subscribe(function(e){n.subscriptions.push(n.tripService.cancelTrip(n.currentTrip.id).subscribe(function(){n.accountService.userValue.isDrivingNow=!1,n.subscriptions.push(n.accountService.updateDriving(n.applicationUserId,!1).subscribe(function(){n.subscriptions.push(n.driverService.voteDown(n.accountService.userValue.driverId).subscribe(function(){n.route.navigate(["menu/driving"])}))}))}))}))}}]});case 2:return t=r.sent,r.next=5,t.present();case 5:case"end":return r.stop()}},r,this)}))});case 1:case"end":return e.stop()}},e,this)}))}},{key:"canceledOrder",value:function(){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.translate.get(["Order is cancelled by the customer."]).subscribe(function(e){return(0,u.mG)(r,void 0,void 0,regeneratorRuntime.mark(function r(){var t,n=this;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.alertController.create({header:e["Order is cancelled by the customer."],buttons:[{text:"Ok",handler:function(){n.accountService.userValue.isDrivingNow=!1,n.subscriptions.push(n.accountService.updateDriving(n.applicationUserId,!1).subscribe(function(){n.route.navigate(["menu/driving"])}))}}]});case 2:return t=r.sent,r.next=5,t.present();case 5:case"end":return r.stop()}},r,this)}))});case 1:case"end":return e.stop()}},e,this)}))}},{key:"completeTripAlert",value:function(){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.translate.get(["Are you sure you want to finish the trip?","Yes","No"]).subscribe(function(e){return(0,u.mG)(r,void 0,void 0,regeneratorRuntime.mark(function r(){var t,n=this;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.alertController.create({cssClass:"my-custom-class",header:e["Are you sure you want to finish the trip?"],buttons:[{text:e.No},{text:e.Yes,handler:function(){n.subscriptions.push(n.tripService.completeTrip(n.currentTrip.id).subscribe(function(e){n.subscriptions.push(n.walletService.dischargeWallet(n.applicationUserId,n.tripPriceForDriver).subscribe(function(e){n.subscriptions.push(n.profitService.addToProfit(n.tripPriceForDriver).subscribe(function(){}))})),e&&(n.tripStatus=e.status),n.subscriptions.push(n.orderService.completeOrder(n.currentTrip.orderId).subscribe(function(){}));var r=n.accountService.userValue.id,t=n.accountService.userValue.isDrivingNow=!1;n.subscriptions.push(n.accountService.updateDriving(r,t).subscribe()),n.isDrivingNow=n.accountService.userValue.isDrivingNow,n.route.navigate(["menu/driving"])}))}}]});case 2:return t=r.sent,r.next=5,t.present();case 5:case"end":return r.stop()}},r,this)}))});case 1:case"end":return e.stop()}},e,this)}))}}]),r}(),E.\u0275fac=function(e){return new(e||E)(d.Y36(c.F0),d.Y36(g.p),d.Y36(f.B),d.Y36(m.a),d.Y36(b.X),d.Y36(y.F),d.Y36(k.a),d.Y36(x),d.Y36(A.sK),d.Y36(s.Dh),d.Y36(s.Br),d.Y36(O.X),d.Y36(a.qu))},E.\u0275cmp=d.Xpm({type:E,selectors:[["app-driving-mode"]],viewQuery:function(e,r){var t;1&e&&d.Gf(N,1,d.SBq),2&e&&d.iGM(t=d.CRH())&&(r.mapRef=t.first)},decls:60,vars:30,consts:[["slot","start"],["slot","end"],["id","toolbarIcon","name","language-outline",3,"click"],["padding","",1,"noScroll"],[1,"col-md-10"],["id","orderDiv",1,"list-group","mt-2"],[1,"text","list-group-item","list-group-item-action","flex-column","align-items-start"],["name","alert-circle",4,"ngIf"],["id","warningicn",4,"ngIf"],[1,"d-flex","w-100","justify-content-between"],[1,"mb-1","fonted"],["name","analytics-outline",1,"mr-2"],["name","arrow-forward-outline",1,"mr-2"],[1,"text-center"],["type","button",1,"fonted","btn","btn-info","btn-sm","btn-block",3,"disabled","click"],["type","button","color","primary",1,"fonted","btn","btn-info","btn-sm","btn-block",3,"disabled","click"],["type","button",1,"fonted","btn","btn-success","btn-sm","btn-block",3,"disabled","click"],["type","button","class","fonted btn btn-info btn-sm btn-block",3,"click",4,"ngIf"],["type","button",1,"fonted","btn","btn-warning","btn-sm","btn-block",3,"click"],["name","call",1,"mr-2"],["class","fonted btn btn-warning btn-sm btn-block","type","button",3,"click",4,"ngIf"],[1,"ion-no-border","page-wrap"],["novalidate","",1,"col-md-6",3,"formGroup"],["id","chat",1,"row","chat"],[1,"col"],[1,"msg-box"],["class","text-center mr-5",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"type"],["formControlName","text",3,"placeholder"],["name","send-outline",3,"click"],["name","alert-circle"],["id","warningicn"],["type","button",1,"fonted","btn","btn-info","btn-sm","btn-block",3,"click"],[1,"text-center","mr-5"]],template:function(e,r){1&e&&(d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-buttons",0),d._UZ(3,"ion-menu-button"),d.qZA(),d.TgZ(4,"ion-title"),d.TgZ(5,"ion-label"),d._uU(6),d.ALo(7,"translate"),d.qZA(),d.qZA(),d.TgZ(8,"ion-buttons",1),d.TgZ(9,"ion-icon",2),d.NdJ("click",function(e){return r.openLanguagePopover(e)}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(10,"ion-content",3),d.TgZ(11,"div",4),d.TgZ(12,"div",5),d.TgZ(13,"a",6),d.YNc(14,U,1,0,"ion-icon",7),d.YNc(15,C,3,4,"small",8),d.TgZ(16,"div",9),d._UZ(17,"h5",10),d.qZA(),d.TgZ(18,"p"),d._UZ(19,"ion-icon",11),d._uU(20),d.qZA(),d._UZ(21,"hr"),d.TgZ(22,"p"),d._UZ(23,"ion-icon",12),d._uU(24),d.qZA(),d.TgZ(25,"div",13),d.TgZ(26,"p"),d.TgZ(27,"button",14),d.NdJ("click",function(){return r.navigateToUserAndCalculateDistance()}),d._uU(28),d.ALo(29,"translate"),d.qZA(),d.qZA(),d.TgZ(30,"p"),d.TgZ(31,"button",15),d.NdJ("click",function(){return r.navigateToPointAndCalculateDistance()}),d._uU(32),d.ALo(33,"translate"),d.qZA(),d.qZA(),d.TgZ(34,"p"),d.TgZ(35,"button",16),d.NdJ("click",function(){return r.finishTrip()}),d._uU(36),d.ALo(37,"translate"),d.qZA(),d.qZA(),d.TgZ(38,"p"),d.YNc(39,I,3,3,"button",17),d.qZA(),d.TgZ(40,"p"),d.TgZ(41,"button",18),d.NdJ("click",function(){return r.callDriver()}),d._UZ(42,"ion-icon",19),d._uU(43),d.ALo(44,"translate"),d.qZA(),d.qZA(),d.TgZ(45,"p"),d.YNc(46,G,3,3,"button",20),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(47,"ion-footer",21),d.TgZ(48,"form",22),d.TgZ(49,"div",23),d.TgZ(50,"div",24),d.TgZ(51,"ion-card"),d.TgZ(52,"div",25),d.YNc(53,P,4,3,"ul",26),d.YNc(54,q,1,0,"ul",27),d.qZA(),d.qZA(),d.TgZ(55,"ion-card",28),d.TgZ(56,"ion-item"),d._UZ(57,"ion-input",29),d.ALo(58,"translate"),d.TgZ(59,"ion-icon",30),d.NdJ("click",function(){return r.sendMessage()}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(6),d.Oqu(d.lcZ(7,18,"Accepted order")),d.xp6(8),d.Q6J("ngIf",r.pickUpTime),d.xp6(1),d.Q6J("ngIf",r.pickUpTime),d.xp6(5),d.hij("",r.location," "),d.xp6(4),d.hij("",r.destination," "),d.xp6(3),d.Q6J("disabled","Started"==r.tripStatus),d.xp6(1),d.Oqu(d.lcZ(29,20,"Navigate to user")),d.xp6(3),d.Q6J("disabled","!Processing"==r.tripStatus),d.xp6(1),d.Oqu(d.lcZ(33,22,"Start trip")),d.xp6(3),d.Q6J("disabled","Processing"==r.tripStatus),d.xp6(1),d.hij(" ",d.lcZ(37,24,"Finish trip"),""),d.xp6(3),d.Q6J("ngIf","Navigating"==r.tripStatus),d.xp6(4),d.hij("",d.lcZ(44,26,"Call passenger")," "),d.xp6(3),d.Q6J("ngIf","Processing"==r.tripStatus),d.xp6(2),d.Q6J("formGroup",r.form),d.xp6(5),d.Q6J("ngIf",0==r.msgInboxArray.length),d.xp6(1),d.Q6J("ngForOf",r.msgInboxArray),d.xp6(3),d.Q6J("placeholder",d.lcZ(58,28,"Type your message...")))},directives:[s.Gu,s.sr,s.Sm,s.fG,s.wd,s.Q$,s.gu,s.W2,o.O5,s.fr,a.Y7,a.JL,a.sg,s.PM,o.sg,s.Ie,s.pK,s.j9,a.JJ,a.u],pipes:[A.X$],styles:["ion-content[_ngcontent-%COMP%]{--ion-background-color:#e9e9e9}ion-toolbar[_ngcontent-%COMP%]{--ion-background-color:#eee}ion-title[_ngcontent-%COMP%]{text-align:center}#toolbarIcon[_ngcontent-%COMP%]{font-size:1.7em}.fonted[_ngcontent-%COMP%]{font-family:Open Sans Light}.centered[_ngcontent-%COMP%]{text-align:center}.text[_ngcontent-%COMP%]{font-family:Open Sans Light}hr[_ngcontent-%COMP%]{background:#eee;width:70%!important}.blink_me[_ngcontent-%COMP%]{-webkit-animation:blinker 1s linear infinite;animation:blinker 1s linear infinite}@-webkit-keyframes blinker{50%{opacity:0}}@keyframes blinker{50%{opacity:0}}.msg-box[_ngcontent-%COMP%]{width:100%;height:140px;padding:10px 30px;font-size:14px;font-family:Open Sans Light;overflow:auto}.msg-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:-5px;list-style:none}.msg-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .ex-msg[_ngcontent-%COMP%]{text-align:right}.msg-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .in-msg[_ngcontent-%COMP%]{text-align:left;margin-left:-60px}"]}),E)}],_=function(){var r=function r(){e(this,r)};return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({imports:[[c.Bz.forChild(L)],c.Bz]}),r}(),M=i(2472),R=i(3577);function K(e){return new M.w(e)}var J,F=((J=function r(){e(this,r)}).\u0275fac=function(e){return new(e||J)},J.\u0275mod=d.oAB({type:J}),J.\u0275inj=d.cJS({providers:[O.X],imports:[[o.ez,a.u5,s.Pc,_,a.UX,A.aw.forChild({loader:{provide:A.Zw,useFactory:K,deps:[Z.eN]}}),R.LanguagePopoverPageModule]]}),J)}}])}();