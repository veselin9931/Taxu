{"version":3,"sources":["webpack:///src/app/order-details/order-details-routing.module.ts","webpack:///src/app/order-details/order-details.page.scss","webpack:///src/app/order-details/order-details.page.html","webpack:///src/_services/trip/trip.service.ts","webpack:///src/app/order-details/order-details.module.ts","webpack:///src/app/order-details/order-details.page.ts"],"names":["routes","path","component","OrderDetailsPageRoutingModule","imports","forChild","exports","TripService","http","accountService","sharedService","trips","currentTripDriverId","userValue","id","currentOrder","data","headers","headerGerneration","currentTripOrderId","orderId","order","post","apiUrl","responseType","pipe","console","log","JSON","stringify","handleError","applicationUserId","get","trip","tripId","put","error","errorMessage","ErrorEvent","message","status","providedIn","HttpLoaderFactory","OrderDetailsPageModule","loader","provide","useFactory","deps","declarations","Geolocation","OrderDetailsPage","translate","popoverController","router","route","orderService","driverService","walletService","tripService","alertController","snapshot","params","isDrivingNow","location","locationLat","locationLong","destination","destinationLat","destinationLong","increasePrice","isAccepted","isCompleted","createdOn","applicationUser","totalPrice","acceptedBy","tripDistance","userDistance","withPets","withStroller","carType","isRated","km","distanceText","eta","isDeleted","isDriverArrived","increasedByDriver","increaseAccepted","increasedBy","special","mapVisible","subscriptions","setDefaultLang","choosenLanguage","mapId","document","getElementById","style","display","orderDiv","connection","configureLogging","Information","withUrl","signalRUrl","build","start","then","err","setTimeout","on","push","getOrderById","subscribe","IncreaseAccepted","IncreaseRefused","OrderTaken","canIncrease","calculateEta","loadMap","mapRef","userLocationLatLng","lat","lng","options","center","google","maps","LatLng","zoom","disableDefaultUI","mapTypeId","MapTypeId","ROADMAP","zoomControl","map","Map","nativeElement","icon","url","scaledSize","window","Size","anchor","x","y","marker","Marker","position","navigateToUserAndCalculateDistance","directionsService","DirectionsService","directionsRenderer","DirectionsRenderer","getCurrentPosition","coordinates","myLatLng","coords","latitude","longitude","userLatLng","userLat","userLng","origin","travelMode","TravelMode","DRIVING","response","setDirections","p1","p2","distance","geometry","spherical","computeDistanceBetween","toFixed","infowindow","InfoWindow","content","open","alert","setMap","cancelable","preventDefault","value","navigate","driverIncreaseOrderPrice","driverId","myLat","myLng","orderLatLng","orderLat","orderLng","legs","duration","text","getDriverActiveCar","car","typeId","WrongCarAlert","getDriver","driver","tripPriceForDriver","comission","getMyWallet","wallet","ammount","NotEnoughCashAlert","updateDriving","acceptOrder","updateOrderEta","createTrip","ev","create","event","popover","present","cssClass","header","buttons","handler","role","read","selector","template"],"mappings":"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","file":"order-details-order-details-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { OrderDetailsPage } from './order-details.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: OrderDetailsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class OrderDetailsPageRoutingModule {}\r\n","export default \"ion-content {\\n  --ion-background-color:#e9e9e9;\\n}\\n\\nion-toolbar {\\n  --ion-background-color:#eeeeee;\\n}\\n\\n#map {\\n  height: 100%;\\n  width: 100%;\\n}\\n\\nion-title {\\n  text-align: center;\\n}\\n\\nh5 {\\n  font-size: 0.9em;\\n}\\n\\n#toolbarIcon {\\n  font-size: 1.7em;\\n}\\n\\n.fonted {\\n  font-family: Open Sans Light;\\n}\\n\\n.centered {\\n  text-align: center;\\n}\\n\\n.text {\\n  font-family: Open Sans Light;\\n}\\n\\nhr {\\n  background: #eeeeee;\\n  width: 70% !important;\\n}\\n\\n.blink_me {\\n  -webkit-animation: blinker 1s linear infinite;\\n          animation: blinker 1s linear infinite;\\n}\\n\\n@-webkit-keyframes blinker {\\n  50% {\\n    opacity: 0;\\n  }\\n}\\n\\n@keyframes blinker {\\n  50% {\\n    opacity: 0;\\n  }\\n}\\n\\n.msg-box {\\n  width: 100%;\\n  height: 140px;\\n  padding: 10px 30px;\\n  font-size: 14px;\\n  font-family: Open Sans Light;\\n  overflow: auto;\\n}\\n\\n.msg-box ul {\\n  margin: -5px;\\n  list-style: none;\\n}\\n\\n.msg-box ul .ex-msg {\\n  text-align: right;\\n}\\n\\n.msg-box ul .in-msg {\\n  text-align: left;\\n  margin-left: -60px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXG9yZGVyLWRldGFpbHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUksOEJBQUE7QUFBSjs7QUFHQTtFQUNJLDhCQUFBO0FBQUo7O0FBR0k7RUFDQSxZQUFBO0VBQ0EsV0FBQTtBQUFKOztBQUlBO0VBQ0ksa0JBQUE7QUFESjs7QUFJQTtFQUNJLGdCQUFBO0FBREo7O0FBR0E7RUFDSSxnQkFBQTtBQUFKOztBQUdBO0VBQ0ksNEJBQUE7QUFBSjs7QUFHQTtFQUNJLGtCQUFBO0FBQUo7O0FBR0E7RUFFSSw0QkFBQTtBQURKOztBQUlBO0VBQ0ksbUJBQUE7RUFDQSxxQkFBQTtBQURKOztBQU1BO0VBQ0ksNkNBQUE7VUFBQSxxQ0FBQTtBQUhKOztBQU1FO0VBQ0U7SUFDRSxVQUFBO0VBSEo7QUFDRjs7QUFBRTtFQUNFO0lBQ0UsVUFBQTtFQUhKO0FBQ0Y7O0FBT0E7RUFDSSxXQUFBO0VBQ0EsYUFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLDRCQUFBO0VBQ0EsY0FBQTtBQUxKOztBQU9JO0VBQ0ksWUFBQTtFQUVBLGdCQUFBO0FBTlI7O0FBT1E7RUFDSSxpQkFBQTtBQUxaOztBQVFRO0VBQ0ksZ0JBQUE7RUFDQSxrQkFBQTtBQU5aIiwiZmlsZSI6Im9yZGVyLWRldGFpbHMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnR7XHJcbiAgICAvLy0tYmFja2dyb3VuZDogdXJsKC4uLy4uL2Fzc2V0cy93cDQ3OTI3ODAtZGFyay1waG9uZS13YWxscGFwZXJzLmpwZykgMCAwLzEwMCUgMTAwJSBuby1yZXBlYXQ7XHJcbiAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiNlOWU5ZTk7XHJcbn1cclxuXHJcbmlvbi10b29sYmFye1xyXG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjojZWVlZWVlO1xyXG59XHJcblxyXG4gICAgI21hcCB7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIH1cclxuICAgIFxyXG5cclxuaW9uLXRpdGxlIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuaDV7XHJcbiAgICBmb250LXNpemU6IDAuOWVtO1xyXG59XHJcbiN0b29sYmFySWNvbntcclxuICAgIGZvbnQtc2l6ZTogMS43ZW07XHJcbn1cclxuXHJcbi5mb250ZWR7XHJcbiAgICBmb250LWZhbWlseTogT3BlbiBTYW5zIExpZ2h0O1xyXG59XHJcblxyXG4uY2VudGVyZWR7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi50ZXh0eyAgXHJcbiAgICAvL2ZvbnQtZmFtaWx5OiAnRnJhbmtsaW4gR290aGljIE1lZGl1bScsICdBcmlhbCBOYXJyb3cnLCBBcmlhbCwgc2Fucy1zZXJpZjtcclxuICAgIGZvbnQtZmFtaWx5OiBPcGVuIFNhbnMgTGlnaHQ7XHJcbn1cclxuXHJcbmhye1xyXG4gICAgYmFja2dyb3VuZDojZWVlZWVlO1xyXG4gICAgd2lkdGg6IDcwJSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4vL2NoYXRcclxuXHJcbi5ibGlua19tZSB7XHJcbiAgICBhbmltYXRpb246IGJsaW5rZXIgMXMgbGluZWFyIGluZmluaXRlO1xyXG4gIH1cclxuICBcclxuICBAa2V5ZnJhbWVzIGJsaW5rZXIge1xyXG4gICAgNTAlIHtcclxuICAgICAgb3BhY2l0eTogMDtcclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuLm1zZy1ib3gge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDE0MHB4O1xyXG4gICAgcGFkZGluZzogMTBweCAzMHB4O1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgZm9udC1mYW1pbHk6IE9wZW4gU2FucyBMaWdodDtcclxuICAgIG92ZXJmbG93OiBhdXRvO1xyXG5cclxuICAgIHVsIHtcclxuICAgICAgICBtYXJnaW46IC01cHg7XHJcblxyXG4gICAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7XHJcbiAgICAgICAgLmV4LW1zZyB7XHJcbiAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLmluLW1zZyB7XHJcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAtNjBweDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxufVxyXG5cclxuIl19 */\";","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n\\r\\n    <ion-title>\\r\\n      <ion-label>{{'Details' | translate}}</ion-label>\\r\\n    </ion-title>\\r\\n\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-icon (click)='openLanguagePopover($event)' id=\\\"toolbarIcon\\\" name=\\\"language-outline\\\"></ion-icon>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <button *ngIf=\\\"mapVisible == false\\\" class=\\\"fonted btn btn-info col-md-12\\\" (click)=\\\"showMap()\\\">{{'Show map' | translate}}</button>\\r\\n  <button *ngIf=\\\"mapVisible == true\\\" class=\\\"fonted btn btn-info col-md-12\\\" (click)=\\\"hideMap()\\\">{{'Show details' | translate}}</button>\\r\\n  <div id=\\\"order\\\"  class=\\\"col-md-10\\\">\\r\\n    <div  class=\\\"list-group mt-2\\\">\\r\\n      <a class=\\\"text list-group-item list-group-item-action flex-column align-items-start\\\">\\r\\n        <div class=\\\"d-flex w-100 justify-content-between\\\">\\r\\n          <h5 class=\\\"mb-1 fonted\\\"></h5>\\r\\n          <small>{{order.createdOn | date:'MM/dd/yyyy h:mm'}}</small>\\r\\n        </div>\\r\\n        <p><ion-icon class=\\\"mr-2\\\" name=\\\"analytics-outline\\\"></ion-icon>{{order.location}}</p>\\r\\n        <hr />\\r\\n        <p><ion-icon class=\\\"mr-2\\\" name=\\\"arrow-forward-outline\\\"></ion-icon>{{order.destination}}</p>\\r\\n        <div class=\\\"d-flex w-100 justify-content-between\\\">\\r\\n          <h5 class=\\\"mb-1 fonted\\\"></h5>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col\\\">\\r\\n            <small\\r\\n              *ngIf=\\\"order.withPets == true || order.withStroller == true || order.special == true\\\">{{'Additional\\r\\n              options' | translate}}:</small>\\r\\n            <ul>\\r\\n              <li *ngIf=\\\"order.withPets == true\\\">{{'Pets' | translate}}</li>\\r\\n              <li *ngIf=\\\"order.withStroller == true\\\">{{'Baggage' | translate}}</li>\\r\\n              <li *ngIf=\\\"order.special == true\\\">{{'Special needs' | translate}}</li>\\r\\n            </ul>\\r\\n\\r\\n            <small *ngIf=\\\"order.carType\\\">{{'Desired car type' | translate}}:</small>\\r\\n            <ul *ngIf=\\\"order.carType\\\">\\r\\n              <li>{{order.carType}}</li>\\r\\n            </ul>\\r\\n\\r\\n            <div class=\\\"w-100\\\">\\r\\n              <h5>{{'Trip distance' | translate}}: {{order.tripDistance}} km</h5>\\r\\n              <br>\\r\\n              <!-- <h5 class=\\\"fonted\\\">Distance to user: \\r\\n                <small class=\\\"fonted\\\">{{distance}} km</small>\\r\\n              </h5> -->\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"d-flex w-100 justify-content-between\\\">\\r\\n\\r\\n              <small class=\\\"fonted\\\">{{'Total cost' | translate}}: {{order.totalPrice}}$</small>\\r\\n              <button class=\\\"fonted btn btn-info\\\" (click)=\\\"acceptOrder(order)\\\" type=\\\"button\\\">{{'Accept' |\\r\\n                translate}}</button>\\r\\n            </div>\\r\\n            <hr />\\r\\n            <p *ngIf=\\\"canIncrease == true\\\" class=\\\"text-center\\\">{{'Offer more price to order' | translate}}</p>\\r\\n            <div *ngIf=\\\"canIncrease == true\\\" class=\\\"d-flex w-100 justify-content-between\\\">\\r\\n              <button type=\\\"button\\\" (click)=\\\"offer(0.50)\\\" class=\\\"btn btn-info btn-sm\\\">+0.50$</button>\\r\\n              <button type=\\\"button\\\" (click)=\\\"offer(1)\\\" class=\\\"btn btn-info btn-sm\\\">+1$</button>\\r\\n              <button type=\\\"button\\\" (click)=\\\"offer(2)\\\" class=\\\"btn btn-info btn-sm\\\">+2$</button>\\r\\n              <button type=\\\"button\\\" (click)=\\\"offer(3)\\\" class=\\\"btn btn-info btn-sm\\\">+3$</button>\\r\\n              <button type=\\\"button\\\" (click)=\\\"offer(4)\\\" class=\\\"btn btn-info btn-sm\\\">+4$</button>\\r\\n              <button type=\\\"button\\\" (click)=\\\"offer(5)\\\" class=\\\"btn btn-info btn-sm\\\">+5$</button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        \\r\\n      </a>\\r\\n    </div>\\r\\n  </div>\\r\\n  <ion-content padding class=\\\"noScroll\\\"> \\r\\n    <div #map id=\\\"map\\\" >\\r\\n    </div>\\r\\n  </ion-content>\\r\\n</ion-content>\\r\\n\";","import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError, tap } from 'rxjs/operators';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Trip } from 'src/_models';\r\nimport { AccountService } from '../account.service';\r\nimport { SharedService } from '../shared/shared.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TripService {\r\n  public trip: Trip;\r\n  public trips = [];\r\n  public currentTripOrderId: string;\r\n  public currentTripDriverId = this.accountService.userValue.id;\r\n  public currentOrder = \"\";\r\n  \r\n  constructor(private http: HttpClient, private accountService: AccountService, private sharedService: SharedService) { }\r\n\r\n  public createTrip(data) {\r\n    const headers = this.sharedService.headerGerneration();\r\n    this.currentTripOrderId = data.orderId;\r\n    this.currentOrder = data.order;\r\n\r\n    return this.http.post(`${environment.apiUrl}/api/trip`, data,  { headers, responseType: 'text' })\r\n      .pipe(\r\n        tap(data => console.log('created trip: ', JSON.stringify(data))),\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  getTrip(applicationUserId: string): Observable<Trip> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Trip>(`${environment.apiUrl}/api/trip/${applicationUserId}`, {headers})\r\n      .pipe(\r\n        tap(data => this.trip = data),\r\n        catchError(this.handleError)\r\n      )\r\n  }\r\n\r\n  startTrip(tripId: string): Observable<Trip> {\r\n    return this.http.put<Trip>(`${environment.apiUrl}/api/trip/start/${tripId}`, {  responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n\r\n  }\r\n\r\n  navigateToUser(tripId: string, orderId: string): Observable<Trip> {\r\n    return this.http.put<Trip>(`${environment.apiUrl}/api/trip/navigate/${tripId}/${orderId}`, {  responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n\r\n  }\r\n\r\n  cancelTrip(tripId: string): Observable<Trip> {\r\n    return this.http.put<Trip>(`${environment.apiUrl}/api/trip/cancel/${tripId}`, { responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n\r\n  completeTrip(tripId: string): Observable<Trip> {\r\n    return this.http.put<Trip>(`${environment.apiUrl}/api/trip/finish/${tripId}`, { responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n\r\n  }\r\n\r\n\r\n  handleError(error) {\r\n    let errorMessage = '';\r\n    if (error.error instanceof ErrorEvent) {\r\n      // client-side error\r\n      console.log('Client side error.')\r\n      errorMessage = `Error: ${error.error.message}`;\r\n    } else {\r\n      // server-side error\r\n      console.log('Server side error.')\r\n      errorMessage = `Error Code: ${error.status}\\nMessage: ${error.message}`;\r\n    }\r\n    console.log(errorMessage);\r\n    return throwError(errorMessage);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { OrderDetailsPageRoutingModule } from './order-details-routing.module';\r\n\r\nimport { OrderDetailsPage } from './order-details.page';\r\nimport { TranslateLoader, TranslateModule, TranslateService } from '@ngx-translate/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { LanguagePopoverPageModule } from '../language-popover/language-popover.module';\r\n\r\nexport function HttpLoaderFactory(http: HttpClient) {\r\n  return new TranslateHttpLoader(http);\r\n}\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    OrderDetailsPageRoutingModule,\r\n    TranslateModule.forChild({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: HttpLoaderFactory,\r\n        deps: [HttpClient]\r\n      }\r\n    }),\r\n    LanguagePopoverPageModule\r\n  ],\r\n  declarations: [OrderDetailsPage]\r\n})\r\nexport class OrderDetailsPageModule {}\r\n","import { Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport * as signalR from '@aspnet/signalr';\r\nimport { Plugins } from '@capacitor/core';\r\nimport { AlertController, PopoverController } from '@ionic/angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Order } from 'src/_models';\r\nimport { AccountService } from 'src/_services';\r\nimport { DriverService } from 'src/_services/driver/driver.service';\r\nimport { OrderService } from 'src/_services/order/order.service';\r\nimport { TripService } from 'src/_services/trip/trip.service';\r\nimport { WalletService } from 'src/_services/wallet/wallet.service';\r\nimport { LanguagePopoverPage } from '../language-popover/language-popover.page';\r\n\r\nconst { Geolocation } = Plugins;\r\ndeclare var google: any;\r\n\r\n@Component({\r\n  selector: 'app-order-details',\r\n  templateUrl: './order-details.page.html',\r\n  styleUrls: ['./order-details.page.scss'],\r\n})\r\nexport class OrderDetailsPage implements OnInit, OnDestroy {\r\n  public orderId = this.route.snapshot.params.id;\r\n  tripPriceForDriver: number;\r\n  applicationUserId = this.accountService.userValue.id;\r\n  isDrivingNow = this.accountService.userValue.isDrivingNow;\r\n  myLat;\r\n  myLng;\r\n\r\n  order: Order = {\r\n    id: '',\r\n    location: '',\r\n    locationLat: '',\r\n    locationLong: '',\r\n    destination: '',\r\n    destinationLat: '',\r\n    destinationLong: '',\r\n    increasePrice: '',\r\n    isAccepted: null,\r\n    isCompleted: null,\r\n    createdOn: null,\r\n    status: null,\r\n    applicationUser: null,\r\n    applicationUserId: null,\r\n    totalPrice: null,\r\n    acceptedBy: null,\r\n    tripDistance: null,\r\n    userDistance: null,\r\n    withPets: null,\r\n    withStroller: null,\r\n    carType: null,\r\n    isRated: null,\r\n    km: null,\r\n    distanceText: null,\r\n    eta: null,\r\n    isDeleted: null,\r\n    isDriverArrived: null,\r\n    increasedByDriver: null,\r\n    increaseAccepted: null,\r\n    increasedBy: null,\r\n    special: null\r\n  };\r\n  mapId: any\r\n  orderDiv: any;\r\n  canIncrease: boolean;\r\n  eta: any;\r\n  distance: any;\r\n  newDistance: any;\r\n  map: any;\r\n  mapVisible = false;\r\n\r\n  private subscriptions: Subscription[] = [];\r\n\r\n  @ViewChild('map', { read: ElementRef, static: false }) mapRef: ElementRef;\r\n\r\n  constructor(private translate: TranslateService,\r\n    private popoverController: PopoverController,\r\n    private accountService: AccountService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private orderService: OrderService,\r\n    private driverService: DriverService,\r\n    private walletService: WalletService,\r\n    private tripService: TripService,\r\n    private alertController: AlertController) {\r\n    this.translate.setDefaultLang(this.accountService.userValue.choosenLanguage);\r\n\r\n  }\r\n  ngOnDestroy(): void {\r\n    console.log('aleluq')\r\n  }\r\n  ngOnInit() {\r\n\r\n    this.mapId = document.getElementById(\"map\");\r\n    this.mapId.style.display = 'none';\r\n    this.orderDiv = document.getElementById(\"order\");\r\n    this.orderDiv.style.display = 'block';\r\n\r\n    const connection = new signalR.HubConnectionBuilder()\r\n      .configureLogging(signalR.LogLevel.Information)\r\n      .withUrl(`${environment.signalRUrl}/orderHub`)\r\n      .build();\r\n\r\n    // const connection = new signalR.HubConnectionBuilder()\r\n    // .configureLogging(signalR.LogLevel.Information)\r\n    // .withUrl(`${environment.signalRUrl}/orderHub`, {\r\n    //  skipNegotiation: true,\r\n    //  transport: signalR.HttpTransportType.WebSockets})\r\n    // .build();\r\n\r\n    connection.start().then(function () {\r\n      console.log('signalR Connected in travel-mode');\r\n    }).catch(function (err) {\r\n      console.log(\"Reconnecting in 1 sec.\");\r\n      setTimeout(() => connection.start(), 1000);\r\n    });\r\n\r\n    connection.on('NotifyDriver', (orderId: string) => {\r\n      this.subscriptions.push(this.orderService.getOrderById(orderId)\r\n        .subscribe(order => {\r\n          if (this.order.id == order.id) {\r\n            if (order.increaseAccepted == true) {\r\n              this.IncreaseAccepted(order);\r\n\r\n            } else if (order.increaseAccepted == false) {\r\n              this.IncreaseRefused();\r\n            }\r\n          }\r\n        }))\r\n    });\r\n\r\n    connection.on('OrderDeleted', (orderId: string) => {\r\n      this.subscriptions.push(this.orderService.getOrderById(orderId)\r\n        .subscribe(order => {\r\n          if (this.order.id == order.id) {\r\n           this.OrderTaken();\r\n          }\r\n        }))\r\n    });\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.orderDiv.style.display = 'block';\r\n    this.mapId.style.display = 'none';\r\n\r\n    this.subscriptions.push(this.orderService.getOrderById(this.orderId)\r\n      .subscribe(order => {\r\n        if (order == null) {\r\n          return this.OrderTaken();\r\n        }\r\n        if (order.totalPrice <= 3.50) {\r\n          this.canIncrease = true;\r\n        }\r\n        else {\r\n          this.canIncrease = false;\r\n        }\r\n        this.order = order;\r\n        //this.calculateDistance(this.order);\r\n        this.calculateEta(this.order);\r\n        this.loadMap(this.mapRef);\r\n\r\n      }))\r\n\r\n  }\r\n\r\n  async loadMap(mapRef: ElementRef) {\r\n    const userLocationLatLng = { lat: +this.order.locationLat, lng: +this.order.locationLong };\r\n    const options: google.maps.MapOptions = {\r\n      center: new google.maps.LatLng(userLocationLatLng.lat, userLocationLatLng.lng),\r\n      zoom: 14,\r\n      disableDefaultUI: true,\r\n      mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n      zoomControl: false\r\n    };\r\n\r\n    if (mapRef != null) {\r\n      this.map = new google.maps.Map(mapRef.nativeElement, options);\r\n    }\r\n\r\n    var icon = {\r\n      url: 'https://www.freeiconspng.com/uploads/-human-male-man-people-person-profile-red-user-icon--icon--23.png',\r\n      scaledSize: new window.google.maps.Size(25, 25),\r\n      anchor: { x: 10, y: 10 }\r\n    };\r\n\r\n    var marker = new google.maps.Marker({\r\n      position: new google.maps.LatLng(userLocationLatLng),\r\n      icon: icon,\r\n      map: this.map\r\n    });\r\n    this.navigateToUserAndCalculateDistance(marker);\r\n  }\r\n\r\n  async navigateToUserAndCalculateDistance(marker) {\r\n    const directionsService = new google.maps.DirectionsService();\r\n    const directionsRenderer = new google.maps.DirectionsRenderer();\r\n    const coordinates = await Geolocation.getCurrentPosition();\r\n    const myLatLng = { lat: coordinates.coords.latitude, lng: coordinates.coords.longitude };\r\n    const userLatLng = { lat: this.order.locationLat, lng: this.order.locationLong };\r\n    let userLat = +userLatLng.lat;\r\n    let userLng = +userLatLng.lng;\r\n\r\n    directionsService.route(\r\n      {\r\n        origin: {\r\n          lat: myLatLng.lat,\r\n          lng: myLatLng.lng\r\n        },\r\n        destination: {\r\n          lat: userLat,\r\n          lng: userLng,\r\n        },\r\n        travelMode: google.maps.TravelMode.DRIVING,\r\n      },\r\n      (response, status) => {\r\n        if (status === \"OK\") {\r\n          directionsRenderer.setDirections(response);\r\n\r\n          var p1 = new google.maps.LatLng(myLatLng.lat, myLatLng.lng);\r\n          var p2 = new google.maps.LatLng(userLat, userLng);\r\n\r\n          this.distance = (google.maps.geometry.spherical.computeDistanceBetween(p1, p2) / 1000).toFixed(2);\r\n\r\n          var infowindow = new google.maps.InfoWindow({\r\n            content: `${this.distance} km from you.`\r\n          });\r\n          infowindow.open(this.map, marker);\r\n\r\n        } else {\r\n          window.alert(\"Directions request failed due to \" + status);\r\n        }\r\n      }\r\n    );\r\n    directionsRenderer.setMap(this.map);\r\n  }\r\n\r\n  hideMap() {\r\n    this.orderDiv.style.display = 'block';\r\n    this.mapId.style.display = 'none';\r\n    this.mapVisible = false;\r\n\r\n    if (this.orderDiv.cancelable) {\r\n      this.orderDiv.preventDefault();\r\n    }\r\n\r\n    if (this.mapId.cancelable) {\r\n      this.mapId.preventDefault();\r\n    }\r\n  }\r\n\r\n  showMap() {\r\n    this.orderDiv.style.display = 'none';\r\n    this.mapId.style.display = 'block';\r\n    this.mapVisible = true;\r\n    this.loadMap(this.mapRef);\r\n\r\n\r\n    if (this.orderDiv.cancelable) {\r\n      this.orderDiv.preventDefault();\r\n    }\r\n\r\n    if (this.mapId.cancelable) {\r\n      this.mapId.preventDefault();\r\n    }\r\n  }\r\n\r\n  offer(value) {\r\n    this.subscriptions.push(this.orderService.getOrderById(this.order.id)\r\n      .subscribe(x => {\r\n        if (x.status == 'Canceled') {\r\n          this.OrderTaken();\r\n          this.router.navigate(['menu/driving']);\r\n          return;\r\n        } else {\r\n          this.subscriptions.push(this.orderService.driverIncreaseOrderPrice(this.order.id, value, this.accountService.userValue.driverId)\r\n            .subscribe(() => { }))\r\n        }\r\n      }));\r\n\r\n  }\r\n\r\n  // async calculateDistance(order) {\r\n  //   const coordinates = await Geolocation.getCurrentPosition();\r\n  //   const myLatLng = { lat: coordinates.coords.latitude, lng: coordinates.coords.longitude };\r\n\r\n  //   const orderLatLng = { lat: order.locationLat, lng: order.locationLong };\r\n  //   var p1 = new google.maps.LatLng(myLatLng.lat, myLatLng.lng);\r\n  //   var p2 = new google.maps.LatLng(orderLatLng.lat, orderLatLng.lng);\r\n\r\n  //   this.distance = (google.maps.geometry.spherical.computeDistanceBetween(p1, p2) / 1000).toFixed(2);\r\n\r\n  //   if (this.distance == null || this.distance == undefined) {\r\n  //     this.distance = (google.maps.geometry.spherical.computeDistanceBetween(p1, p2) / 1000).toFixed(2);\r\n  //   }\r\n  // }\r\n\r\n  async calculateEta(order) {\r\n    const coordinates = await Geolocation.getCurrentPosition();\r\n    const myLatLng = { lat: coordinates.coords.latitude, lng: coordinates.coords.longitude };\r\n    this.myLat = myLatLng.lat;\r\n    this.myLng = myLatLng.lng;\r\n\r\n    const directionsService = new google.maps.DirectionsService();\r\n    const orderLatLng = { lat: order.locationLat, lng: order.locationLong };\r\n    let orderLat = +orderLatLng.lat;\r\n    let orderLng = +orderLatLng.lng;\r\n\r\n    directionsService.route(\r\n      {\r\n        origin: {\r\n          lat: +this.myLat,\r\n          lng: +this.myLng\r\n        },\r\n        destination: {\r\n          lat: orderLat,\r\n          lng: orderLng,\r\n        },\r\n        travelMode: google.maps.TravelMode.DRIVING,\r\n      },\r\n      (response, status) => {\r\n        if (status === \"OK\") {\r\n          order.eta = response.routes[0].legs[0].duration.text;\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  acceptOrder(order) {\r\n    this.subscriptions.push(this.orderService.getOrderById(order.id)\r\n      .subscribe(x => {\r\n        if (x.status == 'Canceled') {\r\n          this.OrderTaken();\r\n          this.router.navigate(['menu/driving']);\r\n          return;\r\n        } else {\r\n          this.subscriptions.push(this.driverService.getDriverActiveCar(this.accountService.userValue.driverId)\r\n            .subscribe(car => {\r\n              if (car.typeId == 1 && order.carType == 'Comfort') {\r\n                return this.WrongCarAlert();\r\n              } else {\r\n                //Get user's id to get drivers data\r\n\r\n                //Get driver's data\r\n                this.subscriptions.push(this.driverService.getDriver(this.accountService.userValue.driverId)\r\n                  .subscribe(driver => {\r\n                    this.tripPriceForDriver = (order.totalPrice * (driver.comission / 100));\r\n\r\n                    //Get drivers wallet\r\n                    this.subscriptions.push(this.walletService.getMyWallet(this.applicationUserId)\r\n                      .subscribe(wallet => {\r\n                        if (wallet.ammount < this.tripPriceForDriver) {\r\n                          this.NotEnoughCashAlert();\r\n                          return;\r\n                        } else {\r\n\r\n\r\n                          let applicationUserId = this.accountService.userValue.id;\r\n                          this.accountService.userValue.isDrivingNow = true;\r\n                          this.subscriptions.push(this.accountService.updateDriving(this.applicationUserId, true)\r\n                            .subscribe(() => {\r\n                            }));\r\n\r\n                          this.isDrivingNow = this.accountService.userValue.isDrivingNow;\r\n                          order.acceptedBy = applicationUserId;\r\n\r\n                          //Accepting order\r\n                          this.subscriptions.push(this.orderService.acceptOrder(order.id, applicationUserId)\r\n                            .subscribe(() => {\r\n\r\n                              this.subscriptions.push(this.orderService.updateOrderEta(orderId, order.eta)\r\n                                .subscribe());\r\n                            }));\r\n\r\n                          let orderId = order.id;\r\n                          let data = { orderId, applicationUserId, order };\r\n\r\n                          //Creating trip to manage data\r\n                          this.subscriptions.push(this.tripService.createTrip(data)\r\n                            .subscribe(() => {\r\n                            }));\r\n                          this.router.navigate(['menu/driving-mode'])\r\n                        }\r\n                      }));\r\n                  }));\r\n              }\r\n            }));\r\n        }\r\n      }))\r\n  }\r\n\r\n  async openLanguagePopover(ev) {\r\n    const popover = await this.popoverController.create({\r\n      component: LanguagePopoverPage,\r\n      event: ev\r\n    });\r\n    await popover.present();\r\n  }\r\n\r\n  async NotEnoughCashAlert() {\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      header: 'Balance',\r\n      message: 'Your wallet balance is not enough for this order!',\r\n      buttons: ['OK']\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  async OrderTaken() {\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      header: 'Sorry',\r\n      message: 'This order is no longer active',\r\n      buttons: [{\r\n        text: 'OK',\r\n        handler: () => {\r\n          this.router.navigate(['menu/driving']);\r\n        }\r\n      },\r\n      ],\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  async IncreaseRefused() {\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      header: 'Order increasing refused.',\r\n      buttons: [{\r\n        text: 'Ok',\r\n        role: 'cancel'\r\n      },\r\n      ],\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  async IncreaseAccepted(order) {\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      header: 'Order increasing accepted.',\r\n      message: 'You can accept the order now',\r\n      buttons: [\r\n        {\r\n          text: 'Accept',\r\n          handler: () => {\r\n            this.acceptOrder(order);\r\n          }\r\n        },\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel'\r\n        },\r\n      ],\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  async WrongCarAlert() {\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      header: 'Order information',\r\n      message: 'Your car is of type \"Normal\" but the order desired car type is \"Comfort\"! ',\r\n      buttons: ['OK'],\r\n\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n}\r\n"]}