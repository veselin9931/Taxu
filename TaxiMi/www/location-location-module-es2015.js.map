{"version":3,"sources":["./src/app/location/location.module.ts","./src/app/location/location.page.html","./src/app/location/location.page.scss","./src/app/location/location-routing.module.ts","./src/app/location/location.page.ts"],"names":[],"mappings":"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","file":"location-location-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LocationPageRoutingModule } from './location-routing.module';\r\n\r\nimport { LocationPage } from './location.page';\r\n\r\nimport { TranslateLoader, TranslateModule, TranslateService } from '@ngx-translate/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { LanguagePopoverPageModule } from '../language-popover/language-popover.module';\r\n\r\nexport function HttpLoaderFactory(http: HttpClient) {\r\n  return new TranslateHttpLoader(http);\r\n}\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    LocationPageRoutingModule,\r\n    TranslateModule.forChild({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: HttpLoaderFactory,\r\n        deps: [HttpClient]\r\n      }\r\n    }),\r\n    LanguagePopoverPageModule\r\n  ],\r\n  declarations: [LocationPage]\r\n})\r\nexport class LocationPageModule {}\r\n","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    \\r\\n\\r\\n    <ion-title>\\r\\n        <ion-label>{{'Choose starting point' | translate}}</ion-label>\\r\\n    </ion-title>\\r\\n\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-icon (click)='openLanguagePopover($event)' id=\\\"toolbarIcon\\\" name=\\\"language-outline\\\"></ion-icon>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n  \\r\\n</ion-header>\\r\\n<ion-item>\\r\\n  <ion-input id=\\\"searchTextField\\\" type=\\\"text\\\" [placeholder]='\\\"Search location\\\" | translate' clearInput></ion-input>\\r\\n</ion-item>\\r\\n<ion-content class=\\\"noScroll\\\">\\r\\n  <div #map id=\\\"map\\\"></div>\\r\\n  <div #marker id=\\\"marker\\\"></div>\\r\\n  \\r\\n</ion-content>\\r\\n\\r\\n<ion-footer>\\r\\n  <ion-toolbar class=\\\"text-center\\\">\\r\\n    <!-- <ion-title>Choosen location</ion-title> -->\\r\\n    <button (click)=\\\"onSubmit()\\\" class=\\\"btn btn-info text-center\\\">{{'Take me from here' | translate}}</button>\\r\\n    \\r\\n  </ion-toolbar>\\r\\n</ion-footer>\\r\\n\\r\\n<ion-footer>\\r\\n  <ion-toolbar class=\\\"text-center\\\">\\r\\n    <p>{{address}}</p>\\r\\n  </ion-toolbar>\\r\\n\\r\\n  \\r\\n</ion-footer>\\r\\n\";","export default \".noScroll {\\n  overflow: hidden;\\n}\\n\\n#marker {\\n  position: absolute;\\n  /*url of the marker*/\\n  background: url('location.png') no-repeat;\\n  /*center the marker*/\\n  top: 50%;\\n  left: 50%;\\n  z-index: 1;\\n  /*fix offset when needed*/\\n  margin-left: -10px;\\n  margin-top: -34px;\\n  /*size of the image*/\\n  height: 34px;\\n  width: 20px;\\n  cursor: pointer;\\n}\\n\\n#map {\\n  height: 100%;\\n  width: 100%;\\n}\\n\\nion-card {\\n  max-height: 200px;\\n  overflow: scroll;\\n  position: absolute;\\n  z-index: 1;\\n}\\n\\nion-toolbar {\\n  --ion-background-color:#eeeeee;\\n}\\n\\nion-title {\\n  text-align: center;\\n}\\n\\n#toolbarIcon {\\n  font-size: 1.7em;\\n}\\n\\n#toolbarIcon1 {\\n  font-size: 3em;\\n}\\n\\n.centered {\\n  text-align: center;\\n}\\n\\n.text {\\n  font-size: 2.4em;\\n  font-family: Open Sans Light;\\n}\\n\\ni {\\n  color: #eeeeee;\\n}\\n\\n.my-custom-class {\\n  --background: #e5e5e5;\\n}\\n\\nion-select {\\n  color: #383838;\\n  background-color: white;\\n  border-radius: 10px;\\n  border: 3px solid #eeeeee;\\n}\\n\\n.blink_me {\\n  -webkit-animation: blinker 1s linear infinite;\\n          animation: blinker 1s linear infinite;\\n}\\n\\n@-webkit-keyframes blinker {\\n  50% {\\n    opacity: 0;\\n  }\\n}\\n\\n@keyframes blinker {\\n  50% {\\n    opacity: 0;\\n  }\\n}\\n\\n.backIcon {\\n  color: #ffae00;\\n  font-size: 150%;\\n}\\n\\n.back {\\n  color: #ffae00;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGxvY2F0aW9uLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFBO0FBQ0o7O0FBRUk7RUFDSSxrQkFBQTtFQUNBLG9CQUFBO0VBQ0EseUNBQUE7RUFDQSxvQkFBQTtFQUNBLFFBQUE7RUFBUSxTQUFBO0VBRVIsVUFBQTtFQUNBLHlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLG9CQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFFQSxlQUFBO0FBQVI7O0FBR0k7RUFDQSxZQUFBO0VBQ0EsV0FBQTtBQUFKOztBQUdJO0VBQ0ksaUJBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsVUFBQTtBQUFSOztBQUlJO0VBQ0ksOEJBQUE7QUFEUjs7QUFJSTtFQUNJLGtCQUFBO0FBRFI7O0FBSUk7RUFDSSxnQkFBQTtBQURSOztBQUlJO0VBQ0ksY0FBQTtBQURSOztBQUtJO0VBQ0ksa0JBQUE7QUFGUjs7QUFLSTtFQUNJLGdCQUFBO0VBQ0EsNEJBQUE7QUFGUjs7QUFLSTtFQUNJLGNBQUE7QUFGUjs7QUFLSTtFQUNJLHFCQUFBO0FBRlI7O0FBS0k7RUFDSSxjQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLHlCQUFBO0FBRlI7O0FBS0k7RUFDSSw2Q0FBQTtVQUFBLHFDQUFBO0FBRlI7O0FBS007RUFDRTtJQUNFLFVBQUE7RUFGUjtBQUNGOztBQURNO0VBQ0U7SUFDRSxVQUFBO0VBRlI7QUFDRjs7QUFLSTtFQUNJLGNBQUE7RUFDQSxlQUFBO0FBSFI7O0FBTUk7RUFDSSxjQUFBO0FBSFIiLCJmaWxlIjoibG9jYXRpb24ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm5vU2Nyb2xsIHtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICB9XHJcblxyXG4gICAgI21hcmtlcntcclxuICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcclxuICAgICAgICAvKnVybCBvZiB0aGUgbWFya2VyKi9cclxuICAgICAgICBiYWNrZ3JvdW5kOnVybCguLi8uLi9hc3NldHMvbG9jYXRpb24ucG5nKSBuby1yZXBlYXQ7XHJcbiAgICAgICAgLypjZW50ZXIgdGhlIG1hcmtlciovXHJcbiAgICAgICAgdG9wOjUwJTtsZWZ0OjUwJTtcclxuICAgICAgXHJcbiAgICAgICAgei1pbmRleDoxO1xyXG4gICAgICAgIC8qZml4IG9mZnNldCB3aGVuIG5lZWRlZCovXHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6LTEwcHg7XHJcbiAgICAgICAgbWFyZ2luLXRvcDotMzRweDtcclxuICAgICAgICAvKnNpemUgb2YgdGhlIGltYWdlKi9cclxuICAgICAgICBoZWlnaHQ6MzRweDtcclxuICAgICAgICB3aWR0aDoyMHB4O1xyXG4gICAgICBcclxuICAgICAgICBjdXJzb3I6cG9pbnRlcjtcclxuICAgICAgfVxyXG4gICAgXHJcbiAgICAjbWFwIHtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgfVxyXG5cclxuICAgIGlvbi1jYXJkIHtcclxuICAgICAgICBtYXgtaGVpZ2h0OiAyMDBweDtcclxuICAgICAgICBvdmVyZmxvdzogc2Nyb2xsO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB6LWluZGV4OiAxO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgIGlvbi10b29sYmFye1xyXG4gICAgICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6I2VlZWVlZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaW9uLXRpdGxlIHtcclxuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB9XHJcbiAgICBcclxuICAgICN0b29sYmFySWNvbntcclxuICAgICAgICBmb250LXNpemU6IDEuN2VtO1xyXG4gICAgfVxyXG5cclxuICAgICN0b29sYmFySWNvbjF7XHJcbiAgICAgICAgZm9udC1zaXplOiAzZW07XHJcbiAgICAgICAgLy8tLWJhY2tncm91bmQ6IHVybCguLi8uLi9hc3NldHMvRGFjb180Njc0NzM4LnBuZykgMCAwLzEwMCUgMTAwJSBuby1yZXBlYXQ7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC5jZW50ZXJlZHtcclxuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC50ZXh0eyAgXHJcbiAgICAgICAgZm9udC1zaXplOiAyLjRlbTtcclxuICAgICAgICBmb250LWZhbWlseTogT3BlbiBTYW5zIExpZ2h0O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpe1xyXG4gICAgICAgIGNvbG9yOiNlZWVlZWU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC5teS1jdXN0b20tY2xhc3Mge1xyXG4gICAgICAgIC0tYmFja2dyb3VuZDogI2U1ZTVlNTtcclxuICAgICAgfVxyXG4gICAgXHJcbiAgICBpb24tc2VsZWN0e1xyXG4gICAgICAgIGNvbG9yOiByZ2IoNTYsIDU2LCA1Nik7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgICAgICBib3JkZXI6IDNweCBzb2xpZCAjZWVlZWVlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAuYmxpbmtfbWUge1xyXG4gICAgICAgIGFuaW1hdGlvbjogYmxpbmtlciAxcyBsaW5lYXIgaW5maW5pdGU7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIEBrZXlmcmFtZXMgYmxpbmtlciB7XHJcbiAgICAgICAgNTAlIHtcclxuICAgICAgICAgIG9wYWNpdHk6IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICBcclxuICAgIC5iYWNrSWNvbiB7XHJcbiAgICAgICAgY29sb3I6IHJnYigyNTUsIDE3NCwgMCk7XHJcbiAgICAgICAgZm9udC1zaXplOiAxNTAlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAuYmFjayB7XHJcbiAgICAgICAgY29sb3I6IHJnYigyNTUsIDE3NCwgMCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAiXX0= */\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LocationPage } from './location.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LocationPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class LocationPageRoutingModule {}\r\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Plugins } from '@capacitor/core';\r\nimport { NavController, PopoverController } from '@ionic/angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { AccountService } from 'src/_services';\r\nimport { OrderService } from 'src/_services/order/order.service';\r\nimport { LanguagePopoverPage } from '../language-popover/language-popover.page';\r\n\r\n\r\nconst { Geolocation } = Plugins;\r\ndeclare var google: any;\r\n\r\n@Component({\r\n  selector: 'app-location',\r\n  templateUrl: './location.page.html',\r\n  styleUrls: ['./location.page.scss'],\r\n})\r\nexport class LocationPage implements OnInit {\r\n  address: string;\r\n  map: any;\r\n  latitude: any;\r\n  longitude: any;\r\n  search: any; \r\n  //markerUrl = 'http://maps.gstatic.com/mapfiles/markers2/marker.png'\r\n  //markerUrl = 'https://image.flaticon.com/icons/png/24/727/727598.png'\r\n  markerUrl = '../../assets/location.png'\r\n\r\n  @ViewChild('map', { read: ElementRef, static: true }) mapRef: ElementRef;\r\n  @ViewChild('myButton') myButton: ElementRef;\r\n\r\n  constructor(private route: Router,\r\n    private orderService: OrderService,\r\n    public navCtrl: NavController,\r\n    private translate: TranslateService,\r\n    private popoverController: PopoverController,\r\n    private accountService: AccountService) {\r\n      this.translate.setDefaultLang(this.accountService.userValue.choosenLanguage);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.getLocation();\r\n\r\n    this.loadMap(this.mapRef);\r\n  }\r\n\r\n  onSubmit() {\r\n    this.orderService.chosenLocation = this.address;\r\n    this.route.navigate(['menu/destination'])\r\n  }\r\n\r\n  async loadMap(mapRef: ElementRef) {\r\n    const coordinates = await Geolocation.getCurrentPosition();\r\n    const myLatLng = { lat: coordinates.coords.latitude, lng: coordinates.coords.longitude };\r\n    this.orderService.userLocationLat = myLatLng.lat;\r\n    this.orderService.userLocationLong = myLatLng.lng;\r\n    const options: google.maps.MapOptions = {\r\n      center: new google.maps.LatLng(myLatLng.lat, myLatLng.lng),\r\n      zoom: 15,\r\n      disableDefaultUI: true,\r\n      mapTypeId: google.maps.MapTypeId.ROADMAP\r\n    };\r\n\r\n    this.map = new google.maps.Map(mapRef.nativeElement, options);\r\n\r\n    var marker = new google.maps.Marker({\r\n      position: new google.maps.LatLng(myLatLng),\r\n      icon: this.markerUrl,\r\n      map: this.map\r\n    });\r\n\r\n    var input = document.getElementById('searchTextField').getElementsByTagName('input')[0];\r\n    var searchbox = new google.maps.places.SearchBox(input);\r\n    this.orderService.selectedFavourite = null;\r\n    this.map.addListener(\"bounds_changed\", () => {\r\n      searchbox.setBounds(this.map.getBounds() as google.maps.LatLngBounds);\r\n    });\r\n\r\n    searchbox.addListener(\"places_changed\", () => {\r\n      const places = searchbox.getPlaces();\r\n\r\n      if (places.length == 0) {\r\n        return;\r\n      }\r\n\r\n      var bounds = new google.maps.LatLngBounds();\r\n\r\n      places.forEach((place) => {\r\n        if (!place.geometry) {\r\n          console.log('No Geometry');\r\n          return;\r\n        }\r\n        marker.setMap(null);\r\n\r\n        marker = new google.maps.Marker({\r\n          position: place.geometry.location,\r\n          map: this.map\r\n        });\r\n\r\n        if (place.geometry.viewport) {\r\n          bounds.union(place.geometry.viewport);\r\n        } else {\r\n          bounds.extend(place.geometry.location)\r\n        }\r\n\r\n      });\r\n\r\n      this.map.fitBounds(bounds);\r\n\r\n    })\r\n\r\n    let geocoder = new google.maps.Geocoder;\r\n\r\n    google.maps.event.addListener(this.map, 'idle', async () => {\r\n      var center = this.map.getCenter();\r\n      var lat = center.lat();\r\n      var lng = center.lng();\r\n\r\n      const myLatLng = { lat: lat, lng: lng };\r\n\r\n      if (marker && marker.setMap) {\r\n        marker.setMap(null);\r\n      }\r\n\r\n      this.orderService.userLocationLat = myLatLng.lat;\r\n      this.orderService.userLocationLong = myLatLng.lng;\r\n      //Get Location\r\n      geocoder.geocode({ location: myLatLng },\r\n        (\r\n          results: google.maps.GeocoderResult[],\r\n          status: google.maps.GeocoderStatus\r\n        ) => {\r\n          if (status == \"OK\") {\r\n            if (results[0]) {\r\n              this.address = results[0].formatted_address;\r\n              // var infowindow = new google.maps.InfoWindow({\r\n              //   content: `${this.address}`\r\n              // });\r\n              // infowindow.open(this.map, marker);\r\n            }\r\n          }\r\n        })\r\n    })\r\n  }\r\n\r\n  destination() {\r\n    this.route.navigate(['menu/destination']);\r\n  }\r\n\r\n  getLocation(): void {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition((position) => {\r\n        this.longitude = position.coords.longitude;\r\n        this.latitude = position.coords.latitude;\r\n\r\n        this.callApi(this.longitude, this.latitude);\r\n      });\r\n    } else {\r\n      console.log(\"No support for geolocation\")\r\n    }\r\n  }\r\n\r\n  callApi(Longitude: number, Latitude: number) {\r\n    const url = `https://api-adresse.data.gouv.fr/reverse/?lon=${Longitude}&lat=${Latitude}`\r\n    //Call API\r\n  }\r\n\r\n  async openLanguagePopover(ev) {\r\n    const popover = await this.popoverController.create({\r\n      component: LanguagePopoverPage,\r\n      event: ev\r\n    });\r\n    await popover.present();\r\n  }\r\n\r\n}"],"sourceRoot":"webpack:///"}