{"version":3,"sources":["webpack:///src/app/menu/menu.module.ts","webpack:///node_modules/@aspnet/signalr/dist/esm/IHubProtocol.js","webpack:///node_modules/@ionic-native/background-mode/__ivy_ngcc__/ngx/index.js","webpack:///node_modules/@aspnet/signalr/dist/esm/JsonHubProtocol.js","webpack:///node_modules/@aspnet/signalr/dist/esm/ServerSentEventsTransport.js","webpack:///node_modules/@aspnet/signalr/dist/esm/index.js","webpack:///node_modules/@aspnet/signalr/dist/esm/TextMessageFormat.js","webpack:///node_modules/@aspnet/signalr/dist/esm/HandshakeProtocol.js","webpack:///node_modules/@aspnet/signalr/dist/esm/WebSocketTransport.js","webpack:///node_modules/@aspnet/signalr/dist/esm/NodeHttpClient.js","webpack:///src/app/menu/menu.page.html","webpack:///node_modules/@aspnet/signalr/dist/esm/HubConnectionBuilder.js","webpack:///node_modules/@aspnet/signalr/dist/esm/LongPollingTransport.js","webpack:///node_modules/@aspnet/signalr/dist/esm/ITransport.js","webpack:///node_modules/@aspnet/signalr/dist/esm/XhrHttpClient.js","webpack:///node_modules/@aspnet/signalr/dist/esm/HubConnection.js","webpack:///node_modules/@aspnet/signalr/dist/esm/DefaultHttpClient.js","webpack:///node_modules/@aspnet/signalr/dist/esm/Loggers.js","webpack:///node_modules/@aspnet/signalr/dist/esm/ILogger.js","webpack:///src/_services/driver/driver.service.ts","webpack:///node_modules/@aspnet/signalr/dist/esm/AbortController.js","webpack:///node_modules/@aspnet/signalr/dist/esm/HttpClient.js","webpack:///src/app/menu/menu.page.scss","webpack:///node_modules/@aspnet/signalr/dist/esm/HttpConnection.js","webpack:///src/app/menu/menu-routing.module.ts","webpack:///node_modules/@aspnet/signalr/dist/esm/Errors.js","webpack:///node_modules/@aspnet/signalr/dist/esm/Utils.js","webpack:///src/app/menu/menu.page.ts"],"names":["HttpLoaderFactory","http","MenuPageModule","imports","forChild","loader","provide","useFactory","deps","providers","declarations","MessageType","BackgroundMode","_super","apply","arguments","prototype","enable","disable","setEnabled","fireEvent","event","args","_i","length","isEnabled","isActive","setDefaults","overrides","configure","options","on","un","callback","moveToBackground","disableWebViewOptimizations","moveToForeground","overrideBackButton","excludeFromTaskList","isScreenOff","fn","wakeUp","unlock","disableBatteryOptimizations","pluginName","plugin","pluginRef","repo","platforms","ɵfac","BackgroundMode_Factory","t","ɵBackgroundMode_BaseFactory","ɵprov","token","factory","ngDevMode","type","JSON_HUB_PROTOCOL_NAME","JsonHubProtocol","name","version","transferFormat","Text","parseMessages","input","logger","Error","instance","messages","parse","hubMessages","messages_1","message","parsedMessage","JSON","Invocation","isInvocationMessage","StreamItem","isStreamItemMessage","Completion","isCompletionMessage","Ping","Close","log","Information","push","writeMessage","write","stringify","assertNotEmptyString","target","invocationId","undefined","item","result","error","value","errorMessage","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","ServerSentEventsTransport","httpClient","accessTokenFactory","logMessageContent","eventSourceConstructor","onreceive","onclose","connect","url","_this","_a","isRequired","isIn","Trace","indexOf","encodeURIComponent","opened","eventSource","window","withCredentials","cookies","getCookieString","headers","Cookie","onmessage","data","close","onerror","onopen","send","stop","VERSION","TextMessageFormat","output","RecordSeparator","split","RecordSeparatorCode","String","fromCharCode","HandshakeProtocol","writeHandshakeRequest","handshakeRequest","parseHandshakeResponse","responseMessage","messageData","remainingData","Buffer","binaryData","Uint8Array","separatorIndex","responseLength","slice","byteLength","buffer","textData","substring","response","WebSocketTransport","webSocketConstructor","replace","webSocket","Binary","binaryType","_event","ErrorEvent","readyState","OPEN","wasClean","code","reason","__extends","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","create","__assign","assign","s","i","requestModule","XMLHttpRequest","requireFunc","NodeHttpClient","cookieJar","jar","request","defaults","httpRequest","requestBody","content","from","currentRequest","encoding","responseType","method","timeout","abortSignal","onabort","Warning","statusCode","statusMessage","abort","HubConnectionBuilder","configureLogging","logging","isLogger","withUrl","transportTypeOrOptions","httpConnectionOptions","transport","withHubProtocol","protocol","build","connection","LongPollingTransport","pollAbort","running","defineProperty","get","aborted","enumerable","configurable","pollOptions","pollUrl","signal","getAccessToken","updateHeaderToken","Date","now","closeError","statusText","receiving","poll","e_1","pollAborted","raiseOnClose","deleteOptions","logMessage","HttpTransportType","TransferFormat","XhrHttpClient","xhr","open","setRequestHeader","keys","forEach","header","onload","status","responseText","ontimeout","DEFAULT_TIMEOUT_IN_MS","DEFAULT_PING_INTERVAL_IN_MS","HubConnectionState","HubConnection","serverTimeoutInMilliseconds","keepAliveIntervalInMilliseconds","handshakeProtocol","processIncomingData","connectionClosed","callbacks","methods","closedCallbacks","id","receivedHandshakeResponse","connectionState","Disconnected","cachedPingMessage","start","handshakePromise","Debug","handshakeResolver","handshakeRejecter","sendMessage","cleanupTimeout","resetTimeoutPeriod","resetKeepAliveInterval","Connected","cleanupPingTimer","stream","methodName","invocationDescriptor","createStreamInvocation","promiseQueue","subject","cancelCallback","cancelInvocation","createCancelInvocation","cancelMessage","invocationEvent","complete","createInvocation","invoke","newMethod","toLowerCase","off","handlers","removeIdx","splice","processHandshakeResponse","invokeClientMethod","pingServerHandle","setTimeout","_b","features","inherentKeepAlive","timeoutHandle","serverTimeout","invocationMessage","m","key","c","clearTimeout","nonblocking","toString","StreamInvocation","CancelInvocation","DefaultHttpClient","NullLogger","_logLevel","_message","LogLevel","DriverService","sharedService","drivers","userId","headerGerneration","apiUrl","pipe","handleError","driverId","post","referral","lat","lng","put","orderId","console","providedIn","AbortController","isAborted","HttpResponse","HttpClient","MAX_REDIRECTS","WebSocketModule","EventSourceModule","HttpConnection","baseUrl","resolveUrl","isNode","WebSocket","EventSource","startPromise","startInternal","stopError","negotiateResponse","redirects","_loop_1","this_1","state_1","e_2","skipNegotiation","WebSockets","constructTransport","accessToken_1","getNegotiationResponse","ProtocolVersion","accessToken","createTransport","stopConnection","changeState","negotiateUrl","e_3","resolveNegotiateUrl","createConnectUrl","connectionId","requestedTransport","requestedTransferFormat","connectUrl","transports","transports_1","endpoint","ex_1","isITransport","availableTransports","resolveTransport","ServerSentEvents","LongPolling","transferFormats","map","transportMatches","to","lastIndexOf","document","aTag","createElement","href","index","actualTransport","routes","path","component","children","loadChildren","LocationPageModule","DestinationPageModule","LoginPageModule","RegisterPageModule","TravellingPageModule","DrivingPageModule","AccountVerifyingPageModule","BecomeDriverPageModule","DriverProfilePageModule","DriverHistoryPageModule","CarRegisterPageModule","ReportPageModule","FavouriteOrdersPageModule","PaymentsSucssesPageModule","LanguagePopoverPageModule","CategoriesPageModule","TravelModePageModule","DrivingModePageModule","OrderDetailsPageModule","MenuPageRoutingModule","exports","HttpError","_newTarget","trueProto","TimeoutError","AbortError","Arg","val","values","getDataDetail","includeContent","detail","isArrayBuffer","formatArrayBuffer","view","str","num","pad","substr","ArrayBuffer","transportName","createLogger","ConsoleLogger","Subject","observers","observer","err","subscribe","SubjectSubscription","dispose","minimumLogLevel","logLevel","Critical","toISOString","warn","info","MenuPage","router","accountService","driverService","translate","popoverController","backgroundMode","subscriptions","documentConfirmed","driverCars","accessedPath","pages","title","selectedPath","isLoggedIn","localStorage","getItem","setDefaultLang","userValue","choosenLanguage","events","isVerified","checkValues","signalRUrl","getById","x","isDriver","getDriver","getDriverCars","cars","documentConfirmation","navigate","logout","location","reload","ev","popover","present","selector","template"],"mappings":"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","file":"menu-menu-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { MenuPageRoutingModule } from './menu-routing.module';\r\n\r\nimport { MenuPage } from './menu.page';\r\n\r\nimport { TranslateLoader, TranslateModule, TranslateService } from '@ngx-translate/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { LanguagePopoverPageModule } from '../language-popover/language-popover.module';\r\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\r\nimport { AndroidPermissions } from '@ionic-native/android-permissions/ngx';\r\nimport { LocationAccuracy } from '@ionic-native/location-accuracy/ngx';\r\n\r\nimport { BackgroundMode } from '@ionic-native/background-mode/ngx';\r\n\r\nexport function HttpLoaderFactory(http: HttpClient) {\r\n  return new TranslateHttpLoader(http);\r\n}\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    MenuPageRoutingModule,\r\n    TranslateModule.forChild({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: HttpLoaderFactory,\r\n        deps: [HttpClient]\r\n      }\r\n    }),\r\n    LanguagePopoverPageModule\r\n  ],\r\n  providers: [\r\n    AndroidPermissions,\r\n    BackgroundMode,\r\n    Geolocation,\r\n    LocationAccuracy,\r\n  ],\r\n  declarations: [MenuPage]\r\n})\r\nexport class MenuPageModule {}\r\n","// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\n/** Defines the type of a Hub Message. */\r\nexport var MessageType;\r\n(function (MessageType) {\r\n    /** Indicates the message is an Invocation message and implements the {@link @aspnet/signalr.InvocationMessage} interface. */\r\n    MessageType[MessageType[\"Invocation\"] = 1] = \"Invocation\";\r\n    /** Indicates the message is a StreamItem message and implements the {@link @aspnet/signalr.StreamItemMessage} interface. */\r\n    MessageType[MessageType[\"StreamItem\"] = 2] = \"StreamItem\";\r\n    /** Indicates the message is a Completion message and implements the {@link @aspnet/signalr.CompletionMessage} interface. */\r\n    MessageType[MessageType[\"Completion\"] = 3] = \"Completion\";\r\n    /** Indicates the message is a Stream Invocation message and implements the {@link @aspnet/signalr.StreamInvocationMessage} interface. */\r\n    MessageType[MessageType[\"StreamInvocation\"] = 4] = \"StreamInvocation\";\r\n    /** Indicates the message is a Cancel Invocation message and implements the {@link @aspnet/signalr.CancelInvocationMessage} interface. */\r\n    MessageType[MessageType[\"CancelInvocation\"] = 5] = \"CancelInvocation\";\r\n    /** Indicates the message is a Ping message and implements the {@link @aspnet/signalr.PingMessage} interface. */\r\n    MessageType[MessageType[\"Ping\"] = 6] = \"Ping\";\r\n    /** Indicates the message is a Close message and implements the {@link @aspnet/signalr.CloseMessage} interface. */\r\n    MessageType[MessageType[\"Close\"] = 7] = \"Close\";\r\n})(MessageType || (MessageType = {}));\r\n//# sourceMappingURL=IHubProtocol.js.map","import { __extends } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { IonicNativePlugin, cordova } from '@ionic-native/core';\nimport { Observable } from 'rxjs';\nimport * as ɵngcc0 from '@angular/core';\nvar BackgroundMode = /** @class */ (function (_super) {\n    __extends(BackgroundMode, _super);\n    function BackgroundMode() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BackgroundMode.prototype.enable = function () { return cordova(this, \"enable\", { \"sync\": true }, arguments); };\n    BackgroundMode.prototype.disable = function () { return cordova(this, \"disable\", { \"sync\": true }, arguments); };\n    BackgroundMode.prototype.setEnabled = function (enable) { return cordova(this, \"setEnabled\", { \"sync\": true }, arguments); };\n    BackgroundMode.prototype.fireEvent = function (event) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        return cordova(this, \"fireEvent\", { \"sync\": true }, arguments);\n    };\n    BackgroundMode.prototype.isEnabled = function () { return cordova(this, \"isEnabled\", { \"sync\": true }, arguments); };\n    BackgroundMode.prototype.isActive = function () { return cordova(this, \"isActive\", { \"sync\": true }, arguments); };\n    BackgroundMode.prototype.setDefaults = function (overrides) { return cordova(this, \"setDefaults\", { \"platforms\": [\"Android\"] }, arguments); };\n    BackgroundMode.prototype.configure = function (options) { return cordova(this, \"configure\", { \"platforms\": [\"Android\"], \"sync\": true }, arguments); };\n    BackgroundMode.prototype.on = function (event) { return cordova(this, \"on\", { \"observable\": true, \"clearFunction\": \"un\", \"clearWithArgs\": true }, arguments); };\n    BackgroundMode.prototype.un = function (event, callback) { return cordova(this, \"un\", {}, arguments); };\n    BackgroundMode.prototype.moveToBackground = function () { return cordova(this, \"moveToBackground\", { \"platforms\": [\"Android\"], \"sync\": true }, arguments); };\n    BackgroundMode.prototype.disableWebViewOptimizations = function () { return cordova(this, \"disableWebViewOptimizations\", { \"platforms\": [\"Android\"], \"sync\": true }, arguments); };\n    BackgroundMode.prototype.moveToForeground = function () { return cordova(this, \"moveToForeground\", { \"platforms\": [\"Android\"], \"sync\": true }, arguments); };\n    BackgroundMode.prototype.overrideBackButton = function () { return cordova(this, \"overrideBackButton\", { \"platforms\": [\"Android\"], \"sync\": true }, arguments); };\n    BackgroundMode.prototype.excludeFromTaskList = function () { return cordova(this, \"excludeFromTaskList\", { \"platforms\": [\"Android\"], \"sync\": true }, arguments); };\n    BackgroundMode.prototype.isScreenOff = function (fn) { return cordova(this, \"isScreenOff\", { \"platforms\": [\"Android\"] }, arguments); };\n    BackgroundMode.prototype.wakeUp = function () { return cordova(this, \"wakeUp\", { \"platforms\": [\"Android\"], \"sync\": true }, arguments); };\n    BackgroundMode.prototype.unlock = function () { return cordova(this, \"unlock\", { \"platforms\": [\"Android\"], \"sync\": true }, arguments); };\n    BackgroundMode.prototype.disableBatteryOptimizations = function () { return cordova(this, \"disableBatteryOptimizations\", { \"platforms\": [\"Android\"], \"sync\": true }, arguments); };\n    BackgroundMode.pluginName = \"BackgroundMode\";\n    BackgroundMode.plugin = \"cordova-plugin-background-mode\";\n    BackgroundMode.pluginRef = \"cordova.plugins.backgroundMode\";\n    BackgroundMode.repo = \"https://github.com/katzer/cordova-plugin-background-mode\";\n    BackgroundMode.platforms = [\"AmazonFire OS\", \"Android\", \"Browser\", \"iOS\", \"Windows\"];\nBackgroundMode.ɵfac = function BackgroundMode_Factory(t) { return ɵBackgroundMode_BaseFactory(t || BackgroundMode); };\nBackgroundMode.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: BackgroundMode, factory: function (t) { return BackgroundMode.ɵfac(t); } });\nvar ɵBackgroundMode_BaseFactory = /*@__PURE__*/ ɵngcc0.ɵɵgetInheritedFactory(BackgroundMode);\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BackgroundMode, [{\n        type: Injectable\n    }], null, null); })();\n    return BackgroundMode;\n}(IonicNativePlugin));\nexport { BackgroundMode };\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9AaW9uaWMtbmF0aXZlL3BsdWdpbnMvYmFja2dyb3VuZC1tb2RlL25neC9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLDhCQUFzQyxNQUFNLG9CQUFvQixDQUFDO0FBQ3hFLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxNQUFNLENBQUM7O0FBQ2xDO0FBSUUsSUF3RWtDLGtDQUFpQjtBQUFDO0FBRTlCO0FBQ3dDO0FBQU0sSUFLcEUsK0JBQU07QUFJb0IsSUFLMUIsZ0NBQU87QUFNTCxJQVFGLG1DQUFVLGFBQUMsTUFBZTtBQUtqQixJQVFULGtDQUFTLGFBQUMsS0FBYTtBQUFJLFFBQUYsY0FBYztBQUFDLGFBQWYsVUFBYyxFQUFkLHFCQUFjLEVBQWQsSUFBYztBQUFJLFlBQWxCLDZCQUFjO0FBQUM7QUFBVTtBQUtKO0FBQzNDLElBS0gsa0NBQVM7QUFLb0MsSUFNN0MsaUNBQVE7QUFNRCxJQU9QLG9DQUFXLGFBQUMsU0FBdUM7QUFJekIsSUFPMUIsa0NBQVMsYUFBQyxPQUFxQztBQUlWLElBU3JDLDJCQUFFLGFBQUMsS0FBYTtBQUtzRCxJQU10RSwyQkFBRSxhQUFDLEtBQWEsRUFBRSxRQUFrQztBQUtyQyxJQU1mLHlDQUFnQjtBQU9qQixJQUVDLG9EQUEyQjtBQU1mLElBR1oseUNBQWdCO0FBS2YsSUFJRCwyQ0FBa0I7QUFNVixJQUdSLDRDQUFtQjtBQUtuQixJQUtBLG9DQUFXLGFBQUMsRUFBMkI7QUFPekMsSUFFRSwrQkFBTTtBQU1nQixJQUd0QiwrQkFBTTtBQU1OLElBR0Esb0RBQTJCO0FBRXFGO0FBQWtEO0FBQThEO0FBQWlFO0FBQXNGO2tEQXpNeFgsVUFBVTs7Ozs7MEJBQ0w7QUFBQyx5QkEvRVA7QUFBRSxFQStFa0MsaUJBQWlCO0FBQ3BELFNBRFksY0FBYztBQUFJIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29yZG92YSwgSW9uaWNOYXRpdmVQbHVnaW4sIFBsdWdpbiB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5cbi8qKlxuICogQ29uZmlndXJhdGlvbnMgaXRlbXMgdGhhdCBjYW4gYmUgdXBkYXRlZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCYWNrZ3JvdW5kTW9kZUNvbmZpZ3VyYXRpb24ge1xuICAvKipcbiAgICogVGl0bGUgb2YgdGhlIGJhY2tncm91bmQgdGFza1xuICAgKi9cbiAgdGl0bGU/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIERlc2NyaXB0aW9uIG9mIGJhY2tncm91bmQgdGFza1xuICAgKi9cbiAgdGV4dD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhpcyB3aWxsIGxvb2sgZm9yIGA8aWNvbiBuYW1lPi5wbmdgIGluIHBsYXRmb3Jtcy9hbmRyb2lkL3Jlcy9kcmF3YWJsZXxtaXBtYXBcbiAgICovXG4gIGljb24/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgbm90aWZpY2F0aW9uIGNpcmNsZVxuICAgKi9cbiAgY29sb3I/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEJ5IGRlZmF1bHQgdGhlIGFwcCB3aWxsIGNvbWUgdG8gZm9yZWdyb3VuZCB3aGVuIHRhcHBpbmcgb24gdGhlIG5vdGlmaWNhdGlvbi4gSWYgZmFsc2UsIHBsdWdpbiB3b24ndCBjb21lIHRvIGZvcmVncm91bmQgd2hlbiB0YXBwZWQuXG4gICAqL1xuICByZXN1bWU/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBXaGVuIHNldCB0byBmYWxzZSBtYWtlcyB0aGUgbm90aWZpY2F0aW9ucyB2aXNpYmxlIG9uIGxvY2sgc2NyZWVuIChBbmRyb2lkIDUuMCspXG4gICAqL1xuICBoaWRkZW4/OiBib29sZWFuO1xuXG4gIC8qKiBCaWcgdGV4dCAqL1xuICBiaWdUZXh0PzogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIHRleHQgdGhhdCBzY3JvbGxzIGl0c2VsZiBvbiBzdGF0dXNiYXJcbiAgICovXG4gIHRpY2tlcj86IHN0cmluZztcblxuICAvKipcbiAgICogaWYgdHJ1ZSBwbHVnaW4gd2lsbCBub3QgZGlzcGxheSBhIG5vdGlmaWNhdGlvbi4gRGVmYXVsdCBpcyBmYWxzZS5cbiAgICovXG4gIHNpbGVudD86IGJvb2xlYW47XG59XG5cbi8qKlxuICogQG5hbWUgQmFja2dyb3VuZCBNb2RlXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvcmRvdmEgcGx1Z2luIHRvIHByZXZlbnQgdGhlIGFwcCBmcm9tIGdvaW5nIHRvIHNsZWVwIHdoaWxlIGluIGJhY2tncm91bmQuXG4gKiBSZXF1aXJlcyBDb3Jkb3ZhIHBsdWdpbjogY29yZG92YS1wbHVnaW4tYmFja2dyb3VuZC1tb2RlLiBGb3IgbW9yZSBpbmZvIGFib3V0IHBsdWdpbiwgdmlzaXQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9rYXR6ZXIvY29yZG92YS1wbHVnaW4tYmFja2dyb3VuZC1tb2RlXG4gKiBAdXNhZ2VcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IEJhY2tncm91bmRNb2RlIH0gZnJvbSAnQGlvbmljLW5hdGl2ZS9iYWNrZ3JvdW5kLW1vZGUvbmd4JztcbiAqXG4gKiBjb25zdHJ1Y3Rvcihwcml2YXRlIGJhY2tncm91bmRNb2RlOiBCYWNrZ3JvdW5kTW9kZSkgeyB9XG4gKlxuICogLi4uXG4gKlxuICogdGhpcy5iYWNrZ3JvdW5kTW9kZS5lbmFibGUoKTtcbiAqIGBgYFxuICpcbiAqIEBpbnRlcmZhY2VzXG4gKiBCYWNrZ3JvdW5kTW9kZUNvbmZpZ3VyYXRpb25cbiAqL1xuQFBsdWdpbih7XG4gIHBsdWdpbk5hbWU6ICdCYWNrZ3JvdW5kTW9kZScsXG4gIHBsdWdpbjogJ2NvcmRvdmEtcGx1Z2luLWJhY2tncm91bmQtbW9kZScsXG4gIHBsdWdpblJlZjogJ2NvcmRvdmEucGx1Z2lucy5iYWNrZ3JvdW5kTW9kZScsXG4gIHJlcG86ICdodHRwczovL2dpdGh1Yi5jb20va2F0emVyL2NvcmRvdmEtcGx1Z2luLWJhY2tncm91bmQtbW9kZScsXG4gIHBsYXRmb3JtczogWydBbWF6b25GaXJlIE9TJywgJ0FuZHJvaWQnLCAnQnJvd3NlcicsICdpT1MnLCAnV2luZG93cyddLFxufSlcbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBCYWNrZ3JvdW5kTW9kZSBleHRlbmRzIElvbmljTmF0aXZlUGx1Z2luIHtcbiAgLyoqXG4gICAqIEVuYWJsZSB0aGUgYmFja2dyb3VuZCBtb2RlLlxuICAgKiBPbmNlIGNhbGxlZCwgcHJldmVudHMgdGhlIGFwcCBmcm9tIGJlaW5nIHBhdXNlZCB3aGlsZSBpbiBiYWNrZ3JvdW5kLlxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIHN5bmM6IHRydWUsXG4gIH0pXG4gIGVuYWJsZSgpOiB2b2lkIHt9XG5cbiAgLyoqXG4gICAqIERpc2FibGUgdGhlIGJhY2tncm91bmQgbW9kZS5cbiAgICogT25jZSB0aGUgYmFja2dyb3VuZCBtb2RlIGhhcyBiZWVuIGRpc2FibGVkLCB0aGUgYXBwIHdpbGwgYmUgcGF1c2VkIHdoZW4gaW4gYmFja2dyb3VuZC5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBzeW5jOiB0cnVlLFxuICB9KVxuICBkaXNhYmxlKCk6IHZvaWQge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgb3IgZGlzYWJsZSB0aGUgYmFja2dyb3VuZCBtb2RlLlxuICAgKlxuICAgKiBAcGFyYW0gZW5hYmxlIHtib29sZWFufSBUaGUgc3RhdHVzIHRvIHNldCBmb3IuXG4gICAqXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgc3luYzogdHJ1ZSxcbiAgfSlcbiAgc2V0RW5hYmxlZChlbmFibGU6IGJvb2xlYW4pOiB2b2lkIHt9XG5cbiAgLyoqXG4gICAqIEZpcmUgZXZlbnQgd2l0aCBnaXZlbiBhcmd1bWVudHMuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudCB7c3RyaW5nfSBldmVudCBUaGUgZXZlbnQncyBuYW1lLlxuICAgKiBAcGFyYW0gYXJncyB7YXJyYXl9IFRoZSBjYWxsYmFjaydzIGFyZ3VtZW50cy5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIHN5bmM6IHRydWUsXG4gIH0pXG4gIGZpcmVFdmVudChldmVudDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSk6IHN0cmluZyB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBiYWNrZ3JvdW5kIG1vZGUgaXMgZW5hYmxlZCBvciBub3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSByZXR1cm5zIGEgYm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGUgYmFja2dyb3VuZCBtb2RlIGlzIGVuYWJsZWQuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgc3luYzogdHJ1ZSxcbiAgfSlcbiAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYW4gYmUgdXNlZCB0byBnZXQgdGhlIGluZm9ybWF0aW9uIGlmIHRoZSBiYWNrZ3JvdW5kIG1vZGUgaXMgYWN0aXZlLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gcmV0dXJucyBhIGJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIGJhY2tncm91bmQgbW9kZSBpcyBhY3RpdmUuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgc3luYzogdHJ1ZSxcbiAgfSlcbiAgaXNBY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJ3cml0ZSB0aGUgZGVmYXVsdCBzZXR0aW5ncy5cbiAgICogQXZhaWxhYmxlIG9ubHkgZm9yIEFuZHJvaWQgcGxhdGZvcm0uXG4gICAqIEBwYXJhbSBvdmVycmlkZXMge0JhY2tncm91bmRNb2RlQ29uZmlndXJhdGlvbn0gRGljdCBvZiBvcHRpb25zIHRvIGJlIG92ZXJyaWRkZW4uXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnXSxcbiAgfSlcbiAgc2V0RGVmYXVsdHMob3ZlcnJpZGVzPzogQmFja2dyb3VuZE1vZGVDb25maWd1cmF0aW9uKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBNb2RpZnkgdGhlIGRpc3BsYXllZCBpbmZvcm1hdGlvbi5cbiAgICogQXZhaWxhYmxlIG9ubHkgZm9yIEFuZHJvaWQgcGxhdGZvcm0uXG4gICAqIEBwYXJhbSB7QmFja2dyb3VuZE1vZGVDb25maWd1cmF0aW9ufSBbb3B0aW9uc10gQW55IG9wdGlvbnMgeW91IHdhbnQgdG8gdXBkYXRlLiBTZWUgdGFibGUgYmVsb3cuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnXSxcbiAgICBzeW5jOiB0cnVlLFxuICB9KVxuICBjb25maWd1cmUob3B0aW9ucz86IEJhY2tncm91bmRNb2RlQ29uZmlndXJhdGlvbik6IHZvaWQge31cblxuICAvKipcbiAgICogUmVnaXN0ZXIgY2FsbGJhY2sgZm9yIGdpdmVuIGV2ZW50LlxuICAgKiA+IEF2YWlsYWJsZSBldmVudHMgYXJlIGBlbmFibGVgLCBgZGlzYWJsZWAsIGBhY3RpdmF0ZWAsIGBkZWFjdGl2YXRlYCBhbmQgYGZhaWx1cmVgLlxuICAgKiBAcGFyYW0gZXZlbnQge3N0cmluZ30gRXZlbnQgbmFtZVxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIG9ic2VydmFibGU6IHRydWUsXG4gICAgY2xlYXJGdW5jdGlvbjogJ3VuJyxcbiAgICBjbGVhcldpdGhBcmdzOiB0cnVlLFxuICB9KVxuICBvbihldmVudDogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogTGlzdGVuIGZvciBldmVudHMgdGhhdCB0aGUgcGx1Z2luIGZpcmVzLiBBdmFpbGFibGUgZXZlbnRzIGFyZSBgZW5hYmxlYCwgYGRpc2FibGVgLCBgYWN0aXZhdGVgLCBgZGVhY3RpdmF0ZWAgYW5kIGBmYWlsdXJlYC5cbiAgICogQHBhcmFtIGV2ZW50IHtzdHJpbmd9IEV2ZW50IG5hbWVcbiAgICogQHBhcmFtIGNhbGxiYWNrIHtmdW5jdGlvbn0gVGhlIGZ1bmN0aW9uIHRvIGJlIGV4ZWMgYXMgY2FsbGJhY2suXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHVuKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiAoLi4uYXJnczogYW55W10pID0+IHZvaWQpOiB2b2lkIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQW5kcm9pZCBhbGxvd3MgdG8gcHJvZ3JhbW1hdGljYWxseSBtb3ZlIGZyb20gZm9yZWdyb3VuZCB0byBiYWNrZ3JvdW5kLlxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIHBsYXRmb3JtczogWydBbmRyb2lkJ10sXG4gICAgc3luYzogdHJ1ZSxcbiAgfSlcbiAgbW92ZVRvQmFja2dyb3VuZCgpOiB2b2lkIHt9XG5cbiAgLyoqXG4gICAqIEVuYWJsZSBHUFMtdHJhY2tpbmcgaW4gYmFja2dyb3VuZCAoQW5kcm9pZCkuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnXSxcbiAgICBzeW5jOiB0cnVlLFxuICB9KVxuICBkaXNhYmxlV2ViVmlld09wdGltaXphdGlvbnMoKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBBbmRyb2lkIGFsbG93cyB0byBwcm9ncmFtbWF0aWNhbGx5IG1vdmUgZnJvbSBiYWNrZ3JvdW5kIHRvIGZvcmVncm91bmQuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnXSxcbiAgICBzeW5jOiB0cnVlLFxuICB9KVxuICBtb3ZlVG9Gb3JlZ3JvdW5kKCk6IHZvaWQge31cblxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGJhY2sgYnV0dG9uIG9uIEFuZHJvaWQgdG8gZ28gdG8gYmFja2dyb3VuZCBpbnN0ZWFkIG9mIGNsb3NpbmcgdGhlIGFwcC5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBwbGF0Zm9ybXM6IFsnQW5kcm9pZCddLFxuICAgIHN5bmM6IHRydWUsXG4gIH0pXG4gIG92ZXJyaWRlQmFja0J1dHRvbigpOiB2b2lkIHt9XG5cbiAgLyoqXG4gICAqIEV4Y2x1ZGUgdGhlIGFwcCBmcm9tIHRoZSByZWNlbnQgdGFzayBsaXN0LiBXb3JrcyBvbiBBbmRyb2lkIDUuMCsuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnXSxcbiAgICBzeW5jOiB0cnVlLFxuICB9KVxuICBleGNsdWRlRnJvbVRhc2tMaXN0KCk6IHZvaWQge31cblxuICAvKipcbiAgICogSWYgdGhlIHNjcmVlbiBpcyBvZmYuXG4gICAqIEBwYXJhbSBmbiB7ZnVuY3Rpb259IENhbGxiYWNrIGZ1bmN0aW9uIHRvIGludm9rZSB3aXRoIGJvb2xlYW4gYXJnLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn1cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBwbGF0Zm9ybXM6IFsnQW5kcm9pZCddLFxuICB9KVxuICBpc1NjcmVlbk9mZihmbjogKGFyZzA6IGJvb2xlYW4pID0+IHZvaWQpOiB2b2lkIHt9XG5cbiAgLyoqXG4gICAqIFR1cm4gc2NyZWVuIG9uXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnXSxcbiAgICBzeW5jOiB0cnVlLFxuICB9KVxuICB3YWtlVXAoKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBUdXJuIHNjcmVlbiBvbiBhbmQgc2hvdyBhcHAgZXZlbiBsb2NrZWRcbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBwbGF0Zm9ybXM6IFsnQW5kcm9pZCddLFxuICAgIHN5bmM6IHRydWUsXG4gIH0pXG4gIHVubG9jaygpOiB2b2lkIHt9XG5cbiAgLyoqXG4gICAqIERpc2FibGVzIGJhdHRlcnkgb3B0aW1hemF0aW9uIG1vZGUgZm9yIHRoZSBhcHAgKGFuZHJvaWQgb25seSlcbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBwbGF0Zm9ybXM6IFsnQW5kcm9pZCddLFxuICAgIHN5bmM6IHRydWUsXG4gIH0pXG4gIGRpc2FibGVCYXR0ZXJ5T3B0aW1pemF0aW9ucygpOiB2b2lkIHt9XG59XG4iXX0=","// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nimport { MessageType } from \"./IHubProtocol\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { TransferFormat } from \"./ITransport\";\r\nimport { NullLogger } from \"./Loggers\";\r\nimport { TextMessageFormat } from \"./TextMessageFormat\";\r\nvar JSON_HUB_PROTOCOL_NAME = \"json\";\r\n/** Implements the JSON Hub Protocol. */\r\nvar JsonHubProtocol = /** @class */ (function () {\r\n    function JsonHubProtocol() {\r\n        /** @inheritDoc */\r\n        this.name = JSON_HUB_PROTOCOL_NAME;\r\n        /** @inheritDoc */\r\n        this.version = 1;\r\n        /** @inheritDoc */\r\n        this.transferFormat = TransferFormat.Text;\r\n    }\r\n    /** Creates an array of {@link @aspnet/signalr.HubMessage} objects from the specified serialized representation.\r\n     *\r\n     * @param {string} input A string containing the serialized representation.\r\n     * @param {ILogger} logger A logger that will be used to log messages that occur during parsing.\r\n     */\r\n    JsonHubProtocol.prototype.parseMessages = function (input, logger) {\r\n        // The interface does allow \"ArrayBuffer\" to be passed in, but this implementation does not. So let's throw a useful error.\r\n        if (typeof input !== \"string\") {\r\n            throw new Error(\"Invalid input for JSON hub protocol. Expected a string.\");\r\n        }\r\n        if (!input) {\r\n            return [];\r\n        }\r\n        if (logger === null) {\r\n            logger = NullLogger.instance;\r\n        }\r\n        // Parse the messages\r\n        var messages = TextMessageFormat.parse(input);\r\n        var hubMessages = [];\r\n        for (var _i = 0, messages_1 = messages; _i < messages_1.length; _i++) {\r\n            var message = messages_1[_i];\r\n            var parsedMessage = JSON.parse(message);\r\n            if (typeof parsedMessage.type !== \"number\") {\r\n                throw new Error(\"Invalid payload.\");\r\n            }\r\n            switch (parsedMessage.type) {\r\n                case MessageType.Invocation:\r\n                    this.isInvocationMessage(parsedMessage);\r\n                    break;\r\n                case MessageType.StreamItem:\r\n                    this.isStreamItemMessage(parsedMessage);\r\n                    break;\r\n                case MessageType.Completion:\r\n                    this.isCompletionMessage(parsedMessage);\r\n                    break;\r\n                case MessageType.Ping:\r\n                    // Single value, no need to validate\r\n                    break;\r\n                case MessageType.Close:\r\n                    // All optional values, no need to validate\r\n                    break;\r\n                default:\r\n                    // Future protocol changes can add message types, old clients can ignore them\r\n                    logger.log(LogLevel.Information, \"Unknown message type '\" + parsedMessage.type + \"' ignored.\");\r\n                    continue;\r\n            }\r\n            hubMessages.push(parsedMessage);\r\n        }\r\n        return hubMessages;\r\n    };\r\n    /** Writes the specified {@link @aspnet/signalr.HubMessage} to a string and returns it.\r\n     *\r\n     * @param {HubMessage} message The message to write.\r\n     * @returns {string} A string containing the serialized representation of the message.\r\n     */\r\n    JsonHubProtocol.prototype.writeMessage = function (message) {\r\n        return TextMessageFormat.write(JSON.stringify(message));\r\n    };\r\n    JsonHubProtocol.prototype.isInvocationMessage = function (message) {\r\n        this.assertNotEmptyString(message.target, \"Invalid payload for Invocation message.\");\r\n        if (message.invocationId !== undefined) {\r\n            this.assertNotEmptyString(message.invocationId, \"Invalid payload for Invocation message.\");\r\n        }\r\n    };\r\n    JsonHubProtocol.prototype.isStreamItemMessage = function (message) {\r\n        this.assertNotEmptyString(message.invocationId, \"Invalid payload for StreamItem message.\");\r\n        if (message.item === undefined) {\r\n            throw new Error(\"Invalid payload for StreamItem message.\");\r\n        }\r\n    };\r\n    JsonHubProtocol.prototype.isCompletionMessage = function (message) {\r\n        if (message.result && message.error) {\r\n            throw new Error(\"Invalid payload for Completion message.\");\r\n        }\r\n        if (!message.result && message.error) {\r\n            this.assertNotEmptyString(message.error, \"Invalid payload for Completion message.\");\r\n        }\r\n        this.assertNotEmptyString(message.invocationId, \"Invalid payload for Completion message.\");\r\n    };\r\n    JsonHubProtocol.prototype.assertNotEmptyString = function (value, errorMessage) {\r\n        if (typeof value !== \"string\" || value === \"\") {\r\n            throw new Error(errorMessage);\r\n        }\r\n    };\r\n    return JsonHubProtocol;\r\n}());\r\nexport { JsonHubProtocol };\r\n//# sourceMappingURL=JsonHubProtocol.js.map","// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { TransferFormat } from \"./ITransport\";\r\nimport { Arg, getDataDetail, sendMessage } from \"./Utils\";\r\n/** @private */\r\nvar ServerSentEventsTransport = /** @class */ (function () {\r\n    function ServerSentEventsTransport(httpClient, accessTokenFactory, logger, logMessageContent, eventSourceConstructor) {\r\n        this.httpClient = httpClient;\r\n        this.accessTokenFactory = accessTokenFactory;\r\n        this.logger = logger;\r\n        this.logMessageContent = logMessageContent;\r\n        this.eventSourceConstructor = eventSourceConstructor;\r\n        this.onreceive = null;\r\n        this.onclose = null;\r\n    }\r\n    ServerSentEventsTransport.prototype.connect = function (url, transferFormat) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var token;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        Arg.isRequired(url, \"url\");\r\n                        Arg.isRequired(transferFormat, \"transferFormat\");\r\n                        Arg.isIn(transferFormat, TransferFormat, \"transferFormat\");\r\n                        this.logger.log(LogLevel.Trace, \"(SSE transport) Connecting.\");\r\n                        // set url before accessTokenFactory because this.url is only for send and we set the auth header instead of the query string for send\r\n                        this.url = url;\r\n                        if (!this.accessTokenFactory) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.accessTokenFactory()];\r\n                    case 1:\r\n                        token = _a.sent();\r\n                        if (token) {\r\n                            url += (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") + (\"access_token=\" + encodeURIComponent(token));\r\n                        }\r\n                        _a.label = 2;\r\n                    case 2: return [2 /*return*/, new Promise(function (resolve, reject) {\r\n                            var opened = false;\r\n                            if (transferFormat !== TransferFormat.Text) {\r\n                                reject(new Error(\"The Server-Sent Events transport only supports the 'Text' transfer format\"));\r\n                                return;\r\n                            }\r\n                            var eventSource;\r\n                            if (typeof window !== \"undefined\") {\r\n                                eventSource = new _this.eventSourceConstructor(url, { withCredentials: true });\r\n                            }\r\n                            else {\r\n                                // Non-browser passes cookies via the dictionary\r\n                                var cookies = _this.httpClient.getCookieString(url);\r\n                                eventSource = new _this.eventSourceConstructor(url, { withCredentials: true, headers: { Cookie: cookies } });\r\n                            }\r\n                            try {\r\n                                eventSource.onmessage = function (e) {\r\n                                    if (_this.onreceive) {\r\n                                        try {\r\n                                            _this.logger.log(LogLevel.Trace, \"(SSE transport) data received. \" + getDataDetail(e.data, _this.logMessageContent) + \".\");\r\n                                            _this.onreceive(e.data);\r\n                                        }\r\n                                        catch (error) {\r\n                                            _this.close(error);\r\n                                            return;\r\n                                        }\r\n                                    }\r\n                                };\r\n                                eventSource.onerror = function (e) {\r\n                                    var error = new Error(e.data || \"Error occurred\");\r\n                                    if (opened) {\r\n                                        _this.close(error);\r\n                                    }\r\n                                    else {\r\n                                        reject(error);\r\n                                    }\r\n                                };\r\n                                eventSource.onopen = function () {\r\n                                    _this.logger.log(LogLevel.Information, \"SSE connected to \" + _this.url);\r\n                                    _this.eventSource = eventSource;\r\n                                    opened = true;\r\n                                    resolve();\r\n                                };\r\n                            }\r\n                            catch (e) {\r\n                                reject(e);\r\n                                return;\r\n                            }\r\n                        })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ServerSentEventsTransport.prototype.send = function (data) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                if (!this.eventSource) {\r\n                    return [2 /*return*/, Promise.reject(new Error(\"Cannot send until the transport is connected\"))];\r\n                }\r\n                return [2 /*return*/, sendMessage(this.logger, \"SSE\", this.httpClient, this.url, this.accessTokenFactory, data, this.logMessageContent)];\r\n            });\r\n        });\r\n    };\r\n    ServerSentEventsTransport.prototype.stop = function () {\r\n        this.close();\r\n        return Promise.resolve();\r\n    };\r\n    ServerSentEventsTransport.prototype.close = function (e) {\r\n        if (this.eventSource) {\r\n            this.eventSource.close();\r\n            this.eventSource = undefined;\r\n            if (this.onclose) {\r\n                this.onclose(e);\r\n            }\r\n        }\r\n    };\r\n    return ServerSentEventsTransport;\r\n}());\r\nexport { ServerSentEventsTransport };\r\n//# sourceMappingURL=ServerSentEventsTransport.js.map","// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\n// Version token that will be replaced by the prepack command\r\n/** The version of the SignalR client. */\r\nexport var VERSION = \"1.1.4\";\r\nexport { AbortError, HttpError, TimeoutError } from \"./Errors\";\r\nexport { HttpClient, HttpResponse } from \"./HttpClient\";\r\nexport { DefaultHttpClient } from \"./DefaultHttpClient\";\r\nexport { HubConnection, HubConnectionState } from \"./HubConnection\";\r\nexport { HubConnectionBuilder } from \"./HubConnectionBuilder\";\r\nexport { MessageType } from \"./IHubProtocol\";\r\nexport { LogLevel } from \"./ILogger\";\r\nexport { HttpTransportType, TransferFormat } from \"./ITransport\";\r\nexport { NullLogger } from \"./Loggers\";\r\nexport { JsonHubProtocol } from \"./JsonHubProtocol\";\r\n//# sourceMappingURL=index.js.map","// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\n// Not exported from index\r\n/** @private */\r\nvar TextMessageFormat = /** @class */ (function () {\r\n    function TextMessageFormat() {\r\n    }\r\n    TextMessageFormat.write = function (output) {\r\n        return \"\" + output + TextMessageFormat.RecordSeparator;\r\n    };\r\n    TextMessageFormat.parse = function (input) {\r\n        if (input[input.length - 1] !== TextMessageFormat.RecordSeparator) {\r\n            throw new Error(\"Message is incomplete.\");\r\n        }\r\n        var messages = input.split(TextMessageFormat.RecordSeparator);\r\n        messages.pop();\r\n        return messages;\r\n    };\r\n    TextMessageFormat.RecordSeparatorCode = 0x1e;\r\n    TextMessageFormat.RecordSeparator = String.fromCharCode(TextMessageFormat.RecordSeparatorCode);\r\n    return TextMessageFormat;\r\n}());\r\nexport { TextMessageFormat };\r\n//# sourceMappingURL=TextMessageFormat.js.map","// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nimport { TextMessageFormat } from \"./TextMessageFormat\";\r\nimport { isArrayBuffer } from \"./Utils\";\r\n/** @private */\r\nvar HandshakeProtocol = /** @class */ (function () {\r\n    function HandshakeProtocol() {\r\n    }\r\n    // Handshake request is always JSON\r\n    HandshakeProtocol.prototype.writeHandshakeRequest = function (handshakeRequest) {\r\n        return TextMessageFormat.write(JSON.stringify(handshakeRequest));\r\n    };\r\n    HandshakeProtocol.prototype.parseHandshakeResponse = function (data) {\r\n        var responseMessage;\r\n        var messageData;\r\n        var remainingData;\r\n        if (isArrayBuffer(data) || (typeof Buffer !== \"undefined\" && data instanceof Buffer)) {\r\n            // Format is binary but still need to read JSON text from handshake response\r\n            var binaryData = new Uint8Array(data);\r\n            var separatorIndex = binaryData.indexOf(TextMessageFormat.RecordSeparatorCode);\r\n            if (separatorIndex === -1) {\r\n                throw new Error(\"Message is incomplete.\");\r\n            }\r\n            // content before separator is handshake response\r\n            // optional content after is additional messages\r\n            var responseLength = separatorIndex + 1;\r\n            messageData = String.fromCharCode.apply(null, binaryData.slice(0, responseLength));\r\n            remainingData = (binaryData.byteLength > responseLength) ? binaryData.slice(responseLength).buffer : null;\r\n        }\r\n        else {\r\n            var textData = data;\r\n            var separatorIndex = textData.indexOf(TextMessageFormat.RecordSeparator);\r\n            if (separatorIndex === -1) {\r\n                throw new Error(\"Message is incomplete.\");\r\n            }\r\n            // content before separator is handshake response\r\n            // optional content after is additional messages\r\n            var responseLength = separatorIndex + 1;\r\n            messageData = textData.substring(0, responseLength);\r\n            remainingData = (textData.length > responseLength) ? textData.substring(responseLength) : null;\r\n        }\r\n        // At this point we should have just the single handshake message\r\n        var messages = TextMessageFormat.parse(messageData);\r\n        var response = JSON.parse(messages[0]);\r\n        if (response.type) {\r\n            throw new Error(\"Expected a handshake response from the server.\");\r\n        }\r\n        responseMessage = response;\r\n        // multiple messages could have arrived with handshake\r\n        // return additional data to be parsed as usual, or null if all parsed\r\n        return [remainingData, responseMessage];\r\n    };\r\n    return HandshakeProtocol;\r\n}());\r\nexport { HandshakeProtocol };\r\n//# sourceMappingURL=HandshakeProtocol.js.map","// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { TransferFormat } from \"./ITransport\";\r\nimport { Arg, getDataDetail } from \"./Utils\";\r\n/** @private */\r\nvar WebSocketTransport = /** @class */ (function () {\r\n    function WebSocketTransport(httpClient, accessTokenFactory, logger, logMessageContent, webSocketConstructor) {\r\n        this.logger = logger;\r\n        this.accessTokenFactory = accessTokenFactory;\r\n        this.logMessageContent = logMessageContent;\r\n        this.webSocketConstructor = webSocketConstructor;\r\n        this.httpClient = httpClient;\r\n        this.onreceive = null;\r\n        this.onclose = null;\r\n    }\r\n    WebSocketTransport.prototype.connect = function (url, transferFormat) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var token;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        Arg.isRequired(url, \"url\");\r\n                        Arg.isRequired(transferFormat, \"transferFormat\");\r\n                        Arg.isIn(transferFormat, TransferFormat, \"transferFormat\");\r\n                        this.logger.log(LogLevel.Trace, \"(WebSockets transport) Connecting.\");\r\n                        if (!this.accessTokenFactory) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.accessTokenFactory()];\r\n                    case 1:\r\n                        token = _a.sent();\r\n                        if (token) {\r\n                            url += (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") + (\"access_token=\" + encodeURIComponent(token));\r\n                        }\r\n                        _a.label = 2;\r\n                    case 2: return [2 /*return*/, new Promise(function (resolve, reject) {\r\n                            url = url.replace(/^http/, \"ws\");\r\n                            var webSocket;\r\n                            var cookies = _this.httpClient.getCookieString(url);\r\n                            if (typeof window === \"undefined\" && cookies) {\r\n                                // Only pass cookies when in non-browser environments\r\n                                webSocket = new _this.webSocketConstructor(url, undefined, {\r\n                                    headers: {\r\n                                        Cookie: \"\" + cookies,\r\n                                    },\r\n                                });\r\n                            }\r\n                            if (!webSocket) {\r\n                                // Chrome is not happy with passing 'undefined' as protocol\r\n                                webSocket = new _this.webSocketConstructor(url);\r\n                            }\r\n                            if (transferFormat === TransferFormat.Binary) {\r\n                                webSocket.binaryType = \"arraybuffer\";\r\n                            }\r\n                            // tslint:disable-next-line:variable-name\r\n                            webSocket.onopen = function (_event) {\r\n                                _this.logger.log(LogLevel.Information, \"WebSocket connected to \" + url + \".\");\r\n                                _this.webSocket = webSocket;\r\n                                resolve();\r\n                            };\r\n                            webSocket.onerror = function (event) {\r\n                                var error = null;\r\n                                // ErrorEvent is a browser only type we need to check if the type exists before using it\r\n                                if (typeof ErrorEvent !== \"undefined\" && event instanceof ErrorEvent) {\r\n                                    error = event.error;\r\n                                }\r\n                                reject(error);\r\n                            };\r\n                            webSocket.onmessage = function (message) {\r\n                                _this.logger.log(LogLevel.Trace, \"(WebSockets transport) data received. \" + getDataDetail(message.data, _this.logMessageContent) + \".\");\r\n                                if (_this.onreceive) {\r\n                                    _this.onreceive(message.data);\r\n                                }\r\n                            };\r\n                            webSocket.onclose = function (event) { return _this.close(event); };\r\n                        })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebSocketTransport.prototype.send = function (data) {\r\n        if (this.webSocket && this.webSocket.readyState === this.webSocketConstructor.OPEN) {\r\n            this.logger.log(LogLevel.Trace, \"(WebSockets transport) sending data. \" + getDataDetail(data, this.logMessageContent) + \".\");\r\n            this.webSocket.send(data);\r\n            return Promise.resolve();\r\n        }\r\n        return Promise.reject(\"WebSocket is not in the OPEN state\");\r\n    };\r\n    WebSocketTransport.prototype.stop = function () {\r\n        if (this.webSocket) {\r\n            // Clear websocket handlers because we are considering the socket closed now\r\n            this.webSocket.onclose = function () { };\r\n            this.webSocket.onmessage = function () { };\r\n            this.webSocket.onerror = function () { };\r\n            this.webSocket.close();\r\n            this.webSocket = undefined;\r\n            // Manually invoke onclose callback inline so we know the HttpConnection was closed properly before returning\r\n            // This also solves an issue where websocket.onclose could take 18+ seconds to trigger during network disconnects\r\n            this.close(undefined);\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    WebSocketTransport.prototype.close = function (event) {\r\n        // webSocket will be null if the transport did not start successfully\r\n        this.logger.log(LogLevel.Trace, \"(WebSockets transport) socket closed.\");\r\n        if (this.onclose) {\r\n            if (event && (event.wasClean === false || event.code !== 1000)) {\r\n                this.onclose(new Error(\"WebSocket closed with status code: \" + event.code + \" (\" + event.reason + \").\"));\r\n            }\r\n            else {\r\n                this.onclose();\r\n            }\r\n        }\r\n    };\r\n    return WebSocketTransport;\r\n}());\r\nexport { WebSocketTransport };\r\n//# sourceMappingURL=WebSocketTransport.js.map","// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nimport { AbortError, HttpError, TimeoutError } from \"./Errors\";\r\nimport { HttpClient, HttpResponse } from \"./HttpClient\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { isArrayBuffer } from \"./Utils\";\r\nvar requestModule;\r\nif (typeof XMLHttpRequest === \"undefined\") {\r\n    // In order to ignore the dynamic require in webpack builds we need to do this magic\r\n    // @ts-ignore: TS doesn't know about these names\r\n    var requireFunc = typeof __webpack_require__ === \"function\" ? __non_webpack_require__ : require;\r\n    requestModule = requireFunc(\"request\");\r\n}\r\nvar NodeHttpClient = /** @class */ (function (_super) {\r\n    __extends(NodeHttpClient, _super);\r\n    function NodeHttpClient(logger) {\r\n        var _this = _super.call(this) || this;\r\n        if (typeof requestModule === \"undefined\") {\r\n            throw new Error(\"The 'request' module could not be loaded.\");\r\n        }\r\n        _this.logger = logger;\r\n        _this.cookieJar = requestModule.jar();\r\n        _this.request = requestModule.defaults({ jar: _this.cookieJar });\r\n        return _this;\r\n    }\r\n    NodeHttpClient.prototype.send = function (httpRequest) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var requestBody;\r\n            if (isArrayBuffer(httpRequest.content)) {\r\n                requestBody = Buffer.from(httpRequest.content);\r\n            }\r\n            else {\r\n                requestBody = httpRequest.content || \"\";\r\n            }\r\n            var currentRequest = _this.request(httpRequest.url, {\r\n                body: requestBody,\r\n                // If binary is expected 'null' should be used, otherwise for text 'utf8'\r\n                encoding: httpRequest.responseType === \"arraybuffer\" ? null : \"utf8\",\r\n                headers: __assign({ \r\n                    // Tell auth middleware to 401 instead of redirecting\r\n                    \"X-Requested-With\": \"XMLHttpRequest\" }, httpRequest.headers),\r\n                method: httpRequest.method,\r\n                timeout: httpRequest.timeout,\r\n            }, function (error, response, body) {\r\n                if (httpRequest.abortSignal) {\r\n                    httpRequest.abortSignal.onabort = null;\r\n                }\r\n                if (error) {\r\n                    if (error.code === \"ETIMEDOUT\") {\r\n                        _this.logger.log(LogLevel.Warning, \"Timeout from HTTP request.\");\r\n                        reject(new TimeoutError());\r\n                    }\r\n                    _this.logger.log(LogLevel.Warning, \"Error from HTTP request. \" + error);\r\n                    reject(error);\r\n                    return;\r\n                }\r\n                if (response.statusCode >= 200 && response.statusCode < 300) {\r\n                    resolve(new HttpResponse(response.statusCode, response.statusMessage || \"\", body));\r\n                }\r\n                else {\r\n                    reject(new HttpError(response.statusMessage || \"\", response.statusCode || 0));\r\n                }\r\n            });\r\n            if (httpRequest.abortSignal) {\r\n                httpRequest.abortSignal.onabort = function () {\r\n                    currentRequest.abort();\r\n                    reject(new AbortError());\r\n                };\r\n            }\r\n        });\r\n    };\r\n    NodeHttpClient.prototype.getCookieString = function (url) {\r\n        return this.cookieJar.getCookieString(url);\r\n    };\r\n    return NodeHttpClient;\r\n}(HttpClient));\r\nexport { NodeHttpClient };\r\n//# sourceMappingURL=NodeHttpClient.js.map","export default \"<ion-split-pane contentId=\\\"content\\\">\\r\\n  <ion-menu>\\r\\n    <ion-header>\\r\\n      <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n          <ion-menu-button></ion-menu-button>\\r\\n        </ion-buttons>\\r\\n\\r\\n\\r\\n        <ion-title>\\r\\n          <ion-label>TaxiMi</ion-label>\\r\\n        </ion-title>\\r\\n\\r\\n        <ion-buttons slot=\\\"end\\\">\\r\\n          <!-- [placeholder]='\\\"tab1.languageChangePlaceholder\\\" | translate' -->\\r\\n\\r\\n          <ion-icon (click)='openLanguagePopover($event)' id=\\\"toolbarIcon\\\" name=\\\"language-outline\\\"></ion-icon>\\r\\n        </ion-buttons>\\r\\n      </ion-toolbar>\\r\\n    </ion-header>\\r\\n\\r\\n    <ion-content>\\r\\n      <ion-list>\\r\\n        <ion-menu-toggle auto-hide=\\\"false\\\">\\r\\n          <!-- <ion-item [routerLink]=\\\"p.url\\\" routerDirection=\\\"root\\\" [class.active.item]=\\\"selectedPage\\\">\\r\\n      <ion-label> {{p.title}} </ion-label>\\r\\n    </ion-item> -->\\r\\n          <ion-item *ngIf=\\\"!isLoggedIn\\\" routerLink=\\\"/menu/home\\\">\\r\\n            <ion-icon color=\\\"dark\\\" slot=\\\"start\\\" name=\\\"log-in-outline\\\"></ion-icon>\\r\\n            <ion-label class=\\\"my-label\\\" color=\\\"dark\\\"> {{'Register' | translate}} </ion-label>\\r\\n          </ion-item>\\r\\n\\r\\n          <ion-item *ngIf=\\\"isLoggedIn\\\" routerLink=\\\"/menu/favourite-orders\\\">\\r\\n            <ion-icon color=\\\"dark\\\" slot=\\\"start\\\" name=\\\"star-outline\\\"></ion-icon>\\r\\n            <ion-label class=\\\"my-label\\\" color=\\\"dark\\\"> {{'Favourites' | translate}} </ion-label>\\r\\n          </ion-item>\\r\\n\\r\\n\\r\\n          <ion-item *ngIf=\\\"isLoggedIn\\\" routerLink=\\\"/menu/travelling\\\">\\r\\n            <ion-icon color=\\\"dark\\\" slot=\\\"start\\\" name=\\\"bicycle-outline\\\"></ion-icon>\\r\\n            <ion-label class=\\\"my-label\\\" color=\\\"dark\\\"> {{'Travel' | translate}} </ion-label>\\r\\n          </ion-item>\\r\\n\\r\\n          \\r\\n          <ion-item *ngIf=\\\"isLoggedIn && isVerified && documentConfirmed == true && driverCars.length >= 1\\\"\\r\\n            routerLink=\\\"/menu/categories\\\">\\r\\n            <ion-icon color=\\\"dark\\\" name=\\\"car-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n            <ion-label class=\\\"my-label\\\" color=\\\"dark\\\"> {{'Drive' | translate}} </ion-label>\\r\\n          </ion-item>\\r\\n\\r\\n          <ion-item *ngIf=\\\"isLoggedIn && isVerified == false && documentConfirmed == false\\\"\\r\\n            routerLink=\\\"/menu/become-driver\\\">\\r\\n            <ion-icon color=\\\"dark\\\" name=\\\"car-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n            <ion-label class=\\\"my-label\\\" color=\\\"dark\\\"> {{'Drive' | translate}} </ion-label>\\r\\n          </ion-item>\\r\\n\\r\\n          <ion-item *ngIf=\\\"isLoggedIn && isVerified == true && driverCars.length == 0 && documentConfirmed == false\\\"\\r\\n            routerLink=\\\"/menu/car-register\\\">\\r\\n            <ion-icon color=\\\"dark\\\" name=\\\"car-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n            <ion-label class=\\\"my-label\\\" color=\\\"dark\\\"> {{'Drive' | translate}} </ion-label>\\r\\n          </ion-item>\\r\\n\\r\\n          <ion-item *ngIf=\\\"isLoggedIn && documentConfirmed == false && isVerified == true\\\" routerLink=\\\"/menu/verifying\\\">\\r\\n            <ion-icon color=\\\"dark\\\" name=\\\"person-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n            <ion-label class=\\\"my-label\\\" color=\\\"dark\\\"> {{'Profile' | translate}} </ion-label>\\r\\n          </ion-item>\\r\\n\\r\\n          <ion-item *ngIf=\\\"isLoggedIn && documentConfirmed == false && isVerified == false\\\" routerLink=\\\"/menu/become-driver\\\">\\r\\n            <ion-icon color=\\\"dark\\\" name=\\\"person-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n            <ion-label class=\\\"my-label\\\" color=\\\"dark\\\"> {{'Profile' | translate}} </ion-label>\\r\\n          </ion-item>\\r\\n\\r\\n          <ion-item *ngIf=\\\"isLoggedIn && isVerified && documentConfirmed == true\\\" routerLink=\\\"/menu/driver-profile\\\">\\r\\n            <ion-icon color=\\\"dark\\\" name=\\\"person-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n            <ion-label class=\\\"my-label\\\" color=\\\"dark\\\"> {{'Profile' | translate}} </ion-label>\\r\\n          </ion-item>\\r\\n\\r\\n         \\r\\n          <ion-item *ngIf=\\\"isLoggedIn\\\" routerLink=\\\"/menu/report\\\">\\r\\n            <ion-icon color=\\\"dark\\\" slot=\\\"start\\\" name=\\\"alert-circle-outline\\\"></ion-icon>\\r\\n            <ion-label class=\\\"my-label\\\" color=\\\"dark\\\"> {{'Report' | translate}} </ion-label>\\r\\n          </ion-item>\\r\\n\\r\\n        </ion-menu-toggle>\\r\\n\\r\\n        <ion-item *ngIf=\\\"isLoggedIn\\\" toppable (click)=logout() routerDirection=\\\"root\\\">\\r\\n          <ion-icon color=\\\"dark\\\" name=\\\"log-out-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n          <ion-label class=\\\"my-label\\\" color=\\\"dark\\\"> {{'Logout' | translate}} </ion-label>\\r\\n        </ion-item>\\r\\n\\r\\n      </ion-list>\\r\\n    </ion-content>\\r\\n\\r\\n  </ion-menu>\\r\\n\\r\\n  <ion-router-outlet id=\\\"content\\\" main></ion-router-outlet>\\r\\n</ion-split-pane>\";","// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nimport { HttpConnection } from \"./HttpConnection\";\r\nimport { HubConnection } from \"./HubConnection\";\r\nimport { JsonHubProtocol } from \"./JsonHubProtocol\";\r\nimport { NullLogger } from \"./Loggers\";\r\nimport { Arg, ConsoleLogger } from \"./Utils\";\r\n/** A builder for configuring {@link @aspnet/signalr.HubConnection} instances. */\r\nvar HubConnectionBuilder = /** @class */ (function () {\r\n    function HubConnectionBuilder() {\r\n    }\r\n    HubConnectionBuilder.prototype.configureLogging = function (logging) {\r\n        Arg.isRequired(logging, \"logging\");\r\n        if (isLogger(logging)) {\r\n            this.logger = logging;\r\n        }\r\n        else {\r\n            this.logger = new ConsoleLogger(logging);\r\n        }\r\n        return this;\r\n    };\r\n    HubConnectionBuilder.prototype.withUrl = function (url, transportTypeOrOptions) {\r\n        Arg.isRequired(url, \"url\");\r\n        this.url = url;\r\n        // Flow-typing knows where it's at. Since HttpTransportType is a number and IHttpConnectionOptions is guaranteed\r\n        // to be an object, we know (as does TypeScript) this comparison is all we need to figure out which overload was called.\r\n        if (typeof transportTypeOrOptions === \"object\") {\r\n            this.httpConnectionOptions = transportTypeOrOptions;\r\n        }\r\n        else {\r\n            this.httpConnectionOptions = {\r\n                transport: transportTypeOrOptions,\r\n            };\r\n        }\r\n        return this;\r\n    };\r\n    /** Configures the {@link @aspnet/signalr.HubConnection} to use the specified Hub Protocol.\r\n     *\r\n     * @param {IHubProtocol} protocol The {@link @aspnet/signalr.IHubProtocol} implementation to use.\r\n     */\r\n    HubConnectionBuilder.prototype.withHubProtocol = function (protocol) {\r\n        Arg.isRequired(protocol, \"protocol\");\r\n        this.protocol = protocol;\r\n        return this;\r\n    };\r\n    /** Creates a {@link @aspnet/signalr.HubConnection} from the configuration options specified in this builder.\r\n     *\r\n     * @returns {HubConnection} The configured {@link @aspnet/signalr.HubConnection}.\r\n     */\r\n    HubConnectionBuilder.prototype.build = function () {\r\n        // If httpConnectionOptions has a logger, use it. Otherwise, override it with the one\r\n        // provided to configureLogger\r\n        var httpConnectionOptions = this.httpConnectionOptions || {};\r\n        // If it's 'null', the user **explicitly** asked for null, don't mess with it.\r\n        if (httpConnectionOptions.logger === undefined) {\r\n            // If our logger is undefined or null, that's OK, the HttpConnection constructor will handle it.\r\n            httpConnectionOptions.logger = this.logger;\r\n        }\r\n        // Now create the connection\r\n        if (!this.url) {\r\n            throw new Error(\"The 'HubConnectionBuilder.withUrl' method must be called before building the connection.\");\r\n        }\r\n        var connection = new HttpConnection(this.url, httpConnectionOptions);\r\n        return HubConnection.create(connection, this.logger || NullLogger.instance, this.protocol || new JsonHubProtocol());\r\n    };\r\n    return HubConnectionBuilder;\r\n}());\r\nexport { HubConnectionBuilder };\r\nfunction isLogger(logger) {\r\n    return logger.log !== undefined;\r\n}\r\n//# sourceMappingURL=HubConnectionBuilder.js.map","// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { AbortController } from \"./AbortController\";\r\nimport { HttpError, TimeoutError } from \"./Errors\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { TransferFormat } from \"./ITransport\";\r\nimport { Arg, getDataDetail, sendMessage } from \"./Utils\";\r\n// Not exported from 'index', this type is internal.\r\n/** @private */\r\nvar LongPollingTransport = /** @class */ (function () {\r\n    function LongPollingTransport(httpClient, accessTokenFactory, logger, logMessageContent) {\r\n        this.httpClient = httpClient;\r\n        this.accessTokenFactory = accessTokenFactory;\r\n        this.logger = logger;\r\n        this.pollAbort = new AbortController();\r\n        this.logMessageContent = logMessageContent;\r\n        this.running = false;\r\n        this.onreceive = null;\r\n        this.onclose = null;\r\n    }\r\n    Object.defineProperty(LongPollingTransport.prototype, \"pollAborted\", {\r\n        // This is an internal type, not exported from 'index' so this is really just internal.\r\n        get: function () {\r\n            return this.pollAbort.aborted;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    LongPollingTransport.prototype.connect = function (url, transferFormat) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var pollOptions, token, pollUrl, response;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        Arg.isRequired(url, \"url\");\r\n                        Arg.isRequired(transferFormat, \"transferFormat\");\r\n                        Arg.isIn(transferFormat, TransferFormat, \"transferFormat\");\r\n                        this.url = url;\r\n                        this.logger.log(LogLevel.Trace, \"(LongPolling transport) Connecting.\");\r\n                        // Allow binary format on Node and Browsers that support binary content (indicated by the presence of responseType property)\r\n                        if (transferFormat === TransferFormat.Binary &&\r\n                            (typeof XMLHttpRequest !== \"undefined\" && typeof new XMLHttpRequest().responseType !== \"string\")) {\r\n                            throw new Error(\"Binary protocols over XmlHttpRequest not implementing advanced features are not supported.\");\r\n                        }\r\n                        pollOptions = {\r\n                            abortSignal: this.pollAbort.signal,\r\n                            headers: {},\r\n                            timeout: 100000,\r\n                        };\r\n                        if (transferFormat === TransferFormat.Binary) {\r\n                            pollOptions.responseType = \"arraybuffer\";\r\n                        }\r\n                        return [4 /*yield*/, this.getAccessToken()];\r\n                    case 1:\r\n                        token = _a.sent();\r\n                        this.updateHeaderToken(pollOptions, token);\r\n                        pollUrl = url + \"&_=\" + Date.now();\r\n                        this.logger.log(LogLevel.Trace, \"(LongPolling transport) polling: \" + pollUrl + \".\");\r\n                        return [4 /*yield*/, this.httpClient.get(pollUrl, pollOptions)];\r\n                    case 2:\r\n                        response = _a.sent();\r\n                        if (response.statusCode !== 200) {\r\n                            this.logger.log(LogLevel.Error, \"(LongPolling transport) Unexpected response code: \" + response.statusCode + \".\");\r\n                            // Mark running as false so that the poll immediately ends and runs the close logic\r\n                            this.closeError = new HttpError(response.statusText || \"\", response.statusCode);\r\n                            this.running = false;\r\n                        }\r\n                        else {\r\n                            this.running = true;\r\n                        }\r\n                        this.receiving = this.poll(this.url, pollOptions);\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    LongPollingTransport.prototype.getAccessToken = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.accessTokenFactory) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.accessTokenFactory()];\r\n                    case 1: return [2 /*return*/, _a.sent()];\r\n                    case 2: return [2 /*return*/, null];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    LongPollingTransport.prototype.updateHeaderToken = function (request, token) {\r\n        if (!request.headers) {\r\n            request.headers = {};\r\n        }\r\n        if (token) {\r\n            // tslint:disable-next-line:no-string-literal\r\n            request.headers[\"Authorization\"] = \"Bearer \" + token;\r\n            return;\r\n        }\r\n        // tslint:disable-next-line:no-string-literal\r\n        if (request.headers[\"Authorization\"]) {\r\n            // tslint:disable-next-line:no-string-literal\r\n            delete request.headers[\"Authorization\"];\r\n        }\r\n    };\r\n    LongPollingTransport.prototype.poll = function (url, pollOptions) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var token, pollUrl, response, e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, , 8, 9]);\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        if (!this.running) return [3 /*break*/, 7];\r\n                        return [4 /*yield*/, this.getAccessToken()];\r\n                    case 2:\r\n                        token = _a.sent();\r\n                        this.updateHeaderToken(pollOptions, token);\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        _a.trys.push([3, 5, , 6]);\r\n                        pollUrl = url + \"&_=\" + Date.now();\r\n                        this.logger.log(LogLevel.Trace, \"(LongPolling transport) polling: \" + pollUrl + \".\");\r\n                        return [4 /*yield*/, this.httpClient.get(pollUrl, pollOptions)];\r\n                    case 4:\r\n                        response = _a.sent();\r\n                        if (response.statusCode === 204) {\r\n                            this.logger.log(LogLevel.Information, \"(LongPolling transport) Poll terminated by server.\");\r\n                            this.running = false;\r\n                        }\r\n                        else if (response.statusCode !== 200) {\r\n                            this.logger.log(LogLevel.Error, \"(LongPolling transport) Unexpected response code: \" + response.statusCode + \".\");\r\n                            // Unexpected status code\r\n                            this.closeError = new HttpError(response.statusText || \"\", response.statusCode);\r\n                            this.running = false;\r\n                        }\r\n                        else {\r\n                            // Process the response\r\n                            if (response.content) {\r\n                                this.logger.log(LogLevel.Trace, \"(LongPolling transport) data received. \" + getDataDetail(response.content, this.logMessageContent) + \".\");\r\n                                if (this.onreceive) {\r\n                                    this.onreceive(response.content);\r\n                                }\r\n                            }\r\n                            else {\r\n                                // This is another way timeout manifest.\r\n                                this.logger.log(LogLevel.Trace, \"(LongPolling transport) Poll timed out, reissuing.\");\r\n                            }\r\n                        }\r\n                        return [3 /*break*/, 6];\r\n                    case 5:\r\n                        e_1 = _a.sent();\r\n                        if (!this.running) {\r\n                            // Log but disregard errors that occur after stopping\r\n                            this.logger.log(LogLevel.Trace, \"(LongPolling transport) Poll errored after shutdown: \" + e_1.message);\r\n                        }\r\n                        else {\r\n                            if (e_1 instanceof TimeoutError) {\r\n                                // Ignore timeouts and reissue the poll.\r\n                                this.logger.log(LogLevel.Trace, \"(LongPolling transport) Poll timed out, reissuing.\");\r\n                            }\r\n                            else {\r\n                                // Close the connection with the error as the result.\r\n                                this.closeError = e_1;\r\n                                this.running = false;\r\n                            }\r\n                        }\r\n                        return [3 /*break*/, 6];\r\n                    case 6: return [3 /*break*/, 1];\r\n                    case 7: return [3 /*break*/, 9];\r\n                    case 8:\r\n                        this.logger.log(LogLevel.Trace, \"(LongPolling transport) Polling complete.\");\r\n                        // We will reach here with pollAborted==false when the server returned a response causing the transport to stop.\r\n                        // If pollAborted==true then client initiated the stop and the stop method will raise the close event after DELETE is sent.\r\n                        if (!this.pollAborted) {\r\n                            this.raiseOnClose();\r\n                        }\r\n                        return [7 /*endfinally*/];\r\n                    case 9: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    LongPollingTransport.prototype.send = function (data) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                if (!this.running) {\r\n                    return [2 /*return*/, Promise.reject(new Error(\"Cannot send until the transport is connected\"))];\r\n                }\r\n                return [2 /*return*/, sendMessage(this.logger, \"LongPolling\", this.httpClient, this.url, this.accessTokenFactory, data, this.logMessageContent)];\r\n            });\r\n        });\r\n    };\r\n    LongPollingTransport.prototype.stop = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var deleteOptions, token;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.log(LogLevel.Trace, \"(LongPolling transport) Stopping polling.\");\r\n                        // Tell receiving loop to stop, abort any current request, and then wait for it to finish\r\n                        this.running = false;\r\n                        this.pollAbort.abort();\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, , 5, 6]);\r\n                        return [4 /*yield*/, this.receiving];\r\n                    case 2:\r\n                        _a.sent();\r\n                        // Send DELETE to clean up long polling on the server\r\n                        this.logger.log(LogLevel.Trace, \"(LongPolling transport) sending DELETE request to \" + this.url + \".\");\r\n                        deleteOptions = {\r\n                            headers: {},\r\n                        };\r\n                        return [4 /*yield*/, this.getAccessToken()];\r\n                    case 3:\r\n                        token = _a.sent();\r\n                        this.updateHeaderToken(deleteOptions, token);\r\n                        return [4 /*yield*/, this.httpClient.delete(this.url, deleteOptions)];\r\n                    case 4:\r\n                        _a.sent();\r\n                        this.logger.log(LogLevel.Trace, \"(LongPolling transport) DELETE request sent.\");\r\n                        return [3 /*break*/, 6];\r\n                    case 5:\r\n                        this.logger.log(LogLevel.Trace, \"(LongPolling transport) Stop finished.\");\r\n                        // Raise close event here instead of in polling\r\n                        // It needs to happen after the DELETE request is sent\r\n                        this.raiseOnClose();\r\n                        return [7 /*endfinally*/];\r\n                    case 6: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    LongPollingTransport.prototype.raiseOnClose = function () {\r\n        if (this.onclose) {\r\n            var logMessage = \"(LongPolling transport) Firing onclose event.\";\r\n            if (this.closeError) {\r\n                logMessage += \" Error: \" + this.closeError;\r\n            }\r\n            this.logger.log(LogLevel.Trace, logMessage);\r\n            this.onclose(this.closeError);\r\n        }\r\n    };\r\n    return LongPollingTransport;\r\n}());\r\nexport { LongPollingTransport };\r\n//# sourceMappingURL=LongPollingTransport.js.map","// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\n// This will be treated as a bit flag in the future, so we keep it using power-of-two values.\r\n/** Specifies a specific HTTP transport type. */\r\nexport var HttpTransportType;\r\n(function (HttpTransportType) {\r\n    /** Specifies no transport preference. */\r\n    HttpTransportType[HttpTransportType[\"None\"] = 0] = \"None\";\r\n    /** Specifies the WebSockets transport. */\r\n    HttpTransportType[HttpTransportType[\"WebSockets\"] = 1] = \"WebSockets\";\r\n    /** Specifies the Server-Sent Events transport. */\r\n    HttpTransportType[HttpTransportType[\"ServerSentEvents\"] = 2] = \"ServerSentEvents\";\r\n    /** Specifies the Long Polling transport. */\r\n    HttpTransportType[HttpTransportType[\"LongPolling\"] = 4] = \"LongPolling\";\r\n})(HttpTransportType || (HttpTransportType = {}));\r\n/** Specifies the transfer format for a connection. */\r\nexport var TransferFormat;\r\n(function (TransferFormat) {\r\n    /** Specifies that only text data will be transmitted over the connection. */\r\n    TransferFormat[TransferFormat[\"Text\"] = 1] = \"Text\";\r\n    /** Specifies that binary data will be transmitted over the connection. */\r\n    TransferFormat[TransferFormat[\"Binary\"] = 2] = \"Binary\";\r\n})(TransferFormat || (TransferFormat = {}));\r\n//# sourceMappingURL=ITransport.js.map","// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { AbortError, HttpError, TimeoutError } from \"./Errors\";\r\nimport { HttpClient, HttpResponse } from \"./HttpClient\";\r\nimport { LogLevel } from \"./ILogger\";\r\nvar XhrHttpClient = /** @class */ (function (_super) {\r\n    __extends(XhrHttpClient, _super);\r\n    function XhrHttpClient(logger) {\r\n        var _this = _super.call(this) || this;\r\n        _this.logger = logger;\r\n        return _this;\r\n    }\r\n    /** @inheritDoc */\r\n    XhrHttpClient.prototype.send = function (request) {\r\n        var _this = this;\r\n        // Check that abort was not signaled before calling send\r\n        if (request.abortSignal && request.abortSignal.aborted) {\r\n            return Promise.reject(new AbortError());\r\n        }\r\n        if (!request.method) {\r\n            return Promise.reject(new Error(\"No method defined.\"));\r\n        }\r\n        if (!request.url) {\r\n            return Promise.reject(new Error(\"No url defined.\"));\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            var xhr = new XMLHttpRequest();\r\n            xhr.open(request.method, request.url, true);\r\n            xhr.withCredentials = true;\r\n            xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\r\n            // Explicitly setting the Content-Type header for React Native on Android platform.\r\n            xhr.setRequestHeader(\"Content-Type\", \"text/plain;charset=UTF-8\");\r\n            var headers = request.headers;\r\n            if (headers) {\r\n                Object.keys(headers)\r\n                    .forEach(function (header) {\r\n                    xhr.setRequestHeader(header, headers[header]);\r\n                });\r\n            }\r\n            if (request.responseType) {\r\n                xhr.responseType = request.responseType;\r\n            }\r\n            if (request.abortSignal) {\r\n                request.abortSignal.onabort = function () {\r\n                    xhr.abort();\r\n                    reject(new AbortError());\r\n                };\r\n            }\r\n            if (request.timeout) {\r\n                xhr.timeout = request.timeout;\r\n            }\r\n            xhr.onload = function () {\r\n                if (request.abortSignal) {\r\n                    request.abortSignal.onabort = null;\r\n                }\r\n                if (xhr.status >= 200 && xhr.status < 300) {\r\n                    resolve(new HttpResponse(xhr.status, xhr.statusText, xhr.response || xhr.responseText));\r\n                }\r\n                else {\r\n                    reject(new HttpError(xhr.statusText, xhr.status));\r\n                }\r\n            };\r\n            xhr.onerror = function () {\r\n                _this.logger.log(LogLevel.Warning, \"Error from HTTP request. \" + xhr.status + \": \" + xhr.statusText + \".\");\r\n                reject(new HttpError(xhr.statusText, xhr.status));\r\n            };\r\n            xhr.ontimeout = function () {\r\n                _this.logger.log(LogLevel.Warning, \"Timeout from HTTP request.\");\r\n                reject(new TimeoutError());\r\n            };\r\n            xhr.send(request.content || \"\");\r\n        });\r\n    };\r\n    return XhrHttpClient;\r\n}(HttpClient));\r\nexport { XhrHttpClient };\r\n//# sourceMappingURL=XhrHttpClient.js.map","// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { HandshakeProtocol } from \"./HandshakeProtocol\";\r\nimport { MessageType } from \"./IHubProtocol\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { Arg, Subject } from \"./Utils\";\r\nvar DEFAULT_TIMEOUT_IN_MS = 30 * 1000;\r\nvar DEFAULT_PING_INTERVAL_IN_MS = 15 * 1000;\r\n/** Describes the current state of the {@link HubConnection} to the server. */\r\nexport var HubConnectionState;\r\n(function (HubConnectionState) {\r\n    /** The hub connection is disconnected. */\r\n    HubConnectionState[HubConnectionState[\"Disconnected\"] = 0] = \"Disconnected\";\r\n    /** The hub connection is connected. */\r\n    HubConnectionState[HubConnectionState[\"Connected\"] = 1] = \"Connected\";\r\n})(HubConnectionState || (HubConnectionState = {}));\r\n/** Represents a connection to a SignalR Hub. */\r\nvar HubConnection = /** @class */ (function () {\r\n    function HubConnection(connection, logger, protocol) {\r\n        var _this = this;\r\n        Arg.isRequired(connection, \"connection\");\r\n        Arg.isRequired(logger, \"logger\");\r\n        Arg.isRequired(protocol, \"protocol\");\r\n        this.serverTimeoutInMilliseconds = DEFAULT_TIMEOUT_IN_MS;\r\n        this.keepAliveIntervalInMilliseconds = DEFAULT_PING_INTERVAL_IN_MS;\r\n        this.logger = logger;\r\n        this.protocol = protocol;\r\n        this.connection = connection;\r\n        this.handshakeProtocol = new HandshakeProtocol();\r\n        this.connection.onreceive = function (data) { return _this.processIncomingData(data); };\r\n        this.connection.onclose = function (error) { return _this.connectionClosed(error); };\r\n        this.callbacks = {};\r\n        this.methods = {};\r\n        this.closedCallbacks = [];\r\n        this.id = 0;\r\n        this.receivedHandshakeResponse = false;\r\n        this.connectionState = HubConnectionState.Disconnected;\r\n        this.cachedPingMessage = this.protocol.writeMessage({ type: MessageType.Ping });\r\n    }\r\n    /** @internal */\r\n    // Using a public static factory method means we can have a private constructor and an _internal_\r\n    // create method that can be used by HubConnectionBuilder. An \"internal\" constructor would just\r\n    // be stripped away and the '.d.ts' file would have no constructor, which is interpreted as a\r\n    // public parameter-less constructor.\r\n    HubConnection.create = function (connection, logger, protocol) {\r\n        return new HubConnection(connection, logger, protocol);\r\n    };\r\n    Object.defineProperty(HubConnection.prototype, \"state\", {\r\n        /** Indicates the state of the {@link HubConnection} to the server. */\r\n        get: function () {\r\n            return this.connectionState;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /** Starts the connection.\r\n     *\r\n     * @returns {Promise<void>} A Promise that resolves when the connection has been successfully established, or rejects with an error.\r\n     */\r\n    HubConnection.prototype.start = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var handshakeRequest, handshakePromise;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        handshakeRequest = {\r\n                            protocol: this.protocol.name,\r\n                            version: this.protocol.version,\r\n                        };\r\n                        this.logger.log(LogLevel.Debug, \"Starting HubConnection.\");\r\n                        this.receivedHandshakeResponse = false;\r\n                        handshakePromise = new Promise(function (resolve, reject) {\r\n                            _this.handshakeResolver = resolve;\r\n                            _this.handshakeRejecter = reject;\r\n                        });\r\n                        return [4 /*yield*/, this.connection.start(this.protocol.transferFormat)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.logger.log(LogLevel.Debug, \"Sending handshake request.\");\r\n                        return [4 /*yield*/, this.sendMessage(this.handshakeProtocol.writeHandshakeRequest(handshakeRequest))];\r\n                    case 2:\r\n                        _a.sent();\r\n                        this.logger.log(LogLevel.Information, \"Using HubProtocol '\" + this.protocol.name + \"'.\");\r\n                        // defensively cleanup timeout in case we receive a message from the server before we finish start\r\n                        this.cleanupTimeout();\r\n                        this.resetTimeoutPeriod();\r\n                        this.resetKeepAliveInterval();\r\n                        // Wait for the handshake to complete before marking connection as connected\r\n                        return [4 /*yield*/, handshakePromise];\r\n                    case 3:\r\n                        // Wait for the handshake to complete before marking connection as connected\r\n                        _a.sent();\r\n                        this.connectionState = HubConnectionState.Connected;\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /** Stops the connection.\r\n     *\r\n     * @returns {Promise<void>} A Promise that resolves when the connection has been successfully terminated, or rejects with an error.\r\n     */\r\n    HubConnection.prototype.stop = function () {\r\n        this.logger.log(LogLevel.Debug, \"Stopping HubConnection.\");\r\n        this.cleanupTimeout();\r\n        this.cleanupPingTimer();\r\n        return this.connection.stop();\r\n    };\r\n    /** Invokes a streaming hub method on the server using the specified name and arguments.\r\n     *\r\n     * @typeparam T The type of the items returned by the server.\r\n     * @param {string} methodName The name of the server method to invoke.\r\n     * @param {any[]} args The arguments used to invoke the server method.\r\n     * @returns {IStreamResult<T>} An object that yields results from the server as they are received.\r\n     */\r\n    HubConnection.prototype.stream = function (methodName) {\r\n        var _this = this;\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        var invocationDescriptor = this.createStreamInvocation(methodName, args);\r\n        var promiseQueue;\r\n        var subject = new Subject();\r\n        subject.cancelCallback = function () {\r\n            var cancelInvocation = _this.createCancelInvocation(invocationDescriptor.invocationId);\r\n            var cancelMessage = _this.protocol.writeMessage(cancelInvocation);\r\n            delete _this.callbacks[invocationDescriptor.invocationId];\r\n            return promiseQueue.then(function () {\r\n                return _this.sendMessage(cancelMessage);\r\n            });\r\n        };\r\n        this.callbacks[invocationDescriptor.invocationId] = function (invocationEvent, error) {\r\n            if (error) {\r\n                subject.error(error);\r\n                return;\r\n            }\r\n            else if (invocationEvent) {\r\n                // invocationEvent will not be null when an error is not passed to the callback\r\n                if (invocationEvent.type === MessageType.Completion) {\r\n                    if (invocationEvent.error) {\r\n                        subject.error(new Error(invocationEvent.error));\r\n                    }\r\n                    else {\r\n                        subject.complete();\r\n                    }\r\n                }\r\n                else {\r\n                    subject.next((invocationEvent.item));\r\n                }\r\n            }\r\n        };\r\n        var message = this.protocol.writeMessage(invocationDescriptor);\r\n        promiseQueue = this.sendMessage(message)\r\n            .catch(function (e) {\r\n            subject.error(e);\r\n            delete _this.callbacks[invocationDescriptor.invocationId];\r\n        });\r\n        return subject;\r\n    };\r\n    HubConnection.prototype.sendMessage = function (message) {\r\n        this.resetKeepAliveInterval();\r\n        return this.connection.send(message);\r\n    };\r\n    /** Invokes a hub method on the server using the specified name and arguments. Does not wait for a response from the receiver.\r\n     *\r\n     * The Promise returned by this method resolves when the client has sent the invocation to the server. The server may still\r\n     * be processing the invocation.\r\n     *\r\n     * @param {string} methodName The name of the server method to invoke.\r\n     * @param {any[]} args The arguments used to invoke the server method.\r\n     * @returns {Promise<void>} A Promise that resolves when the invocation has been successfully sent, or rejects with an error.\r\n     */\r\n    HubConnection.prototype.send = function (methodName) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        var invocationDescriptor = this.createInvocation(methodName, args, true);\r\n        var message = this.protocol.writeMessage(invocationDescriptor);\r\n        return this.sendMessage(message);\r\n    };\r\n    /** Invokes a hub method on the server using the specified name and arguments.\r\n     *\r\n     * The Promise returned by this method resolves when the server indicates it has finished invoking the method. When the promise\r\n     * resolves, the server has finished invoking the method. If the server method returns a result, it is produced as the result of\r\n     * resolving the Promise.\r\n     *\r\n     * @typeparam T The expected return type.\r\n     * @param {string} methodName The name of the server method to invoke.\r\n     * @param {any[]} args The arguments used to invoke the server method.\r\n     * @returns {Promise<T>} A Promise that resolves with the result of the server method (if any), or rejects with an error.\r\n     */\r\n    HubConnection.prototype.invoke = function (methodName) {\r\n        var _this = this;\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        var invocationDescriptor = this.createInvocation(methodName, args, false);\r\n        var p = new Promise(function (resolve, reject) {\r\n            // invocationId will always have a value for a non-blocking invocation\r\n            _this.callbacks[invocationDescriptor.invocationId] = function (invocationEvent, error) {\r\n                if (error) {\r\n                    reject(error);\r\n                    return;\r\n                }\r\n                else if (invocationEvent) {\r\n                    // invocationEvent will not be null when an error is not passed to the callback\r\n                    if (invocationEvent.type === MessageType.Completion) {\r\n                        if (invocationEvent.error) {\r\n                            reject(new Error(invocationEvent.error));\r\n                        }\r\n                        else {\r\n                            resolve(invocationEvent.result);\r\n                        }\r\n                    }\r\n                    else {\r\n                        reject(new Error(\"Unexpected message type: \" + invocationEvent.type));\r\n                    }\r\n                }\r\n            };\r\n            var message = _this.protocol.writeMessage(invocationDescriptor);\r\n            _this.sendMessage(message)\r\n                .catch(function (e) {\r\n                reject(e);\r\n                // invocationId will always have a value for a non-blocking invocation\r\n                delete _this.callbacks[invocationDescriptor.invocationId];\r\n            });\r\n        });\r\n        return p;\r\n    };\r\n    /** Registers a handler that will be invoked when the hub method with the specified method name is invoked.\r\n     *\r\n     * @param {string} methodName The name of the hub method to define.\r\n     * @param {Function} newMethod The handler that will be raised when the hub method is invoked.\r\n     */\r\n    HubConnection.prototype.on = function (methodName, newMethod) {\r\n        if (!methodName || !newMethod) {\r\n            return;\r\n        }\r\n        methodName = methodName.toLowerCase();\r\n        if (!this.methods[methodName]) {\r\n            this.methods[methodName] = [];\r\n        }\r\n        // Preventing adding the same handler multiple times.\r\n        if (this.methods[methodName].indexOf(newMethod) !== -1) {\r\n            return;\r\n        }\r\n        this.methods[methodName].push(newMethod);\r\n    };\r\n    HubConnection.prototype.off = function (methodName, method) {\r\n        if (!methodName) {\r\n            return;\r\n        }\r\n        methodName = methodName.toLowerCase();\r\n        var handlers = this.methods[methodName];\r\n        if (!handlers) {\r\n            return;\r\n        }\r\n        if (method) {\r\n            var removeIdx = handlers.indexOf(method);\r\n            if (removeIdx !== -1) {\r\n                handlers.splice(removeIdx, 1);\r\n                if (handlers.length === 0) {\r\n                    delete this.methods[methodName];\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            delete this.methods[methodName];\r\n        }\r\n    };\r\n    /** Registers a handler that will be invoked when the connection is closed.\r\n     *\r\n     * @param {Function} callback The handler that will be invoked when the connection is closed. Optionally receives a single argument containing the error that caused the connection to close (if any).\r\n     */\r\n    HubConnection.prototype.onclose = function (callback) {\r\n        if (callback) {\r\n            this.closedCallbacks.push(callback);\r\n        }\r\n    };\r\n    HubConnection.prototype.processIncomingData = function (data) {\r\n        this.cleanupTimeout();\r\n        if (!this.receivedHandshakeResponse) {\r\n            data = this.processHandshakeResponse(data);\r\n            this.receivedHandshakeResponse = true;\r\n        }\r\n        // Data may have all been read when processing handshake response\r\n        if (data) {\r\n            // Parse the messages\r\n            var messages = this.protocol.parseMessages(data, this.logger);\r\n            for (var _i = 0, messages_1 = messages; _i < messages_1.length; _i++) {\r\n                var message = messages_1[_i];\r\n                switch (message.type) {\r\n                    case MessageType.Invocation:\r\n                        this.invokeClientMethod(message);\r\n                        break;\r\n                    case MessageType.StreamItem:\r\n                    case MessageType.Completion:\r\n                        var callback = this.callbacks[message.invocationId];\r\n                        if (callback != null) {\r\n                            if (message.type === MessageType.Completion) {\r\n                                delete this.callbacks[message.invocationId];\r\n                            }\r\n                            callback(message);\r\n                        }\r\n                        break;\r\n                    case MessageType.Ping:\r\n                        // Don't care about pings\r\n                        break;\r\n                    case MessageType.Close:\r\n                        this.logger.log(LogLevel.Information, \"Close message received from server.\");\r\n                        // We don't want to wait on the stop itself.\r\n                        // tslint:disable-next-line:no-floating-promises\r\n                        this.connection.stop(message.error ? new Error(\"Server returned an error on close: \" + message.error) : undefined);\r\n                        break;\r\n                    default:\r\n                        this.logger.log(LogLevel.Warning, \"Invalid message type: \" + message.type + \".\");\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        this.resetTimeoutPeriod();\r\n    };\r\n    HubConnection.prototype.processHandshakeResponse = function (data) {\r\n        var _a;\r\n        var responseMessage;\r\n        var remainingData;\r\n        try {\r\n            _a = this.handshakeProtocol.parseHandshakeResponse(data), remainingData = _a[0], responseMessage = _a[1];\r\n        }\r\n        catch (e) {\r\n            var message = \"Error parsing handshake response: \" + e;\r\n            this.logger.log(LogLevel.Error, message);\r\n            var error = new Error(message);\r\n            // We don't want to wait on the stop itself.\r\n            // tslint:disable-next-line:no-floating-promises\r\n            this.connection.stop(error);\r\n            this.handshakeRejecter(error);\r\n            throw error;\r\n        }\r\n        if (responseMessage.error) {\r\n            var message = \"Server returned handshake error: \" + responseMessage.error;\r\n            this.logger.log(LogLevel.Error, message);\r\n            this.handshakeRejecter(message);\r\n            // We don't want to wait on the stop itself.\r\n            // tslint:disable-next-line:no-floating-promises\r\n            this.connection.stop(new Error(message));\r\n            throw new Error(message);\r\n        }\r\n        else {\r\n            this.logger.log(LogLevel.Debug, \"Server handshake complete.\");\r\n        }\r\n        this.handshakeResolver();\r\n        return remainingData;\r\n    };\r\n    HubConnection.prototype.resetKeepAliveInterval = function () {\r\n        var _this = this;\r\n        this.cleanupPingTimer();\r\n        this.pingServerHandle = setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        if (!(this.connectionState === HubConnectionState.Connected)) return [3 /*break*/, 4];\r\n                        _b.label = 1;\r\n                    case 1:\r\n                        _b.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, this.sendMessage(this.cachedPingMessage)];\r\n                    case 2:\r\n                        _b.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        _a = _b.sent();\r\n                        // We don't care about the error. It should be seen elsewhere in the client.\r\n                        // The connection is probably in a bad or closed state now, cleanup the timer so it stops triggering\r\n                        this.cleanupPingTimer();\r\n                        return [3 /*break*/, 4];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); }, this.keepAliveIntervalInMilliseconds);\r\n    };\r\n    HubConnection.prototype.resetTimeoutPeriod = function () {\r\n        var _this = this;\r\n        if (!this.connection.features || !this.connection.features.inherentKeepAlive) {\r\n            // Set the timeout timer\r\n            this.timeoutHandle = setTimeout(function () { return _this.serverTimeout(); }, this.serverTimeoutInMilliseconds);\r\n        }\r\n    };\r\n    HubConnection.prototype.serverTimeout = function () {\r\n        // The server hasn't talked to us in a while. It doesn't like us anymore ... :(\r\n        // Terminate the connection, but we don't need to wait on the promise.\r\n        // tslint:disable-next-line:no-floating-promises\r\n        this.connection.stop(new Error(\"Server timeout elapsed without receiving a message from the server.\"));\r\n    };\r\n    HubConnection.prototype.invokeClientMethod = function (invocationMessage) {\r\n        var _this = this;\r\n        var methods = this.methods[invocationMessage.target.toLowerCase()];\r\n        if (methods) {\r\n            methods.forEach(function (m) { return m.apply(_this, invocationMessage.arguments); });\r\n            if (invocationMessage.invocationId) {\r\n                // This is not supported in v1. So we return an error to avoid blocking the server waiting for the response.\r\n                var message = \"Server requested a response, which is not supported in this version of the client.\";\r\n                this.logger.log(LogLevel.Error, message);\r\n                // We don't need to wait on this Promise.\r\n                // tslint:disable-next-line:no-floating-promises\r\n                this.connection.stop(new Error(message));\r\n            }\r\n        }\r\n        else {\r\n            this.logger.log(LogLevel.Warning, \"No client method with the name '\" + invocationMessage.target + \"' found.\");\r\n        }\r\n    };\r\n    HubConnection.prototype.connectionClosed = function (error) {\r\n        var _this = this;\r\n        var callbacks = this.callbacks;\r\n        this.callbacks = {};\r\n        this.connectionState = HubConnectionState.Disconnected;\r\n        // if handshake is in progress start will be waiting for the handshake promise, so we complete it\r\n        // if it has already completed this should just noop\r\n        if (this.handshakeRejecter) {\r\n            this.handshakeRejecter(error);\r\n        }\r\n        Object.keys(callbacks)\r\n            .forEach(function (key) {\r\n            var callback = callbacks[key];\r\n            callback(null, error ? error : new Error(\"Invocation canceled due to connection being closed.\"));\r\n        });\r\n        this.cleanupTimeout();\r\n        this.cleanupPingTimer();\r\n        this.closedCallbacks.forEach(function (c) { return c.apply(_this, [error]); });\r\n    };\r\n    HubConnection.prototype.cleanupPingTimer = function () {\r\n        if (this.pingServerHandle) {\r\n            clearTimeout(this.pingServerHandle);\r\n        }\r\n    };\r\n    HubConnection.prototype.cleanupTimeout = function () {\r\n        if (this.timeoutHandle) {\r\n            clearTimeout(this.timeoutHandle);\r\n        }\r\n    };\r\n    HubConnection.prototype.createInvocation = function (methodName, args, nonblocking) {\r\n        if (nonblocking) {\r\n            return {\r\n                arguments: args,\r\n                target: methodName,\r\n                type: MessageType.Invocation,\r\n            };\r\n        }\r\n        else {\r\n            var id = this.id;\r\n            this.id++;\r\n            return {\r\n                arguments: args,\r\n                invocationId: id.toString(),\r\n                target: methodName,\r\n                type: MessageType.Invocation,\r\n            };\r\n        }\r\n    };\r\n    HubConnection.prototype.createStreamInvocation = function (methodName, args) {\r\n        var id = this.id;\r\n        this.id++;\r\n        return {\r\n            arguments: args,\r\n            invocationId: id.toString(),\r\n            target: methodName,\r\n            type: MessageType.StreamInvocation,\r\n        };\r\n    };\r\n    HubConnection.prototype.createCancelInvocation = function (id) {\r\n        return {\r\n            invocationId: id,\r\n            type: MessageType.CancelInvocation,\r\n        };\r\n    };\r\n    return HubConnection;\r\n}());\r\nexport { HubConnection };\r\n//# sourceMappingURL=HubConnection.js.map","// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { AbortError } from \"./Errors\";\r\nimport { HttpClient } from \"./HttpClient\";\r\nimport { NodeHttpClient } from \"./NodeHttpClient\";\r\nimport { XhrHttpClient } from \"./XhrHttpClient\";\r\n/** Default implementation of {@link @aspnet/signalr.HttpClient}. */\r\nvar DefaultHttpClient = /** @class */ (function (_super) {\r\n    __extends(DefaultHttpClient, _super);\r\n    /** Creates a new instance of the {@link @aspnet/signalr.DefaultHttpClient}, using the provided {@link @aspnet/signalr.ILogger} to log messages. */\r\n    function DefaultHttpClient(logger) {\r\n        var _this = _super.call(this) || this;\r\n        if (typeof XMLHttpRequest !== \"undefined\") {\r\n            _this.httpClient = new XhrHttpClient(logger);\r\n        }\r\n        else {\r\n            _this.httpClient = new NodeHttpClient(logger);\r\n        }\r\n        return _this;\r\n    }\r\n    /** @inheritDoc */\r\n    DefaultHttpClient.prototype.send = function (request) {\r\n        // Check that abort was not signaled before calling send\r\n        if (request.abortSignal && request.abortSignal.aborted) {\r\n            return Promise.reject(new AbortError());\r\n        }\r\n        if (!request.method) {\r\n            return Promise.reject(new Error(\"No method defined.\"));\r\n        }\r\n        if (!request.url) {\r\n            return Promise.reject(new Error(\"No url defined.\"));\r\n        }\r\n        return this.httpClient.send(request);\r\n    };\r\n    DefaultHttpClient.prototype.getCookieString = function (url) {\r\n        return this.httpClient.getCookieString(url);\r\n    };\r\n    return DefaultHttpClient;\r\n}(HttpClient));\r\nexport { DefaultHttpClient };\r\n//# sourceMappingURL=DefaultHttpClient.js.map","// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\n/** A logger that does nothing when log messages are sent to it. */\r\nvar NullLogger = /** @class */ (function () {\r\n    function NullLogger() {\r\n    }\r\n    /** @inheritDoc */\r\n    // tslint:disable-next-line\r\n    NullLogger.prototype.log = function (_logLevel, _message) {\r\n    };\r\n    /** The singleton instance of the {@link @aspnet/signalr.NullLogger}. */\r\n    NullLogger.instance = new NullLogger();\r\n    return NullLogger;\r\n}());\r\nexport { NullLogger };\r\n//# sourceMappingURL=Loggers.js.map","// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\n// These values are designed to match the ASP.NET Log Levels since that's the pattern we're emulating here.\r\n/** Indicates the severity of a log message.\r\n *\r\n * Log Levels are ordered in increasing severity. So `Debug` is more severe than `Trace`, etc.\r\n */\r\nexport var LogLevel;\r\n(function (LogLevel) {\r\n    /** Log level for very low severity diagnostic messages. */\r\n    LogLevel[LogLevel[\"Trace\"] = 0] = \"Trace\";\r\n    /** Log level for low severity diagnostic messages. */\r\n    LogLevel[LogLevel[\"Debug\"] = 1] = \"Debug\";\r\n    /** Log level for informational diagnostic messages. */\r\n    LogLevel[LogLevel[\"Information\"] = 2] = \"Information\";\r\n    /** Log level for diagnostic messages that indicate a non-fatal problem. */\r\n    LogLevel[LogLevel[\"Warning\"] = 3] = \"Warning\";\r\n    /** Log level for diagnostic messages that indicate a failure in the current operation. */\r\n    LogLevel[LogLevel[\"Error\"] = 4] = \"Error\";\r\n    /** Log level for diagnostic messages that indicate a failure that will terminate the entire application. */\r\n    LogLevel[LogLevel[\"Critical\"] = 5] = \"Critical\";\r\n    /** The highest possible log level. Used when configuring logging to indicate that no log messages should be emitted. */\r\n    LogLevel[LogLevel[\"None\"] = 6] = \"None\";\r\n})(LogLevel || (LogLevel = {}));\r\n//# sourceMappingURL=ILogger.js.map","import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Driver, Order, User } from 'src/_models';\r\nimport { Car } from 'src/_models/car';\r\nimport { SharedService } from '../shared/shared.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DriverService {\r\n  public user: User;\r\n  public driver: Driver;\r\n  public drivers = [];\r\n  public applicationUserId: string;\r\n  public categoryType: string;\r\n  public categoryCloseCount: number;\r\n  constructor(private http: HttpClient, private sharedService: SharedService) { }\r\n\r\n\r\n  public getDriverHistory(userId: string): Observable<Order[]> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Order[]>(`${environment.apiUrl}/api/order/history/${userId}`, {headers})\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  public getLastCompletedOrder(userId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Order>(`${environment.apiUrl}/api/order/completed/${userId}`, {headers})\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  public getDriver(driverId: string): Observable<Driver> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Driver>(`${environment.apiUrl}/api/driver/${driverId}`, {headers})\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  public createDriver(data) {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.post(`${environment.apiUrl}/api/driver`, data, { headers, responseType: 'text' })\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  public getDriverCars(driverId: string): Observable<Car[]> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Car[]>(`${environment.apiUrl}/api/car/driver/${driverId}`, {headers})\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  public getDriverActiveCar(driverId: string): Observable<Car> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Car>(`${environment.apiUrl}/api/car/driver/active/${driverId}`, {headers})\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  public getDriverByReferral(referral: string): Observable<Driver> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Driver>(`${environment.apiUrl}/api/driver/referral/${referral}`, {headers})\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  public locateDriver(driverId: string, lat: string, lng: string): Observable<Driver>{\r\n    return this.http.put<Driver>(`${environment.apiUrl}/api/driver/location/${driverId}/${lat}/${lng}`, {responseType: 'json' },)\r\n    .pipe(\r\n      catchError(this.handleError)\r\n    );\r\n  }\r\n\r\n  public voteUp(driverId: string): Observable<Driver>{\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.put<Driver>(`${environment.apiUrl}/api/driver/voteUp/${driverId}`, { headers, responseType: 'json' },)\r\n    .pipe(\r\n      catchError(this.handleError)\r\n    );\r\n  }\r\n\r\n  public voteDown(driverId: string): Observable<Driver>{\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.put<Driver>(`${environment.apiUrl}/api/driver/voteDown/${driverId}`, { headers, responseType: 'json' },)\r\n    .pipe(\r\n      catchError(this.handleError)\r\n    );\r\n  }\r\n\r\n  public lowerDriverCommission(driverId: string): Observable<Driver>{\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.put<Driver>(`${environment.apiUrl}/api/driver/${driverId}`, { headers, responseType: 'json' },)\r\n    .pipe(\r\n      catchError(this.handleError)\r\n    );\r\n  }\r\n\r\n  public activeCar(id: string, driverId: string): Observable<Car> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.put<Car>(`${environment.apiUrl}/api/car/${id}/${driverId}`, { headers, responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n  \r\n\r\n  public createCar(data) {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.post(`${environment.apiUrl}/api/car`, data, { headers, responseType: 'text' })\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  public deleteCar(id: string): Observable<Car> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.delete<Car>(`${environment.apiUrl}/api/car/${id}`, {headers})\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  public  cancelOrderFromDriver(orderId: string): Observable<Car> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.put<Car>(`${environment.apiUrl}/api/order/waiting/${orderId}`, { headers, responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  handleError(error) {\r\n    let errorMessage = '';\r\n    if (error.error instanceof ErrorEvent) {\r\n      // client-side error\r\n      console.log('Client side error.')\r\n      errorMessage = `Error: ${error.error.message}`;\r\n    } else {\r\n      // server-side error\r\n      console.log('Server side error.')\r\n      errorMessage = `Error Code: ${error.status}\\nMessage: ${error.message}`;\r\n    }\r\n    console.log(errorMessage);\r\n    return throwError(errorMessage);\r\n  }\r\n}\r\n","// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\n// Rough polyfill of https://developer.mozilla.org/en-US/docs/Web/API/AbortController\r\n// We don't actually ever use the API being polyfilled, we always use the polyfill because\r\n// it's a very new API right now.\r\n// Not exported from index.\r\n/** @private */\r\nvar AbortController = /** @class */ (function () {\r\n    function AbortController() {\r\n        this.isAborted = false;\r\n        this.onabort = null;\r\n    }\r\n    AbortController.prototype.abort = function () {\r\n        if (!this.isAborted) {\r\n            this.isAborted = true;\r\n            if (this.onabort) {\r\n                this.onabort();\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(AbortController.prototype, \"signal\", {\r\n        get: function () {\r\n            return this;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbortController.prototype, \"aborted\", {\r\n        get: function () {\r\n            return this.isAborted;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return AbortController;\r\n}());\r\nexport { AbortController };\r\n//# sourceMappingURL=AbortController.js.map","// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\n/** Represents an HTTP response. */\r\nvar HttpResponse = /** @class */ (function () {\r\n    function HttpResponse(statusCode, statusText, content) {\r\n        this.statusCode = statusCode;\r\n        this.statusText = statusText;\r\n        this.content = content;\r\n    }\r\n    return HttpResponse;\r\n}());\r\nexport { HttpResponse };\r\n/** Abstraction over an HTTP client.\r\n *\r\n * This class provides an abstraction over an HTTP client so that a different implementation can be provided on different platforms.\r\n */\r\nvar HttpClient = /** @class */ (function () {\r\n    function HttpClient() {\r\n    }\r\n    HttpClient.prototype.get = function (url, options) {\r\n        return this.send(__assign({}, options, { method: \"GET\", url: url }));\r\n    };\r\n    HttpClient.prototype.post = function (url, options) {\r\n        return this.send(__assign({}, options, { method: \"POST\", url: url }));\r\n    };\r\n    HttpClient.prototype.delete = function (url, options) {\r\n        return this.send(__assign({}, options, { method: \"DELETE\", url: url }));\r\n    };\r\n    /** Gets all cookies that apply to the specified URL.\r\n     *\r\n     * @param url The URL that the cookies are valid for.\r\n     * @returns {string} A string containing all the key-value cookie pairs for the specified URL.\r\n     */\r\n    // @ts-ignore\r\n    HttpClient.prototype.getCookieString = function (url) {\r\n        return \"\";\r\n    };\r\n    return HttpClient;\r\n}());\r\nexport { HttpClient };\r\n//# sourceMappingURL=HttpClient.js.map","export default \".active-item {\\n  border-left: 8px solid var(--ion-color-primary);\\n}\\n\\nion-toolbar {\\n  --ion-background-color:#eeeeee;\\n}\\n\\nion-menu {\\n  --ion-background-color:#e9e9e9;\\n}\\n\\nion-content ion-toolbar {\\n  margin: 10px 0;\\n}\\n\\n#toolbarIcon {\\n  font-size: 1.7em;\\n}\\n\\nion-title {\\n  text-align: center;\\n}\\n\\n.my-label {\\n  font-family: Open Sans Light;\\n  font-size: 1.2em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXG1lbnUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksK0NBQUE7QUFDSjs7QUFFQTtFQUNJLDhCQUFBO0FBQ0o7O0FBRUE7RUFFSSw4QkFBQTtBQUFKOztBQUlBO0VBQ0ksY0FBQTtBQURKOztBQUdFO0VBQ0UsZ0JBQUE7QUFBSjs7QUFFRTtFQUNJLGtCQUFBO0FBQ047O0FBRUE7RUFDSSw0QkFBQTtFQUNBLGdCQUFBO0FBQ0oiLCJmaWxlIjoibWVudS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYWN0aXZlLWl0ZW17XHJcbiAgICBib3JkZXItbGVmdDogOHB4IHNvbGlkIHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcclxufVxyXG5cclxuaW9uLXRvb2xiYXJ7XHJcbiAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiNlZWVlZWU7XHJcbn1cclxuXHJcbmlvbi1tZW51e1xyXG4gICAgLy8tLWJhY2tncm91bmQ6IHVybCguLi8uLi9hc3NldHMvd3A0NzkyNzgwLWRhcmstcGhvbmUtd2FsbHBhcGVycy5qcGcpIDAgMC8xMDAlIDEwMCUgbm8tcmVwZWF0O1xyXG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjojZTllOWU5O1xyXG5cclxufVxyXG5cclxuaW9uLWNvbnRlbnQgaW9uLXRvb2xiYXIge1xyXG4gICAgbWFyZ2luOiAxMHB4IDA7XHJcbiAgfVxyXG4gICN0b29sYmFySWNvbntcclxuICAgIGZvbnQtc2l6ZTogMS43ZW07XHJcbn1cclxuICBpb24tdGl0bGV7XHJcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICB9XHJcblxyXG4ubXktbGFiZWx7XHJcbiAgICBmb250LWZhbWlseTogT3BlbiBTYW5zIExpZ2h0O1xyXG4gICAgZm9udC1zaXplOiAxLjJlbTtcclxufSJdfQ== */\";","// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { DefaultHttpClient } from \"./DefaultHttpClient\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { HttpTransportType, TransferFormat } from \"./ITransport\";\r\nimport { LongPollingTransport } from \"./LongPollingTransport\";\r\nimport { ServerSentEventsTransport } from \"./ServerSentEventsTransport\";\r\nimport { Arg, createLogger } from \"./Utils\";\r\nimport { WebSocketTransport } from \"./WebSocketTransport\";\r\nvar MAX_REDIRECTS = 100;\r\nvar WebSocketModule = null;\r\nvar EventSourceModule = null;\r\nif (typeof window === \"undefined\" && typeof require !== \"undefined\") {\r\n    // In order to ignore the dynamic require in webpack builds we need to do this magic\r\n    // @ts-ignore: TS doesn't know about these names\r\n    var requireFunc = typeof __webpack_require__ === \"function\" ? __non_webpack_require__ : require;\r\n    WebSocketModule = requireFunc(\"ws\");\r\n    EventSourceModule = requireFunc(\"eventsource\");\r\n}\r\n/** @private */\r\nvar HttpConnection = /** @class */ (function () {\r\n    function HttpConnection(url, options) {\r\n        if (options === void 0) { options = {}; }\r\n        this.features = {};\r\n        Arg.isRequired(url, \"url\");\r\n        this.logger = createLogger(options.logger);\r\n        this.baseUrl = this.resolveUrl(url);\r\n        options = options || {};\r\n        options.logMessageContent = options.logMessageContent || false;\r\n        var isNode = typeof window === \"undefined\";\r\n        if (!isNode && typeof WebSocket !== \"undefined\" && !options.WebSocket) {\r\n            options.WebSocket = WebSocket;\r\n        }\r\n        else if (isNode && !options.WebSocket) {\r\n            if (WebSocketModule) {\r\n                options.WebSocket = WebSocketModule;\r\n            }\r\n        }\r\n        if (!isNode && typeof EventSource !== \"undefined\" && !options.EventSource) {\r\n            options.EventSource = EventSource;\r\n        }\r\n        else if (isNode && !options.EventSource) {\r\n            if (typeof EventSourceModule !== \"undefined\") {\r\n                options.EventSource = EventSourceModule;\r\n            }\r\n        }\r\n        this.httpClient = options.httpClient || new DefaultHttpClient(this.logger);\r\n        this.connectionState = 2 /* Disconnected */;\r\n        this.options = options;\r\n        this.onreceive = null;\r\n        this.onclose = null;\r\n    }\r\n    HttpConnection.prototype.start = function (transferFormat) {\r\n        transferFormat = transferFormat || TransferFormat.Binary;\r\n        Arg.isIn(transferFormat, TransferFormat, \"transferFormat\");\r\n        this.logger.log(LogLevel.Debug, \"Starting connection with transfer format '\" + TransferFormat[transferFormat] + \"'.\");\r\n        if (this.connectionState !== 2 /* Disconnected */) {\r\n            return Promise.reject(new Error(\"Cannot start a connection that is not in the 'Disconnected' state.\"));\r\n        }\r\n        this.connectionState = 0 /* Connecting */;\r\n        this.startPromise = this.startInternal(transferFormat);\r\n        return this.startPromise;\r\n    };\r\n    HttpConnection.prototype.send = function (data) {\r\n        if (this.connectionState !== 1 /* Connected */) {\r\n            throw new Error(\"Cannot send data if the connection is not in the 'Connected' State.\");\r\n        }\r\n        // Transport will not be null if state is connected\r\n        return this.transport.send(data);\r\n    };\r\n    HttpConnection.prototype.stop = function (error) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.connectionState = 2 /* Disconnected */;\r\n                        // Set error as soon as possible otherwise there is a race between\r\n                        // the transport closing and providing an error and the error from a close message\r\n                        // We would prefer the close message error.\r\n                        this.stopError = error;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, this.startPromise];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        e_1 = _a.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 4:\r\n                        if (!this.transport) return [3 /*break*/, 6];\r\n                        return [4 /*yield*/, this.transport.stop()];\r\n                    case 5:\r\n                        _a.sent();\r\n                        this.transport = undefined;\r\n                        _a.label = 6;\r\n                    case 6: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    HttpConnection.prototype.startInternal = function (transferFormat) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var url, negotiateResponse, redirects, _loop_1, this_1, state_1, e_2;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        url = this.baseUrl;\r\n                        this.accessTokenFactory = this.options.accessTokenFactory;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 12, , 13]);\r\n                        if (!this.options.skipNegotiation) return [3 /*break*/, 5];\r\n                        if (!(this.options.transport === HttpTransportType.WebSockets)) return [3 /*break*/, 3];\r\n                        // No need to add a connection ID in this case\r\n                        this.transport = this.constructTransport(HttpTransportType.WebSockets);\r\n                        // We should just call connect directly in this case.\r\n                        // No fallback or negotiate in this case.\r\n                        return [4 /*yield*/, this.transport.connect(url, transferFormat)];\r\n                    case 2:\r\n                        // We should just call connect directly in this case.\r\n                        // No fallback or negotiate in this case.\r\n                        _a.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 3: throw Error(\"Negotiation can only be skipped when using the WebSocket transport directly.\");\r\n                    case 4: return [3 /*break*/, 11];\r\n                    case 5:\r\n                        negotiateResponse = null;\r\n                        redirects = 0;\r\n                        _loop_1 = function () {\r\n                            var accessToken_1;\r\n                            return __generator(this, function (_a) {\r\n                                switch (_a.label) {\r\n                                    case 0: return [4 /*yield*/, this_1.getNegotiationResponse(url)];\r\n                                    case 1:\r\n                                        negotiateResponse = _a.sent();\r\n                                        // the user tries to stop the connection when it is being started\r\n                                        if (this_1.connectionState === 2 /* Disconnected */) {\r\n                                            return [2 /*return*/, { value: void 0 }];\r\n                                        }\r\n                                        if (negotiateResponse.error) {\r\n                                            throw Error(negotiateResponse.error);\r\n                                        }\r\n                                        if (negotiateResponse.ProtocolVersion) {\r\n                                            throw Error(\"Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.\");\r\n                                        }\r\n                                        if (negotiateResponse.url) {\r\n                                            url = negotiateResponse.url;\r\n                                        }\r\n                                        if (negotiateResponse.accessToken) {\r\n                                            accessToken_1 = negotiateResponse.accessToken;\r\n                                            this_1.accessTokenFactory = function () { return accessToken_1; };\r\n                                        }\r\n                                        redirects++;\r\n                                        return [2 /*return*/];\r\n                                }\r\n                            });\r\n                        };\r\n                        this_1 = this;\r\n                        _a.label = 6;\r\n                    case 6: return [5 /*yield**/, _loop_1()];\r\n                    case 7:\r\n                        state_1 = _a.sent();\r\n                        if (typeof state_1 === \"object\")\r\n                            return [2 /*return*/, state_1.value];\r\n                        _a.label = 8;\r\n                    case 8:\r\n                        if (negotiateResponse.url && redirects < MAX_REDIRECTS) return [3 /*break*/, 6];\r\n                        _a.label = 9;\r\n                    case 9:\r\n                        if (redirects === MAX_REDIRECTS && negotiateResponse.url) {\r\n                            throw Error(\"Negotiate redirection limit exceeded.\");\r\n                        }\r\n                        return [4 /*yield*/, this.createTransport(url, this.options.transport, negotiateResponse, transferFormat)];\r\n                    case 10:\r\n                        _a.sent();\r\n                        _a.label = 11;\r\n                    case 11:\r\n                        if (this.transport instanceof LongPollingTransport) {\r\n                            this.features.inherentKeepAlive = true;\r\n                        }\r\n                        this.transport.onreceive = this.onreceive;\r\n                        this.transport.onclose = function (e) { return _this.stopConnection(e); };\r\n                        // only change the state if we were connecting to not overwrite\r\n                        // the state if the connection is already marked as Disconnected\r\n                        this.changeState(0 /* Connecting */, 1 /* Connected */);\r\n                        return [3 /*break*/, 13];\r\n                    case 12:\r\n                        e_2 = _a.sent();\r\n                        this.logger.log(LogLevel.Error, \"Failed to start the connection: \" + e_2);\r\n                        this.connectionState = 2 /* Disconnected */;\r\n                        this.transport = undefined;\r\n                        throw e_2;\r\n                    case 13: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    HttpConnection.prototype.getNegotiationResponse = function (url) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a, headers, token, negotiateUrl, response, e_3;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        if (!this.accessTokenFactory) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.accessTokenFactory()];\r\n                    case 1:\r\n                        token = _b.sent();\r\n                        if (token) {\r\n                            headers = (_a = {},\r\n                                _a[\"Authorization\"] = \"Bearer \" + token,\r\n                                _a);\r\n                        }\r\n                        _b.label = 2;\r\n                    case 2:\r\n                        negotiateUrl = this.resolveNegotiateUrl(url);\r\n                        this.logger.log(LogLevel.Debug, \"Sending negotiation request: \" + negotiateUrl + \".\");\r\n                        _b.label = 3;\r\n                    case 3:\r\n                        _b.trys.push([3, 5, , 6]);\r\n                        return [4 /*yield*/, this.httpClient.post(negotiateUrl, {\r\n                                content: \"\",\r\n                                headers: headers,\r\n                            })];\r\n                    case 4:\r\n                        response = _b.sent();\r\n                        if (response.statusCode !== 200) {\r\n                            throw Error(\"Unexpected status code returned from negotiate \" + response.statusCode);\r\n                        }\r\n                        return [2 /*return*/, JSON.parse(response.content)];\r\n                    case 5:\r\n                        e_3 = _b.sent();\r\n                        this.logger.log(LogLevel.Error, \"Failed to complete negotiation with the server: \" + e_3);\r\n                        throw e_3;\r\n                    case 6: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    HttpConnection.prototype.createConnectUrl = function (url, connectionId) {\r\n        if (!connectionId) {\r\n            return url;\r\n        }\r\n        return url + (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + (\"id=\" + connectionId);\r\n    };\r\n    HttpConnection.prototype.createTransport = function (url, requestedTransport, negotiateResponse, requestedTransferFormat) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var connectUrl, transports, _i, transports_1, endpoint, transport, ex_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        connectUrl = this.createConnectUrl(url, negotiateResponse.connectionId);\r\n                        if (!this.isITransport(requestedTransport)) return [3 /*break*/, 2];\r\n                        this.logger.log(LogLevel.Debug, \"Connection was provided an instance of ITransport, using that directly.\");\r\n                        this.transport = requestedTransport;\r\n                        return [4 /*yield*/, this.transport.connect(connectUrl, requestedTransferFormat)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        // only change the state if we were connecting to not overwrite\r\n                        // the state if the connection is already marked as Disconnected\r\n                        this.changeState(0 /* Connecting */, 1 /* Connected */);\r\n                        return [2 /*return*/];\r\n                    case 2:\r\n                        transports = negotiateResponse.availableTransports || [];\r\n                        _i = 0, transports_1 = transports;\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        if (!(_i < transports_1.length)) return [3 /*break*/, 9];\r\n                        endpoint = transports_1[_i];\r\n                        this.connectionState = 0 /* Connecting */;\r\n                        transport = this.resolveTransport(endpoint, requestedTransport, requestedTransferFormat);\r\n                        if (!(typeof transport === \"number\")) return [3 /*break*/, 8];\r\n                        this.transport = this.constructTransport(transport);\r\n                        if (!!negotiateResponse.connectionId) return [3 /*break*/, 5];\r\n                        return [4 /*yield*/, this.getNegotiationResponse(url)];\r\n                    case 4:\r\n                        negotiateResponse = _a.sent();\r\n                        connectUrl = this.createConnectUrl(url, negotiateResponse.connectionId);\r\n                        _a.label = 5;\r\n                    case 5:\r\n                        _a.trys.push([5, 7, , 8]);\r\n                        return [4 /*yield*/, this.transport.connect(connectUrl, requestedTransferFormat)];\r\n                    case 6:\r\n                        _a.sent();\r\n                        this.changeState(0 /* Connecting */, 1 /* Connected */);\r\n                        return [2 /*return*/];\r\n                    case 7:\r\n                        ex_1 = _a.sent();\r\n                        this.logger.log(LogLevel.Error, \"Failed to start the transport '\" + HttpTransportType[transport] + \"': \" + ex_1);\r\n                        this.connectionState = 2 /* Disconnected */;\r\n                        negotiateResponse.connectionId = undefined;\r\n                        return [3 /*break*/, 8];\r\n                    case 8:\r\n                        _i++;\r\n                        return [3 /*break*/, 3];\r\n                    case 9: throw new Error(\"Unable to initialize any of the available transports.\");\r\n                }\r\n            });\r\n        });\r\n    };\r\n    HttpConnection.prototype.constructTransport = function (transport) {\r\n        switch (transport) {\r\n            case HttpTransportType.WebSockets:\r\n                if (!this.options.WebSocket) {\r\n                    throw new Error(\"'WebSocket' is not supported in your environment.\");\r\n                }\r\n                return new WebSocketTransport(this.httpClient, this.accessTokenFactory, this.logger, this.options.logMessageContent || false, this.options.WebSocket);\r\n            case HttpTransportType.ServerSentEvents:\r\n                if (!this.options.EventSource) {\r\n                    throw new Error(\"'EventSource' is not supported in your environment.\");\r\n                }\r\n                return new ServerSentEventsTransport(this.httpClient, this.accessTokenFactory, this.logger, this.options.logMessageContent || false, this.options.EventSource);\r\n            case HttpTransportType.LongPolling:\r\n                return new LongPollingTransport(this.httpClient, this.accessTokenFactory, this.logger, this.options.logMessageContent || false);\r\n            default:\r\n                throw new Error(\"Unknown transport: \" + transport + \".\");\r\n        }\r\n    };\r\n    HttpConnection.prototype.resolveTransport = function (endpoint, requestedTransport, requestedTransferFormat) {\r\n        var transport = HttpTransportType[endpoint.transport];\r\n        if (transport === null || transport === undefined) {\r\n            this.logger.log(LogLevel.Debug, \"Skipping transport '\" + endpoint.transport + \"' because it is not supported by this client.\");\r\n        }\r\n        else {\r\n            var transferFormats = endpoint.transferFormats.map(function (s) { return TransferFormat[s]; });\r\n            if (transportMatches(requestedTransport, transport)) {\r\n                if (transferFormats.indexOf(requestedTransferFormat) >= 0) {\r\n                    if ((transport === HttpTransportType.WebSockets && !this.options.WebSocket) ||\r\n                        (transport === HttpTransportType.ServerSentEvents && !this.options.EventSource)) {\r\n                        this.logger.log(LogLevel.Debug, \"Skipping transport '\" + HttpTransportType[transport] + \"' because it is not supported in your environment.'\");\r\n                    }\r\n                    else {\r\n                        this.logger.log(LogLevel.Debug, \"Selecting transport '\" + HttpTransportType[transport] + \"'.\");\r\n                        return transport;\r\n                    }\r\n                }\r\n                else {\r\n                    this.logger.log(LogLevel.Debug, \"Skipping transport '\" + HttpTransportType[transport] + \"' because it does not support the requested transfer format '\" + TransferFormat[requestedTransferFormat] + \"'.\");\r\n                }\r\n            }\r\n            else {\r\n                this.logger.log(LogLevel.Debug, \"Skipping transport '\" + HttpTransportType[transport] + \"' because it was disabled by the client.\");\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    HttpConnection.prototype.isITransport = function (transport) {\r\n        return transport && typeof (transport) === \"object\" && \"connect\" in transport;\r\n    };\r\n    HttpConnection.prototype.changeState = function (from, to) {\r\n        if (this.connectionState === from) {\r\n            this.connectionState = to;\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    HttpConnection.prototype.stopConnection = function (error) {\r\n        this.transport = undefined;\r\n        // If we have a stopError, it takes precedence over the error from the transport\r\n        error = this.stopError || error;\r\n        if (error) {\r\n            this.logger.log(LogLevel.Error, \"Connection disconnected with error '\" + error + \"'.\");\r\n        }\r\n        else {\r\n            this.logger.log(LogLevel.Information, \"Connection disconnected.\");\r\n        }\r\n        this.connectionState = 2 /* Disconnected */;\r\n        if (this.onclose) {\r\n            this.onclose(error);\r\n        }\r\n    };\r\n    HttpConnection.prototype.resolveUrl = function (url) {\r\n        // startsWith is not supported in IE\r\n        if (url.lastIndexOf(\"https://\", 0) === 0 || url.lastIndexOf(\"http://\", 0) === 0) {\r\n            return url;\r\n        }\r\n        if (typeof window === \"undefined\" || !window || !window.document) {\r\n            throw new Error(\"Cannot resolve '\" + url + \"'.\");\r\n        }\r\n        // Setting the url to the href propery of an anchor tag handles normalization\r\n        // for us. There are 3 main cases.\r\n        // 1. Relative  path normalization e.g \"b\" -> \"http://localhost:5000/a/b\"\r\n        // 2. Absolute path normalization e.g \"/a/b\" -> \"http://localhost:5000/a/b\"\r\n        // 3. Networkpath reference normalization e.g \"//localhost:5000/a/b\" -> \"http://localhost:5000/a/b\"\r\n        var aTag = window.document.createElement(\"a\");\r\n        aTag.href = url;\r\n        this.logger.log(LogLevel.Information, \"Normalizing '\" + url + \"' to '\" + aTag.href + \"'.\");\r\n        return aTag.href;\r\n    };\r\n    HttpConnection.prototype.resolveNegotiateUrl = function (url) {\r\n        var index = url.indexOf(\"?\");\r\n        var negotiateUrl = url.substring(0, index === -1 ? url.length : index);\r\n        if (negotiateUrl[negotiateUrl.length - 1] !== \"/\") {\r\n            negotiateUrl += \"/\";\r\n        }\r\n        negotiateUrl += \"negotiate\";\r\n        negotiateUrl += index === -1 ? \"\" : url.substring(index);\r\n        return negotiateUrl;\r\n    };\r\n    return HttpConnection;\r\n}());\r\nexport { HttpConnection };\r\nfunction transportMatches(requestedTransport, actualTransport) {\r\n    return !requestedTransport || ((actualTransport & requestedTransport) !== 0);\r\n}\r\n//# sourceMappingURL=HttpConnection.js.map","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { MenuPage } from './menu.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: MenuPage,\r\n    children: [\r\n      {\r\n        path: 'tabs'\r\n      },\r\n      {\r\n        path: 'location',\r\n        loadChildren: () => import('../location/location.module').then(m => m.LocationPageModule)\r\n      },\r\n      {\r\n        path: 'destination',\r\n        loadChildren: () => import('../destination/destination.module').then(m => m.DestinationPageModule)\r\n      },\r\n      {\r\n        path: 'home',\r\n        loadChildren: () => import('../account/login/login.module').then(m => m.LoginPageModule)\r\n      },\r\n      {\r\n        path: 'account/register',\r\n        loadChildren: () => import('../account/register/register.module').then(m => m.RegisterPageModule)\r\n      },\r\n      {\r\n        path: 'travelling',\r\n        loadChildren: () => import('../travelling/travelling.module').then(m => m.TravellingPageModule)\r\n      },\r\n      {\r\n        path: 'driving',\r\n        loadChildren: () => import('../driving/driving.module').then(m => m.DrivingPageModule)\r\n      },\r\n      {\r\n        path: 'verifying',\r\n        loadChildren: () => import('../account-verifying/account-verifying.module').then(m => m.AccountVerifyingPageModule)\r\n      },\r\n      {\r\n        path: 'become-driver',\r\n        loadChildren: () => import('../become-driver/become-driver.module').then(m => m.BecomeDriverPageModule)\r\n      },\r\n      {\r\n        path: 'driver-profile',\r\n        loadChildren: () => import('../driver-profile/driver-profile.module').then(m => m.DriverProfilePageModule)\r\n      },\r\n      {\r\n        path: 'driver-history',\r\n        loadChildren: () => import('../driver-history/driver-history.module').then(m => m.DriverHistoryPageModule)\r\n      },\r\n      {\r\n        path: 'car-register',\r\n        loadChildren: () => import('../car-register/car-register.module').then(m => m.CarRegisterPageModule)\r\n      },\r\n      {\r\n        path: 'report',\r\n        loadChildren: () => import('../report/report.module').then(m => m.ReportPageModule)\r\n      },\r\n      {\r\n        path: 'verifying',\r\n        loadChildren: () => import('../account-verifying/account-verifying.module').then(m => m.AccountVerifyingPageModule)\r\n      },\r\n      {\r\n        path: 'favourite-orders',\r\n        loadChildren: () => import('../favourite-orders/favourite-orders.module').then(m => m.FavouriteOrdersPageModule)\r\n      },\r\n      {\r\n        path: 'payments-sucsses',\r\n        loadChildren: () => import('../payments-sucsses/payments-sucsses.module').then(m => m.PaymentsSucssesPageModule)\r\n      },\r\n      {\r\n        path: 'language-popover',\r\n        loadChildren: () => import('../language-popover/language-popover.module').then(m => m.LanguagePopoverPageModule)\r\n      },\r\n      {\r\n        path: 'categories',\r\n        loadChildren: () => import('../categories/categories.module').then(m => m.CategoriesPageModule)\r\n      },\r\n      {\r\n        path: 'travel-mode',\r\n        loadChildren: () => import('../travel-mode/travel-mode.module').then(m => m.TravelModePageModule)\r\n      },\r\n      {\r\n        path: 'driving-mode',\r\n        loadChildren: () => import('../driving-mode/driving-mode.module').then(m => m.DrivingModePageModule)\r\n      },\r\n      {\r\n        path: 'order-details/:id',\r\n        loadChildren: () => import('../order-details/order-details.module').then(m => m.OrderDetailsPageModule)\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class MenuPageRoutingModule { }\r\n","// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n/** Error thrown when an HTTP request fails. */\r\nvar HttpError = /** @class */ (function (_super) {\r\n    __extends(HttpError, _super);\r\n    /** Constructs a new instance of {@link @aspnet/signalr.HttpError}.\r\n     *\r\n     * @param {string} errorMessage A descriptive error message.\r\n     * @param {number} statusCode The HTTP status code represented by this error.\r\n     */\r\n    function HttpError(errorMessage, statusCode) {\r\n        var _newTarget = this.constructor;\r\n        var _this = this;\r\n        var trueProto = _newTarget.prototype;\r\n        _this = _super.call(this, errorMessage) || this;\r\n        _this.statusCode = statusCode;\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        _this.__proto__ = trueProto;\r\n        return _this;\r\n    }\r\n    return HttpError;\r\n}(Error));\r\nexport { HttpError };\r\n/** Error thrown when a timeout elapses. */\r\nvar TimeoutError = /** @class */ (function (_super) {\r\n    __extends(TimeoutError, _super);\r\n    /** Constructs a new instance of {@link @aspnet/signalr.TimeoutError}.\r\n     *\r\n     * @param {string} errorMessage A descriptive error message.\r\n     */\r\n    function TimeoutError(errorMessage) {\r\n        var _newTarget = this.constructor;\r\n        if (errorMessage === void 0) { errorMessage = \"A timeout occurred.\"; }\r\n        var _this = this;\r\n        var trueProto = _newTarget.prototype;\r\n        _this = _super.call(this, errorMessage) || this;\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        _this.__proto__ = trueProto;\r\n        return _this;\r\n    }\r\n    return TimeoutError;\r\n}(Error));\r\nexport { TimeoutError };\r\n/** Error thrown when an action is aborted. */\r\nvar AbortError = /** @class */ (function (_super) {\r\n    __extends(AbortError, _super);\r\n    /** Constructs a new instance of {@link AbortError}.\r\n     *\r\n     * @param {string} errorMessage A descriptive error message.\r\n     */\r\n    function AbortError(errorMessage) {\r\n        var _newTarget = this.constructor;\r\n        if (errorMessage === void 0) { errorMessage = \"An abort occurred.\"; }\r\n        var _this = this;\r\n        var trueProto = _newTarget.prototype;\r\n        _this = _super.call(this, errorMessage) || this;\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        _this.__proto__ = trueProto;\r\n        return _this;\r\n    }\r\n    return AbortError;\r\n}(Error));\r\nexport { AbortError };\r\n//# sourceMappingURL=Errors.js.map","// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { NullLogger } from \"./Loggers\";\r\n/** @private */\r\nvar Arg = /** @class */ (function () {\r\n    function Arg() {\r\n    }\r\n    Arg.isRequired = function (val, name) {\r\n        if (val === null || val === undefined) {\r\n            throw new Error(\"The '\" + name + \"' argument is required.\");\r\n        }\r\n    };\r\n    Arg.isIn = function (val, values, name) {\r\n        // TypeScript enums have keys for **both** the name and the value of each enum member on the type itself.\r\n        if (!(val in values)) {\r\n            throw new Error(\"Unknown \" + name + \" value: \" + val + \".\");\r\n        }\r\n    };\r\n    return Arg;\r\n}());\r\nexport { Arg };\r\n/** @private */\r\nexport function getDataDetail(data, includeContent) {\r\n    var detail = \"\";\r\n    if (isArrayBuffer(data)) {\r\n        detail = \"Binary data of length \" + data.byteLength;\r\n        if (includeContent) {\r\n            detail += \". Content: '\" + formatArrayBuffer(data) + \"'\";\r\n        }\r\n    }\r\n    else if (typeof data === \"string\") {\r\n        detail = \"String data of length \" + data.length;\r\n        if (includeContent) {\r\n            detail += \". Content: '\" + data + \"'\";\r\n        }\r\n    }\r\n    return detail;\r\n}\r\n/** @private */\r\nexport function formatArrayBuffer(data) {\r\n    var view = new Uint8Array(data);\r\n    // Uint8Array.map only supports returning another Uint8Array?\r\n    var str = \"\";\r\n    view.forEach(function (num) {\r\n        var pad = num < 16 ? \"0\" : \"\";\r\n        str += \"0x\" + pad + num.toString(16) + \" \";\r\n    });\r\n    // Trim of trailing space.\r\n    return str.substr(0, str.length - 1);\r\n}\r\n// Also in signalr-protocol-msgpack/Utils.ts\r\n/** @private */\r\nexport function isArrayBuffer(val) {\r\n    return val && typeof ArrayBuffer !== \"undefined\" &&\r\n        (val instanceof ArrayBuffer ||\r\n            // Sometimes we get an ArrayBuffer that doesn't satisfy instanceof\r\n            (val.constructor && val.constructor.name === \"ArrayBuffer\"));\r\n}\r\n/** @private */\r\nexport function sendMessage(logger, transportName, httpClient, url, accessTokenFactory, content, logMessageContent) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var _a, headers, token, responseType, response;\r\n        return __generator(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0:\r\n                    if (!accessTokenFactory) return [3 /*break*/, 2];\r\n                    return [4 /*yield*/, accessTokenFactory()];\r\n                case 1:\r\n                    token = _b.sent();\r\n                    if (token) {\r\n                        headers = (_a = {},\r\n                            _a[\"Authorization\"] = \"Bearer \" + token,\r\n                            _a);\r\n                    }\r\n                    _b.label = 2;\r\n                case 2:\r\n                    logger.log(LogLevel.Trace, \"(\" + transportName + \" transport) sending data. \" + getDataDetail(content, logMessageContent) + \".\");\r\n                    responseType = isArrayBuffer(content) ? \"arraybuffer\" : \"text\";\r\n                    return [4 /*yield*/, httpClient.post(url, {\r\n                            content: content,\r\n                            headers: headers,\r\n                            responseType: responseType,\r\n                        })];\r\n                case 3:\r\n                    response = _b.sent();\r\n                    logger.log(LogLevel.Trace, \"(\" + transportName + \" transport) request complete. Response status: \" + response.statusCode + \".\");\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\n/** @private */\r\nexport function createLogger(logger) {\r\n    if (logger === undefined) {\r\n        return new ConsoleLogger(LogLevel.Information);\r\n    }\r\n    if (logger === null) {\r\n        return NullLogger.instance;\r\n    }\r\n    if (logger.log) {\r\n        return logger;\r\n    }\r\n    return new ConsoleLogger(logger);\r\n}\r\n/** @private */\r\nvar Subject = /** @class */ (function () {\r\n    function Subject() {\r\n        this.observers = [];\r\n    }\r\n    Subject.prototype.next = function (item) {\r\n        for (var _i = 0, _a = this.observers; _i < _a.length; _i++) {\r\n            var observer = _a[_i];\r\n            observer.next(item);\r\n        }\r\n    };\r\n    Subject.prototype.error = function (err) {\r\n        for (var _i = 0, _a = this.observers; _i < _a.length; _i++) {\r\n            var observer = _a[_i];\r\n            if (observer.error) {\r\n                observer.error(err);\r\n            }\r\n        }\r\n    };\r\n    Subject.prototype.complete = function () {\r\n        for (var _i = 0, _a = this.observers; _i < _a.length; _i++) {\r\n            var observer = _a[_i];\r\n            if (observer.complete) {\r\n                observer.complete();\r\n            }\r\n        }\r\n    };\r\n    Subject.prototype.subscribe = function (observer) {\r\n        this.observers.push(observer);\r\n        return new SubjectSubscription(this, observer);\r\n    };\r\n    return Subject;\r\n}());\r\nexport { Subject };\r\n/** @private */\r\nvar SubjectSubscription = /** @class */ (function () {\r\n    function SubjectSubscription(subject, observer) {\r\n        this.subject = subject;\r\n        this.observer = observer;\r\n    }\r\n    SubjectSubscription.prototype.dispose = function () {\r\n        var index = this.subject.observers.indexOf(this.observer);\r\n        if (index > -1) {\r\n            this.subject.observers.splice(index, 1);\r\n        }\r\n        if (this.subject.observers.length === 0 && this.subject.cancelCallback) {\r\n            this.subject.cancelCallback().catch(function (_) { });\r\n        }\r\n    };\r\n    return SubjectSubscription;\r\n}());\r\nexport { SubjectSubscription };\r\n/** @private */\r\nvar ConsoleLogger = /** @class */ (function () {\r\n    function ConsoleLogger(minimumLogLevel) {\r\n        this.minimumLogLevel = minimumLogLevel;\r\n    }\r\n    ConsoleLogger.prototype.log = function (logLevel, message) {\r\n        if (logLevel >= this.minimumLogLevel) {\r\n            switch (logLevel) {\r\n                case LogLevel.Critical:\r\n                case LogLevel.Error:\r\n                    console.error(\"[\" + new Date().toISOString() + \"] \" + LogLevel[logLevel] + \": \" + message);\r\n                    break;\r\n                case LogLevel.Warning:\r\n                    console.warn(\"[\" + new Date().toISOString() + \"] \" + LogLevel[logLevel] + \": \" + message);\r\n                    break;\r\n                case LogLevel.Information:\r\n                    console.info(\"[\" + new Date().toISOString() + \"] \" + LogLevel[logLevel] + \": \" + message);\r\n                    break;\r\n                default:\r\n                    // console.debug only goes to attached debuggers in Node, so we use console.log for Trace and Debug\r\n                    console.log(\"[\" + new Date().toISOString() + \"] \" + LogLevel[logLevel] + \": \" + message);\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    return ConsoleLogger;\r\n}());\r\nexport { ConsoleLogger };\r\n//# sourceMappingURL=Utils.js.map","import { Component, OnInit } from '@angular/core';\r\nimport { Router, RouterEvent } from '@angular/router';\r\nimport * as signalR from '@aspnet/signalr';\r\nimport { AndroidPermissions } from '@ionic-native/android-permissions/ngx';\r\nimport { LocationAccuracy } from '@ionic-native/location-accuracy/ngx';\r\nimport { PopoverController } from '@ionic/angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { environment } from 'src/environments/environment';\r\nimport { AccountService } from 'src/_services';\r\nimport { DriverService } from 'src/_services/driver/driver.service';\r\nimport { LanguagePopoverPage } from '../language-popover/language-popover.page';\r\nimport { BackgroundMode } from '@ionic-native/background-mode/ngx';\r\nimport { Subscription } from 'rxjs';\r\nimport { HttpTransportType } from '@aspnet/signalr';\r\n@Component({\r\n  selector: 'app-menu',\r\n  templateUrl: './menu.page.html',\r\n  styleUrls: ['./menu.page.scss'],\r\n})\r\nexport class MenuPage implements OnInit {\r\n  private subscriptions: Subscription[] = [];\r\n\r\n  isLoggedIn;\r\n  driverId: string;\r\n  isVerified: boolean;\r\n  documentConfirmed = false;\r\n  driverCars = [];\r\n  accessedPath = \"\";\r\n\r\n  pages = [\r\n    {\r\n      title: \"Travel\",\r\n      url: '/menu/travelling'\r\n    },\r\n    {\r\n      title: \"Profile\",\r\n      url: '/menu/driver-profile'\r\n    },\r\n    {\r\n      title: \"Drive\",\r\n      url: '/menu/categories'\r\n    },\r\n    {\r\n      title: \"Report\",\r\n      url: '/menu/report'\r\n    },\r\n    {\r\n      title: \"Favourites\",\r\n      url: '/menu/favourite-orders'\r\n    }\r\n  ];\r\n\r\n  selectedPath = '';\r\n  constructor(private router: Router,\r\n    private accountService: AccountService,\r\n    private driverService: DriverService,\r\n    private translate: TranslateService,\r\n    private popoverController: PopoverController,\r\n    private backgroundMode: BackgroundMode) {\r\n    this.isLoggedIn = localStorage.getItem(\"user\");\r\n    if (this.isLoggedIn) {\r\n      this.translate.setDefaultLang(this.accountService.userValue.choosenLanguage);\r\n      this.backgroundMode.enable();\r\n    } else {\r\n      this.translate.setDefaultLang('en');\r\n    }\r\n    this.subscriptions.push(this.router.events.subscribe((event: RouterEvent) => {\r\n      if (event && event.url) {\r\n        if (event.url == \"/menu/driving\") {\r\n          if (this.isLoggedIn && this.isVerified && this.documentConfirmed && this.driverCars.length >= 1) {\r\n            event.url = '/menu/driving'\r\n          }\r\n        }\r\n        //this.selectedPath = event.url;\r\n      }\r\n    }));\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.checkValues();\r\n    //  const connection = new signalR.HubConnectionBuilder()\r\n    //    .configureLogging(signalR.LogLevel.Information)\r\n    //    .withUrl(`${environment.signalRUrl}/orderHub`, {\r\n    //     skipNegotiation: true,\r\n    //     transport: signalR.HttpTransportType.WebSockets})\r\n    //    .build();\r\n\r\n    // const connection = new signalR.HubConnectionBuilder()\r\n    //   .configureLogging(signalR.LogLevel.Information)\r\n    //   .withUrl(`${environment.signalRUrl}/orderHub`)\r\n    //   .build();\r\n\r\n    const connection = new signalR.HubConnectionBuilder()\r\n      .configureLogging(signalR.LogLevel.Information)\r\n      .withUrl(`${environment.signalRUrl}/orderHub`, {\r\n        skipNegotiation: false,\r\n        transport: signalR.HttpTransportType.WebSockets |\r\n          signalR.HttpTransportType.LongPolling\r\n      })\r\n      .build();\r\n\r\n\r\n    connection.start().then(function () {\r\n      console.log('signalR Connected in menu');\r\n    }).catch(function (err) {\r\n      console.log(\"Reconnecting in 1 sec.\");\r\n      setTimeout(() => connection.start(), 1000);\r\n    });\r\n\r\n    connection.on('BroadcastMessage', () => {\r\n      this.checkValues();\r\n    });\r\n\r\n    connection.on('LoggedIn', () => {\r\n      this.checkValues();\r\n    });\r\n\r\n    connection.on('CreatedOrder', () => {\r\n\r\n    });\r\n\r\n    connection.on('OrderDeleted', () => {\r\n\r\n    });\r\n\r\n    connection.on('WalletAction', () => {\r\n\r\n    });\r\n\r\n    connection.on('CompleteOrder', () => {\r\n\r\n    });\r\n  }\r\n\r\n  // ionViewDidLeave() {\r\n  //   for (const subscription of this.subscriptions) {\r\n  //     console.log(subscription)\r\n  //     subscription.unsubscribe();\r\n  //   }\r\n  // }\r\n\r\n  checkValues() {\r\n    this.isLoggedIn = localStorage.getItem(\"user\");\r\n\r\n    if (this.isLoggedIn) {\r\n\r\n      this.subscriptions.push(this.accountService.getById(this.accountService.userValue.id)\r\n        .subscribe(x => {\r\n          this.isVerified = x.isDriver;\r\n\r\n          if (x.driverId != null) {\r\n            this.subscriptions.push(this.driverService.getDriver(x.driverId)\r\n              .subscribe(d => {\r\n                this.subscriptions.push(this.driverService.getDriverCars(x.driverId)\r\n                  .subscribe(cars => {\r\n                    this.driverCars = cars;\r\n                  }));\r\n\r\n                this.documentConfirmed = d.documentConfirmation;\r\n              }))\r\n          }\r\n        }))\r\n    } else if (this.isLoggedIn == null) {\r\n      this.router.navigate(['menu/home']);\r\n    }\r\n  }\r\n\r\n  logout() {\r\n    this.accountService.logout();\r\n    this.isLoggedIn = \"\";\r\n    this.router.navigate(['menu/home'])\r\n      .then(() => {\r\n        window.location.reload();\r\n      })\r\n  }\r\n\r\n  async openLanguagePopover(ev) {\r\n    const popover = await this.popoverController.create({\r\n      component: LanguagePopoverPage,\r\n      event: ev\r\n    });\r\n    await popover.present();\r\n  }\r\n}\r\n"]}