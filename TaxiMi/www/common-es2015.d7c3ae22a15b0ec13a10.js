(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0/6H":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n("A36C"),r=n("iWo5"),i=n("qULd");const a=(e,t)=>{let n,a;const s=(e,o,r)=>{if("undefined"==typeof document)return;const i=document.elementFromPoint(e,o);i&&t(i)?i!==n&&(l(),c(i,r)):l()},c=(e,t)=>{n=e,a||(a=n);const r=n;Object(o.f)(()=>r.classList.add("ion-activated")),t()},l=(e=!1)=>{if(!n)return;const t=n;Object(o.f)(()=>t.classList.remove("ion-activated")),e&&a!==n&&n.click(),n=void 0};return Object(r.createGesture)({el:e,gestureName:"buttonActiveDrag",threshold:0,onStart:e=>s(e.currentX,e.currentY,i.a),onMove:e=>s(e.currentX,e.currentY,i.b),onEnd:()=>{l(!0),Object(i.e)(),a=void 0}})}},1207:function(e,t,n){"use strict";n.r(t),n.d(t,"HttpLoaderFactory",function(){return C}),n.d(t,"DestinationPageModule",function(){return k});var o=n("ofXK"),r=n("3Pt+"),i=n("TEn/"),a=n("tyNb"),s=n("mrSG"),c=n("fXoL"),l=n("gcOT"),u=n("oXKM"),d=n("8k+r"),p=n("sYmb"),h=n("8Xdb");const g=["map"],b=["myButton"],{Geolocation:m}=l.c,f=[{path:"",component:(()=>{class e{constructor(e,t,n,o,r){this.route=e,this.orderService=t,this.translate=n,this.popoverController=o,this.accountService=r,this.markerUrl="../../assets/location.png",this.translate.setDefaultLang(this.accountService.userValue.choosenLanguage)}ngOnInit(){}ionViewDidEnter(){this.getLocation(),this.loadMap(this.mapRef)}onSubmit(){this.orderService.chosenDestination=this.address,this.loading=!0,this.route.navigate(["menu/travelling"])}loadMap(e){return Object(s.a)(this,void 0,void 0,function*(){const t=yield m.getCurrentPosition(),n={lat:t.coords.latitude,lng:t.coords.longitude};this.orderService.userDestinationLat=n.lat,this.orderService.userDestinationLong=n.lng;const o={center:new google.maps.LatLng(n.lat,n.lng),zoom:15,disableDefaultUI:!0};this.map=new google.maps.Map(e.nativeElement,o);var r=new google.maps.Marker({position:new google.maps.LatLng(n),map:this.map}),i=document.getElementById("searchTextField2").getElementsByTagName("input")[0];this.orderService.selectedFavourite=null;var a=new google.maps.places.SearchBox(i);this.map.addListener("bounds_changed",()=>{a.setBounds(this.map.getBounds())}),a.addListener("places_changed",()=>{const e=a.getPlaces();if(0!=e.length){var t=new google.maps.LatLngBounds;e.forEach(e=>{e.geometry?(r.setMap(null),r=new google.maps.Marker({position:e.geometry.location,map:this.map}),e.geometry.viewport?t.union(e.geometry.viewport):t.extend(e.geometry.location)):console.log("No Geometry")}),this.map.fitBounds(t)}});let c=new google.maps.Geocoder;google.maps.event.addListener(this.map,"idle",()=>Object(s.a)(this,void 0,void 0,function*(){var e=this.map.getCenter();const t={lat:e.lat(),lng:e.lng()};r&&r.setMap&&r.setMap(null),this.orderService.userDestinationLat=t.lat,this.orderService.userDestinationLong=t.lng,c.geocode({location:t},(e,t)=>{"OK"==t&&e[0]&&(this.address=e[0].formatted_address)})}))})}getLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{this.longitude=e.coords.longitude,this.latitude=e.coords.latitude,this.callApi(this.longitude,this.latitude)}):console.log("No support for geolocation")}callApi(e,t){}openLanguagePopover(e){return Object(s.a)(this,void 0,void 0,function*(){const t=yield this.popoverController.create({component:u.a,event:e});yield t.present()})}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(a.f),c.Kb(d.a),c.Kb(p.d),c.Kb(i.H),c.Kb(h.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-destination"]],viewQuery:function(e,t){if(1&e&&(c.vc(g,1,c.m),c.vc(b,1)),2&e){let e;c.hc(e=c.Wb())&&(t.mapRef=e.first),c.hc(e=c.Wb())&&(t.myButton=e.first)}},decls:27,vars:10,consts:[["slot","start"],["slot","end"],["id","toolbarIcon","name","language-outline",3,"click"],["id","searchTextField2","type","text","clearInput","",3,"placeholder"],[1,"noScroll"],["id","map"],["map",""],["id","marker"],["marker",""],[1,"text-center"],[1,"btn","btn-info",3,"click"]],template:function(e,t){1&e&&(c.Nb(0,"ion-header"),c.Nb(1,"ion-toolbar"),c.Nb(2,"ion-buttons",0),c.Lb(3,"ion-menu-button"),c.Mb(),c.Nb(4,"ion-title"),c.Nb(5,"ion-label"),c.pc(6),c.Yb(7,"translate"),c.Mb(),c.Mb(),c.Nb(8,"ion-buttons",1),c.Nb(9,"ion-icon",2),c.Vb("click",function(e){return t.openLanguagePopover(e)}),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Nb(10,"ion-item"),c.Lb(11,"ion-input",3),c.Yb(12,"translate"),c.Mb(),c.Nb(13,"ion-content",4),c.Lb(14,"div",5,6),c.Lb(16,"div",7,8),c.Mb(),c.Nb(18,"ion-footer"),c.Nb(19,"ion-toolbar",9),c.Nb(20,"button",10),c.Vb("click",function(){return t.onSubmit()}),c.pc(21),c.Yb(22,"translate"),c.Mb(),c.Mb(),c.Mb(),c.Nb(23,"ion-footer"),c.Nb(24,"ion-toolbar",9),c.Nb(25,"p"),c.pc(26),c.Mb(),c.Mb(),c.Mb()),2&e&&(c.zb(6),c.qc(c.Zb(7,4,"Choose destination")),c.zb(5),c.dc("placeholder",c.Zb(12,6,"Search destination")),c.zb(10),c.qc(c.Zb(22,8,"Drop me here")),c.zb(5),c.qc(t.address))},directives:[i.l,i.B,i.e,i.s,i.A,i.p,i.m,i.o,i.n,i.K,i.i,i.k],pipes:[p.c],styles:[".noScroll[_ngcontent-%COMP%]{overflow:hidden}#marker[_ngcontent-%COMP%]{position:absolute;background:url(location.2c2142b0480f63125d3d.png) no-repeat;top:50%;left:50%;z-index:1;margin-left:-10px;margin-top:-34px;height:34px;width:20px;cursor:pointer}#map[_ngcontent-%COMP%]{height:100%;width:100%}ion-content[_ngcontent-%COMP%]{--ion-background-color:#353535}ion-toolbar[_ngcontent-%COMP%]{--ion-background-color:#eee}ion-title[_ngcontent-%COMP%]{text-align:center}#toolbarIcon[_ngcontent-%COMP%]{font-size:1.7em}.centered[_ngcontent-%COMP%]{text-align:center}.text[_ngcontent-%COMP%]{font-size:2.4em;font-family:Open Sans Light}i[_ngcontent-%COMP%]{color:#eee}.my-custom-class[_ngcontent-%COMP%]{--background:#e5e5e5}ion-select[_ngcontent-%COMP%]{color:#383838;background-color:#fff;border-radius:10px;border:3px solid #eee}.blink_me[_ngcontent-%COMP%]{-webkit-animation:blinker 1s linear infinite;animation:blinker 1s linear infinite}@-webkit-keyframes blinker{50%{opacity:0}}@keyframes blinker{50%{opacity:0}}.backIcon[_ngcontent-%COMP%]{font-size:150%}.back[_ngcontent-%COMP%], .backIcon[_ngcontent-%COMP%]{color:#ffae00}"]}),e})()}];let v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({imports:[[a.h.forChild(f)],a.h]}),e})();var y=n("tk/3"),M=n("mqiu"),O=n("QhVT");function C(e){return new M.a(e)}let k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({imports:[[o.b,r.e,i.C,v,p.b.forChild({loader:{provide:p.a,useFactory:C,deps:[y.a]}}),O.LanguagePopoverPageModule]]}),e})()},"74mu":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return s});const o=(e,t)=>null!==t.closest(e),r=(e,t)=>"string"==typeof e&&e.length>0?Object.assign({"ion-color":!0,[`ion-color-${e}`]:!0},t):t,i=e=>{const t={};return(e=>void 0!==e?(Array.isArray(e)?e:e.split(" ")).filter(e=>null!=e).map(e=>e.trim()).filter(e=>""!==e):[])(e).forEach(e=>t[e]=!0),t},a=/^[a-z][a-z0-9+\-.]*:/,s=async(e,t,n,o)=>{if(null!=e&&"#"!==e[0]&&!a.test(e)){const r=document.querySelector("ion-router");if(r)return null!=t&&t.preventDefault(),r.push(e,n,o)}return!1}},"Dsd+":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n("tk/3"),r=n("fXoL"),i=n("mpGk");let a=(()=>{class e{constructor(e){this.accountService=e}headerGerneration(){return new o.d({"Content-Type":"application/json",Authorization:`Bearer ${this.accountService.userValue.token}`})}}return e.\u0275fac=function(t){return new(t||e)(r.Rb(i.a))},e.\u0275prov=r.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},Hmjx:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var o=n("z6cu"),r=n("JIr8"),i=n("AytR"),a=n("fXoL"),s=n("tk/3"),c=n("Dsd+");let l=(()=>{class e{constructor(e,t){this.http=e,this.sharedService=t}getMyWallet(e){const t=this.sharedService.headerGerneration();return this.http.get(`${i.a.apiUrl}/api/wallet/${e}`,{headers:t}).pipe(Object(r.a)(this.handleError))}chargeWallet(e,t){const n=this.sharedService.headerGerneration();return this.http.put(`${i.a.apiUrl}/api/wallet/increase/${e}/${t}`,{headers:n,responseType:"json"}).pipe(Object(r.a)(this.handleError))}dischargeWallet(e,t){const n=this.sharedService.headerGerneration();return this.http.put(`${i.a.apiUrl}/api/wallet/decrease/${e}/${t}`,{headers:n,responseType:"json"}).pipe(Object(r.a)(this.handleError))}handleError(e){let t="";return e.error instanceof ErrorEvent?(console.log("Client side error."),t=`Error: ${e.error.message}`):(console.log("Server side error."),t=`Error Code: ${e.status}\nMessage: ${e.message}`),console.log(t),Object(o.a)(t)}}return e.\u0275fac=function(t){return new(t||e)(a.Rb(s.a),a.Rb(c.a))},e.\u0275prov=a.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},Jhu6:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var o=n("z6cu"),r=n("JIr8"),i=n("AytR"),a=n("fXoL"),s=n("tk/3"),c=n("Dsd+");let l=(()=>{class e{constructor(e,t){this.httpClient=e,this.sharedService=t}upload(e,t,n,o){return this.httpClient.post(`${i.a.apiUrl}/api/image/${t}/${n}/${o}`,e,{reportProgress:!0,observe:"events"}).pipe(Object(r.a)(this.handleError))}getMyPicture(e){const t=this.sharedService.headerGerneration();return this.httpClient.get(`${i.a.apiUrl}/api/image/user/${e}`,{headers:t}).pipe(Object(r.a)(this.handleError))}getUserDocuments(e){const t=this.sharedService.headerGerneration();return this.httpClient.get(`${i.a.apiUrl}/api/image/documents/${e}`,{headers:t}).pipe(Object(r.a)(this.handleError))}getUserCarPictures(e){const t=this.sharedService.headerGerneration();return this.httpClient.get(`${i.a.apiUrl}/api/image/cars/${e}`,{headers:t}).pipe(Object(r.a)(this.handleError))}removeDocument(e){const t=this.sharedService.headerGerneration();return this.httpClient.delete(`${i.a.apiUrl}/api/image/${e}`,{headers:t}).pipe(Object(r.a)(this.handleError))}handleError(e){let t="";return e.error instanceof ErrorEvent?(console.log("Client side error."),t=`Error: ${e.error.message}`):(console.log("Server side error."),t=`Error Code: ${e.status}\nMessage: ${e.message}`),console.log(t),Object(o.a)(t)}}return e.\u0275fac=function(t){return new(t||e)(a.Rb(s.a),a.Rb(c.a))},e.\u0275prov=a.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},QhVT:function(e,t,n){"use strict";n.r(t),n.d(t,"LanguagePopoverPageModule",function(){return d});var o=n("ofXK"),r=n("3Pt+"),i=n("TEn/"),a=n("tyNb"),s=n("oXKM"),c=n("fXoL");const l=[{path:"",component:s.a}];let u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({imports:[[a.h.forChild(l)],a.h]}),e})(),d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({imports:[[o.b,r.e,i.C,u]]}),e})()},RX8M:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var o=n("mrSG"),r=n("Gpoy"),i=n("VeQZ"),a=n("XNiG"),s=n("AytR"),c=n("fXoL"),l=n("tk/3"),u=n("mpGk"),d=n("8k+r");let p=(()=>{class e{constructor(e,t,n){this.http=e,this.accountService=t,this.orderService=n,this.messages=[],this.connection=(new r.b).withUrl(`${s.a.signalRUrl}/orderHub`).build(),this.POST_URL=`${s.a.signalRUrl}/api/chat/send`,this.receivedMessageObject=new i.c,this.sharedObj=new a.a,this.connection.on("MessageReceived",(e,t)=>{this.mapReceivedMessage(e,t)})}stop(){return Object(o.a)(this,void 0,void 0,function*(){yield this.connection.stop(),console.log("Disconnected")})}start(){return Object(o.a)(this,void 0,void 0,function*(){try{yield this.connection.start(),yield this.orderService.getOrderForChat(this.accountService.userValue.id).subscribe(e=>{this.orderService.currentOrderId?this.connection.invoke("AddToRoom",this.orderService.currentOrderId):null==e||this.connection.invoke("AddToRoom",e.id)}),console.log("connected in chat")}catch(e){console.log(e),console.log("Reoonnecting in 1 sec."),setTimeout(()=>this.start(),1e3)}})}mapReceivedMessage(e,t){this.receivedMessageObject.user=e,this.receivedMessageObject.text=t,this.messages.push(this.receivedMessageObject),this.sharedObj.next(this.receivedMessageObject)}broadcastMessage(e){this.orderService.getOrderForChat(this.accountService.userValue.id).subscribe(t=>{t.id&&this.http.post(`${this.POST_URL}/${t.id}`,e).subscribe(()=>{})})}retrieveMappedObject(){return this.sharedObj.asObservable()}}return e.\u0275fac=function(t){return new(t||e)(c.Rb(l.a),c.Rb(u.a),c.Rb(d.a))},e.\u0275prov=c.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},Wwn5:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n("mrSG"),r=n("C6fG"),i=n("fXoL"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(o.b)(t,e),t.prototype.callNumber=function(e,t){return Object(r.cordova)(this,"callNumber",{callbackOrder:"reverse"},arguments)},t.prototype.isCallSupported=function(){return Object(r.cordova)(this,"isCallSupported",{},arguments)},t.pluginName="CallNumber",t.plugin="call-number",t.pluginRef="plugins.CallNumber",t.repo="https://github.com/Rohfosho/CordovaCallNumberPlugin",t.platforms=["Android","iOS"],t.\u0275fac=function(e){return n(e||t)},t.\u0275prov=i.Gb({token:t,factory:function(e){return t.\u0275fac(e)}});var n=i.Pb(t);return t}(r.IonicNativePlugin)},ZaV5:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});const o=async(e,t,n,o,r)=>{if(e)return e.attachViewToDom(t,n,r,o);if("string"!=typeof n&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const i="string"==typeof n?t.ownerDocument&&t.ownerDocument.createElement(n):n;return o&&o.forEach(e=>i.classList.add(e)),r&&Object.assign(i,r),t.appendChild(i),i.componentOnReady&&await i.componentOnReady(),i},r=(e,t)=>{if(t){if(e)return e.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()}},cf3W:function(e,t,n){"use strict";n.r(t),n.d(t,"HttpLoaderFactory",function(){return C}),n.d(t,"LocationPageModule",function(){return k});var o=n("ofXK"),r=n("3Pt+"),i=n("TEn/"),a=n("tyNb"),s=n("mrSG"),c=n("fXoL"),l=n("gcOT"),u=n("oXKM"),d=n("8k+r"),p=n("sYmb"),h=n("8Xdb");const g=["map"],b=["myButton"],{Geolocation:m}=l.c,f=[{path:"",component:(()=>{class e{constructor(e,t,n,o,r,i){this.route=e,this.orderService=t,this.navCtrl=n,this.translate=o,this.popoverController=r,this.accountService=i,this.markerUrl="../../assets/location.png",this.translate.setDefaultLang(this.accountService.userValue.choosenLanguage)}ngOnInit(){}ionViewDidEnter(){this.getLocation(),this.loadMap(this.mapRef)}onSubmit(){this.orderService.chosenLocation=this.address,this.route.navigate(["menu/destination"])}loadMap(e){return Object(s.a)(this,void 0,void 0,function*(){const t=yield m.getCurrentPosition(),n={lat:t.coords.latitude,lng:t.coords.longitude};this.orderService.userLocationLat=n.lat,this.orderService.userLocationLong=n.lng;const o={center:new google.maps.LatLng(n.lat,n.lng),zoom:15,disableDefaultUI:!0,mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(e.nativeElement,o);var r=new google.maps.Marker({position:new google.maps.LatLng(n),icon:this.markerUrl,map:this.map}),i=document.getElementById("searchTextField").getElementsByTagName("input")[0],a=new google.maps.places.SearchBox(i);this.orderService.selectedFavourite=null,this.map.addListener("bounds_changed",()=>{a.setBounds(this.map.getBounds())}),a.addListener("places_changed",()=>{const e=a.getPlaces();if(0!=e.length){var t=new google.maps.LatLngBounds;e.forEach(e=>{e.geometry?(r.setMap(null),r=new google.maps.Marker({position:e.geometry.location,map:this.map}),e.geometry.viewport?t.union(e.geometry.viewport):t.extend(e.geometry.location)):console.log("No Geometry")}),this.map.fitBounds(t)}});let c=new google.maps.Geocoder;google.maps.event.addListener(this.map,"idle",()=>Object(s.a)(this,void 0,void 0,function*(){var e=this.map.getCenter();const t={lat:e.lat(),lng:e.lng()};r&&r.setMap&&r.setMap(null),this.orderService.userLocationLat=t.lat,this.orderService.userLocationLong=t.lng,c.geocode({location:t},(e,t)=>{"OK"==t&&e[0]&&(this.address=e[0].formatted_address)})}))})}destination(){this.route.navigate(["menu/destination"])}getLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{this.longitude=e.coords.longitude,this.latitude=e.coords.latitude,this.callApi(this.longitude,this.latitude)}):console.log("No support for geolocation")}callApi(e,t){}openLanguagePopover(e){return Object(s.a)(this,void 0,void 0,function*(){const t=yield this.popoverController.create({component:u.a,event:e});yield t.present()})}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(a.f),c.Kb(d.a),c.Kb(i.E),c.Kb(p.d),c.Kb(i.H),c.Kb(h.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-location"]],viewQuery:function(e,t){if(1&e&&(c.vc(g,3,c.m),c.vc(b,1)),2&e){let e;c.hc(e=c.Wb())&&(t.mapRef=e.first),c.hc(e=c.Wb())&&(t.myButton=e.first)}},decls:27,vars:10,consts:[["slot","start"],["slot","end"],["id","toolbarIcon","name","language-outline",3,"click"],["id","searchTextField","type","text","clearInput","",3,"placeholder"],[1,"noScroll"],["id","map"],["map",""],["id","marker"],["marker",""],[1,"text-center"],[1,"btn","btn-info","text-center",3,"click"]],template:function(e,t){1&e&&(c.Nb(0,"ion-header"),c.Nb(1,"ion-toolbar"),c.Nb(2,"ion-buttons",0),c.Lb(3,"ion-menu-button"),c.Mb(),c.Nb(4,"ion-title"),c.Nb(5,"ion-label"),c.pc(6),c.Yb(7,"translate"),c.Mb(),c.Mb(),c.Nb(8,"ion-buttons",1),c.Nb(9,"ion-icon",2),c.Vb("click",function(e){return t.openLanguagePopover(e)}),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Nb(10,"ion-item"),c.Lb(11,"ion-input",3),c.Yb(12,"translate"),c.Mb(),c.Nb(13,"ion-content",4),c.Lb(14,"div",5,6),c.Lb(16,"div",7,8),c.Mb(),c.Nb(18,"ion-footer"),c.Nb(19,"ion-toolbar",9),c.Nb(20,"button",10),c.Vb("click",function(){return t.onSubmit()}),c.pc(21),c.Yb(22,"translate"),c.Mb(),c.Mb(),c.Mb(),c.Nb(23,"ion-footer"),c.Nb(24,"ion-toolbar",9),c.Nb(25,"p"),c.pc(26),c.Mb(),c.Mb(),c.Mb()),2&e&&(c.zb(6),c.qc(c.Zb(7,4,"Choose starting point")),c.zb(5),c.dc("placeholder",c.Zb(12,6,"Search location")),c.zb(10),c.qc(c.Zb(22,8,"Take me from here")),c.zb(5),c.qc(t.address))},directives:[i.l,i.B,i.e,i.s,i.A,i.p,i.m,i.o,i.n,i.K,i.i,i.k],pipes:[p.c],styles:[".noScroll[_ngcontent-%COMP%]{overflow:hidden}#marker[_ngcontent-%COMP%]{position:absolute;background:url(location.2c2142b0480f63125d3d.png) no-repeat;top:50%;left:50%;z-index:1;margin-left:-10px;margin-top:-34px;height:34px;width:20px;cursor:pointer}#map[_ngcontent-%COMP%]{height:100%;width:100%}ion-card[_ngcontent-%COMP%]{max-height:200px;overflow:scroll;position:absolute;z-index:1}ion-toolbar[_ngcontent-%COMP%]{--ion-background-color:#eee}ion-title[_ngcontent-%COMP%]{text-align:center}#toolbarIcon[_ngcontent-%COMP%]{font-size:1.7em}#toolbarIcon1[_ngcontent-%COMP%]{font-size:3em}.centered[_ngcontent-%COMP%]{text-align:center}.text[_ngcontent-%COMP%]{font-size:2.4em;font-family:Open Sans Light}i[_ngcontent-%COMP%]{color:#eee}.my-custom-class[_ngcontent-%COMP%]{--background:#e5e5e5}ion-select[_ngcontent-%COMP%]{color:#383838;background-color:#fff;border-radius:10px;border:3px solid #eee}.blink_me[_ngcontent-%COMP%]{-webkit-animation:blinker 1s linear infinite;animation:blinker 1s linear infinite}@-webkit-keyframes blinker{50%{opacity:0}}@keyframes blinker{50%{opacity:0}}.backIcon[_ngcontent-%COMP%]{font-size:150%}.back[_ngcontent-%COMP%], .backIcon[_ngcontent-%COMP%]{color:#ffae00}"]}),e})()}];let v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({imports:[[a.h.forChild(f)],a.h]}),e})();var y=n("tk/3"),M=n("mqiu"),O=n("QhVT");function C(e){return new M.a(e)}let k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({imports:[[o.b,r.e,i.C,v,p.b.forChild({loader:{provide:p.a,useFactory:C,deps:[y.a]}}),O.LanguagePopoverPageModule]]}),e})()},e7jj:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var o=n("z6cu"),r=n("vkgz"),i=n("JIr8"),a=n("AytR"),s=n("fXoL"),c=n("tk/3"),l=n("mpGk"),u=n("Dsd+");let d=(()=>{class e{constructor(e,t,n){this.http=e,this.accountService=t,this.sharedService=n,this.trips=[],this.currentTripDriverId=this.accountService.userValue.id,this.currentOrder=""}createTrip(e){const t=this.sharedService.headerGerneration();return this.currentTripOrderId=e.orderId,this.currentOrder=e.order,this.http.post(`${a.a.apiUrl}/api/trip`,e,{headers:t,responseType:"text"}).pipe(Object(r.a)(e=>console.log("created trip: ",JSON.stringify(e))),Object(i.a)(this.handleError))}getTrip(e){const t=this.sharedService.headerGerneration();return this.http.get(`${a.a.apiUrl}/api/trip/${e}`,{headers:t}).pipe(Object(r.a)(e=>this.trip=e),Object(i.a)(this.handleError))}startTrip(e){return this.http.put(`${a.a.apiUrl}/api/trip/start/${e}`,{responseType:"json"}).pipe(Object(i.a)(this.handleError))}navigateToUser(e,t){return this.http.put(`${a.a.apiUrl}/api/trip/navigate/${e}/${t}`,{responseType:"json"}).pipe(Object(i.a)(this.handleError))}cancelTrip(e){return this.http.put(`${a.a.apiUrl}/api/trip/cancel/${e}`,{responseType:"json"}).pipe(Object(i.a)(this.handleError))}completeTrip(e){return this.http.put(`${a.a.apiUrl}/api/trip/finish/${e}`,{responseType:"json"}).pipe(Object(i.a)(this.handleError))}handleError(e){let t="";return e.error instanceof ErrorEvent?(console.log("Client side error."),t=`Error: ${e.error.message}`):(console.log("Server side error."),t=`Error Code: ${e.status}\nMessage: ${e.message}`),console.log(t),Object(o.a)(t)}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(c.a),s.Rb(l.a),s.Rb(u.a))},e.\u0275prov=s.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},h3R7:function(e,t,n){"use strict";n.d(t,"a",function(){return o});const o={bubbles:{dur:1e3,circles:9,fn:(e,t,n)=>{const o=e*t/n-e+"ms",r=2*Math.PI*t/n;return{r:5,style:{top:9*Math.sin(r)+"px",left:9*Math.cos(r)+"px","animation-delay":o}}}},circles:{dur:1e3,circles:8,fn:(e,t,n)=>{const o=t/n,r=e*o-e+"ms",i=2*Math.PI*o;return{r:5,style:{top:9*Math.sin(i)+"px",left:9*Math.cos(i)+"px","animation-delay":r}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(e,t)=>({r:6,style:{left:9-9*t+"px","animation-delay":-110*t+"ms"}})},lines:{dur:1e3,lines:12,fn:(e,t,n)=>({y1:17,y2:29,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/n-e+"ms"}})},"lines-small":{dur:1e3,lines:12,fn:(e,t,n)=>({y1:12,y2:20,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/n-e+"ms"}})}}},oXKM:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var o=n("fXoL"),r=n("TEn/"),i=n("sYmb"),a=n("8Xdb"),s=n("ofXK");function c(e,t){1&e&&o.Lb(0,"ion-icon",5)}function l(e,t){if(1&e){const e=o.Ob();o.Nb(0,"ion-item",1),o.Vb("click",function(){o.jc(e);const n=t.$implicit;return o.Xb().select(n.value)}),o.Lb(1,"img",2),o.Nb(2,"ion-label",3),o.pc(3),o.Mb(),o.oc(4,c,1,0,"ion-icon",4),o.Mb()}if(2&e){const e=t.$implicit,n=o.Xb();o.zb(1),o.dc("src",e.img,o.lc),o.zb(2),o.rc(" ",e.text," "),o.zb(1),o.dc("ngIf",e.value==n.selected)}}let u=(()=>{class e{constructor(e,t,n){this.popoverController=e,this.translate=t,this.accountService=n,this.selected="",this.languages=[{text:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",value:"bg",img:"../../assets/bulgaria.png"},{text:"English",value:"en",img:"../../assets/english.png"}]}ngOnInit(){}select(e){this.translate.use(e),this.selected=e,this.accountService.userValue&&(this.accountService.userValue.choosenLanguage=e,this.accountService.updateLanguage(this.accountService.userValue.id,e).subscribe(()=>{})),this.popoverController.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(r.H),o.Kb(i.d),o.Kb(a.a))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-language-popover"]],decls:2,vars:1,consts:[["button","","detail","false",3,"click",4,"ngFor","ngForOf"],["button","","detail","false",3,"click"],["height","25","width","25","slot","start",3,"src"],["text-wrap",""],["slot","end","name","checkmark",4,"ngIf"],["slot","end","name","checkmark"]],template:function(e,t){1&e&&(o.Nb(0,"ion-list"),o.oc(1,l,5,3,"ion-item",0),o.Mb()),2&e&&(o.zb(1),o.dc("ngForOf",t.languages))},directives:[r.q,s.k,r.o,r.p,s.l,r.m],styles:[""]}),e})()},qULd:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return s});const o={getEngine(){const e=window;return e.TapticEngine||e.Capacitor&&e.Capacitor.isPluginAvailable("Haptics")&&e.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(e){const t=this.getEngine();if(!t)return;const n=this.isCapacitor()?e.style.toUpperCase():e.style;t.impact({style:n})},notification(e){const t=this.getEngine();if(!t)return;const n=this.isCapacitor()?e.style.toUpperCase():e.style;t.notification({style:n})},selection(){this.impact({style:"light"})},selectionStart(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionStart():e.gestureSelectionStart())},selectionChanged(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())},selectionEnd(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionEnd():e.gestureSelectionEnd())}},r=()=>{o.selection()},i=()=>{o.selectionStart()},a=()=>{o.selectionChanged()},s=()=>{o.selectionEnd()},c=e=>{o.impact(e)}}}]);