(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"2w85":function(e,r,t){"use strict";t.r(r),t.d(r,"HttpLoaderFactory",function(){return X}),t.d(r,"RegisterPageModule",function(){return V});var o=t("ofXK"),n=t("3Pt+"),i=t("TEn/"),s=t("tyNb"),b=t("mrSG"),c=t("Gpoy"),a=t("SxV6"),d=t("oXKM"),l=t("AytR"),u=t("fXoL"),f=t("8Xdb"),m=t("exMm"),g=t("sYmb");function p(e,r){if(1&e&&(u.Nb(0,"ion-text",24),u.Nb(1,"div",25),u.pc(2),u.Mb(),u.Mb()),2&e){const e=u.Xb();u.zb(2),u.qc(e.err)}}function h(e,r){1&e&&(u.Nb(0,"div"),u.pc(1),u.Yb(2,"translate"),u.Mb()),2&e&&(u.zb(1),u.rc("",u.Zb(2,1,"The field is required"),"!"))}function v(e,r){if(1&e&&(u.Nb(0,"div",26),u.oc(1,h,3,3,"div",27),u.Mb()),2&e){const e=u.Xb();u.zb(1),u.dc("ngIf",e.f.firstName.errors.required)}}function N(e,r){1&e&&(u.Nb(0,"div"),u.pc(1),u.Yb(2,"translate"),u.Mb()),2&e&&(u.zb(1),u.rc("",u.Zb(2,1,"The field is required"),"!"))}function M(e,r){if(1&e&&(u.Nb(0,"div",26),u.oc(1,N,3,3,"div",27),u.Mb()),2&e){const e=u.Xb();u.zb(1),u.dc("ngIf",e.f.lastName.errors.required)}}function C(e,r){1&e&&(u.Nb(0,"div"),u.pc(1),u.Yb(2,"translate"),u.Mb()),2&e&&(u.zb(1),u.rc("",u.Zb(2,1,"The field is required"),"!"))}function z(e,r){if(1&e&&(u.Nb(0,"div",26),u.oc(1,C,3,3,"div",27),u.Mb()),2&e){const e=u.Xb();u.zb(1),u.dc("ngIf",e.f.username.errors.required)}}function w(e,r){1&e&&(u.Nb(0,"div"),u.pc(1),u.Yb(2,"translate"),u.Mb()),2&e&&(u.zb(1),u.rc("",u.Zb(2,1,"The field is required"),"!"))}function P(e,r){if(1&e&&(u.Nb(0,"div",26),u.oc(1,w,3,3,"div",27),u.Mb()),2&e){const e=u.Xb();u.zb(1),u.dc("ngIf",e.f.phone.errors.required)}}function I(e,r){1&e&&(u.Nb(0,"div"),u.pc(1),u.Yb(2,"translate"),u.Mb()),2&e&&(u.zb(1),u.rc("",u.Zb(2,1,"The field is required"),"!"))}function y(e,r){if(1&e&&(u.Nb(0,"div",26),u.oc(1,I,3,3,"div",27),u.Mb()),2&e){const e=u.Xb();u.zb(1),u.dc("ngIf",e.f.password.errors.required)}}function q(e,r){1&e&&(u.Nb(0,"div"),u.pc(1),u.Yb(2,"translate"),u.Mb()),2&e&&(u.zb(1),u.rc("",u.Zb(2,1,"The field is required"),"!"))}function L(e,r){1&e&&(u.Nb(0,"div"),u.pc(1),u.Yb(2,"translate"),u.Mb()),2&e&&(u.zb(1),u.rc("",u.Zb(2,1,"Password should match"),"!"))}function Y(e,r){if(1&e&&(u.Nb(0,"div",26),u.oc(1,q,3,3,"div",27),u.oc(2,L,3,3,"div",27),u.Mb()),2&e){const e=u.Xb();u.zb(1),u.dc("ngIf",e.f.confirmPassword.errors.required),u.zb(1),u.dc("ngIf",e.f.confirmPassword.errors.confirmedValidator)}}const x=function(e){return{"is-invalid":e}},Z=[{path:"",component:(()=>{class e{constructor(e,r,t,o,n,i,s,b){this.route=e,this.formBuilder=r,this.accountService=t,this.alertService=o,this.driverService=n,this.translate=i,this.popoverController=s,this.alertController=b,this.submitted=!1,this.loading=!1,this.err="",this.translate.setDefaultLang("en")}ngOnInit(){this.form=this.formBuilder.group({firstName:["",n.n.required],lastName:["",n.n.required],username:["",n.n.required],password:["",n.n.required],confirmPassword:["",n.n.required],phone:["",n.n.required],referral:[""]},{validators:this.ConfirmedValidator("password","confirmPassword")}),(new c.b).configureLogging(c.c.Information).withUrl(`${l.a.signalRUrl}/orderHub`).build().start().then(function(){console.log("signalR Connected in register")}).catch(function(e){return console.log(e.toString())})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.form.valid&&(this.loading=!0,this.accountService.register(this.form.value).pipe(Object(a.a)()).subscribe(e=>{this.presentAlert(),this.route.navigate(["menu/home"]),console.log(e)},e=>{console.log(e.error),this.err=e.error,this.loading=!1}))}signIn(){this.route.navigate(["menu/home"])}goBack(){this.route.navigate(["menu/home"])}openLanguagePopover(e){return Object(b.a)(this,void 0,void 0,function*(){const r=yield this.popoverController.create({component:d.a,event:e});yield r.present()})}ConfirmedValidator(e,r){return t=>{const o=t.controls[r];o.errors&&!o.errors.confirmedValidator||o.setErrors(t.controls[e].value!==o.value?{confirmedValidator:!0}:null)}}presentAlert(){return Object(b.a)(this,void 0,void 0,function*(){const e=yield this.alertController.create({cssClass:"my-custom-class",header:"Successfull registration",message:"Log in and book a car.",buttons:["OK"]});yield e.present()})}}return e.\u0275fac=function(r){return new(r||e)(u.Kb(s.f),u.Kb(n.b),u.Kb(f.a),u.Kb(f.b),u.Kb(m.a),u.Kb(g.d),u.Kb(i.H),u.Kb(i.a))},e.\u0275cmp=u.Eb({type:e,selectors:[["app-register"]],decls:53,vars:56,consts:[["slot","start"],["slot","end"],["id","toolbarIcon","name","language-outline",3,"click"],["padding","",1,"background"],[1,"row"],[1,"col"],["color","dark",1,"text-center"],[1,"row","text-center"],["novalidate","",1,"col-md-6",3,"formGroup","ngSubmit"],["color","danger",4,"ngIf"],[1,"form-group","col","mt-5"],["formControlName","firstName","type","text",1,"form-control",3,"placeholder","ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"form-group","col","mt-3"],["formControlName","lastName","type","text",1,"form-control",3,"placeholder","ngClass"],["formControlName","username","type","text",1,"form-control",3,"placeholder","ngClass"],["formControlName","phone","type","text",1,"form-control",3,"placeholder","ngClass"],["formControlName","password","type","password",1,"form-control",3,"placeholder","ngClass"],["formControlName","confirmPassword","type","password",1,"form-control",3,"placeholder","ngClass"],[1,"col-md-12","mt-3"],["type","submit",1,"btn","btn-info"],[1,"col-md-6","mt-3"],[1,"fonted"],["type","submit",1,"btn","btn-warning",3,"click"],["color","danger"],[1,"text-center"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,r){1&e&&(u.Nb(0,"ion-header"),u.Nb(1,"ion-toolbar"),u.Nb(2,"ion-buttons",0),u.Lb(3,"ion-menu-button"),u.Mb(),u.Nb(4,"ion-title"),u.Nb(5,"ion-label"),u.pc(6),u.Yb(7,"translate"),u.Mb(),u.Mb(),u.Nb(8,"ion-buttons",1),u.Nb(9,"ion-icon",2),u.Vb("click",function(e){return r.openLanguagePopover(e)}),u.Mb(),u.Mb(),u.Mb(),u.Mb(),u.Nb(10,"ion-content",3),u.Nb(11,"div",4),u.Nb(12,"div",5),u.Lb(13,"div",4),u.Nb(14,"ion-text",6),u.Nb(15,"div",7),u.Nb(16,"form",8),u.Vb("ngSubmit",function(){return r.onSubmit()}),u.oc(17,p,3,1,"ion-text",9),u.Nb(18,"div",10),u.Lb(19,"ion-input",11),u.Yb(20,"translate"),u.oc(21,v,2,1,"div",12),u.Mb(),u.Nb(22,"div",13),u.Lb(23,"ion-input",14),u.Yb(24,"translate"),u.oc(25,M,2,1,"div",12),u.Mb(),u.Nb(26,"div",13),u.Lb(27,"ion-input",15),u.Yb(28,"translate"),u.oc(29,z,2,1,"div",12),u.Mb(),u.Nb(30,"div",13),u.Lb(31,"ion-input",16),u.Yb(32,"translate"),u.oc(33,P,2,1,"div",12),u.Mb(),u.Nb(34,"div",13),u.Lb(35,"ion-input",17),u.Yb(36,"translate"),u.oc(37,y,2,1,"div",12),u.Mb(),u.Nb(38,"div",13),u.Lb(39,"ion-input",18),u.Yb(40,"translate"),u.oc(41,Y,3,2,"div",12),u.Mb(),u.Nb(42,"div",19),u.Nb(43,"button",20),u.pc(44),u.Yb(45,"translate"),u.Mb(),u.Mb(),u.Mb(),u.Nb(46,"div",21),u.Nb(47,"p",22),u.pc(48),u.Yb(49,"translate"),u.Mb(),u.Nb(50,"button",23),u.Vb("click",function(){return r.signIn()}),u.pc(51),u.Yb(52,"translate"),u.Mb(),u.Mb(),u.Mb(),u.Mb(),u.Mb(),u.Mb(),u.Mb()),2&e&&(u.zb(6),u.qc(u.Zb(7,24,"Register")),u.zb(10),u.dc("formGroup",r.form),u.zb(1),u.dc("ngIf",r.err),u.zb(2),u.dc("placeholder",u.Zb(20,26,"First Name"))("ngClass",u.gc(44,x,r.submitted&&r.f.firstName.errors)),u.zb(2),u.dc("ngIf",r.submitted&&r.f.firstName.errors),u.zb(2),u.dc("placeholder",u.Zb(24,28,"Last Name"))("ngClass",u.gc(46,x,r.submitted&&r.f.lastName.errors)),u.zb(2),u.dc("ngIf",r.submitted&&r.f.lastName.errors),u.zb(2),u.dc("placeholder",u.Zb(28,30,"Email"))("ngClass",u.gc(48,x,r.submitted&&r.f.username.errors)),u.zb(2),u.dc("ngIf",r.submitted&&r.f.username.errors),u.zb(2),u.dc("placeholder",u.Zb(32,32,"Phone Number"))("ngClass",u.gc(50,x,r.submitted&&r.f.phone.errors)),u.zb(2),u.dc("ngIf",r.submitted&&r.f.phone.errors),u.zb(2),u.dc("placeholder",u.Zb(36,34,"Password"))("ngClass",u.gc(52,x,r.submitted&&r.f.password.errors)),u.zb(2),u.dc("ngIf",r.submitted&&r.f.password.errors),u.zb(2),u.dc("placeholder",u.Zb(40,36,"Confirm Password"))("ngClass",u.gc(54,x,r.submitted&&r.f.confirmPassword.errors)),u.zb(2),u.dc("ngIf",r.submitted&&r.f.confirmPassword.errors),u.zb(3),u.rc(" ",u.Zb(45,38,"Confirm"),""),u.zb(4),u.rc("",u.Zb(49,40,"Already have an account"),"?"),u.zb(3),u.qc(u.Zb(52,42,"Sign in")))},directives:[i.l,i.B,i.e,i.s,i.A,i.p,i.m,i.i,i.z,n.o,n.i,n.d,o.l,i.n,i.K,n.h,n.c,o.j],pipes:[g.c],styles:["ion-content[_ngcontent-%COMP%]{--ion-background-color:#e9e9e9}ion-toolbar[_ngcontent-%COMP%]{--ion-background-color:#eee}ion-title[_ngcontent-%COMP%]{text-align:center}#toolbarIcon[_ngcontent-%COMP%]{font-size:1.7em}.fonted[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{font-family:Open Sans Light}.text[_ngcontent-%COMP%]{font-size:2.4em}.reg[_ngcontent-%COMP%]{margin-top:20px}ion-input[_ngcontent-%COMP%]{border-radius:20px}"]}),e})()}];let k=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=u.Ib({type:e}),e.\u0275inj=u.Hb({imports:[[s.h.forChild(Z)],s.h]}),e})();var O=t("tk/3"),S=t("mqiu"),K=t("QhVT");function X(e){return new S.a(e)}let V=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=u.Ib({type:e}),e.\u0275inj=u.Hb({imports:[[o.b,n.l,n.e,i.C,k,g.b.forChild({loader:{provide:g.a,useFactory:X,deps:[O.a]}}),K.LanguagePopoverPageModule]]}),e})()}}]);