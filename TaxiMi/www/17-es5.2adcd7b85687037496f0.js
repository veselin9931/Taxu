!function(){function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{xInB:function(t,o,r){"use strict";r.r(o),r.d(o,"HttpLoaderFactory",function(){return S}),r.d(o,"LoginPageModule",function(){return X});var i=r("ofXK"),c=r("3Pt+"),b=r("tk/3"),a=r("TEn/"),s=r("tyNb"),l=r("mrSG"),d=r("Gpoy"),u=r("SxV6"),f=r("oXKM"),g=r("AytR"),p=r("fXoL"),m=r("8Xdb"),v=r("sYmb");function h(n,e){if(1&n&&(p.Nb(0,"ion-text",35),p.Nb(1,"div",28),p.pc(2),p.Mb(),p.Mb()),2&n){var t=p.Xb(2);p.zb(2),p.qc(t.err)}}function M(n,e){1&n&&(p.Nb(0,"div"),p.pc(1),p.Yb(2,"translate"),p.Mb()),2&n&&(p.zb(1),p.rc("",p.Zb(2,1,"The field is required"),"!"))}function N(n,e){if(1&n&&(p.Nb(0,"div",36),p.oc(1,M,3,3,"div",37),p.Mb()),2&n){var t=p.Xb(2);p.zb(1),p.dc("ngIf",1==t.submitted&&t.f.username.errors.required)}}function w(n,e){1&n&&(p.Nb(0,"div"),p.pc(1),p.Yb(2,"translate"),p.Mb()),2&n&&(p.zb(1),p.rc("",p.Zb(2,1,"The field is required"),"!"))}function k(n,e){if(1&n&&(p.Nb(0,"div",36),p.oc(1,w,3,3,"div",37),p.Mb()),2&n){var t=p.Xb(2);p.zb(1),p.dc("ngIf",1==t.submitted&&t.f.password.errors.required)}}function C(n,e){1&n&&p.Lb(0,"span",38)}var x=function(n){return{"is-invalid":n}};function y(n,e){if(1&n){var t=p.Ob();p.Nb(0,"ion-content",4),p.Nb(1,"div",5),p.Nb(2,"div",6),p.Nb(3,"ion-text",7),p.Nb(4,"div",8),p.Lb(5,"img",9),p.Mb(),p.Nb(6,"h4",10),p.pc(7),p.Yb(8,"translate"),p.Mb(),p.Mb(),p.Mb(),p.Mb(),p.Nb(9,"div",11),p.Nb(10,"div",12),p.Nb(11,"div",11),p.Nb(12,"form",13),p.oc(13,h,3,1,"ion-text",14),p.Nb(14,"div",15),p.Lb(15,"ion-input",16),p.Yb(16,"translate"),p.oc(17,N,2,1,"div",17),p.Mb(),p.Nb(18,"div",18),p.Lb(19,"ion-input",19),p.Yb(20,"translate"),p.oc(21,k,2,1,"div",17),p.Mb(),p.Nb(22,"div",20),p.Lb(23,"div",21),p.Nb(24,"div",22),p.Nb(25,"button",23),p.Vb("click",function(){return p.jc(t),p.Xb().onSubmit()}),p.pc(26),p.Yb(27,"translate"),p.oc(28,C,1,0,"span",24),p.Mb(),p.Mb(),p.Mb(),p.Nb(29,"div",25),p.Nb(30,"p",10),p.pc(31),p.Yb(32,"translate"),p.Mb(),p.Nb(33,"button",26),p.Vb("click",function(){return p.jc(t),p.Xb().signUp()}),p.pc(34),p.Yb(35,"translate"),p.Mb(),p.Mb(),p.Mb(),p.Mb(),p.Mb(),p.Mb(),p.Nb(36,"div",11),p.Nb(37,"div",27),p.Nb(38,"div",28),p.Nb(39,"div",6),p.Nb(40,"div",29),p.Nb(41,"div",12),p.Nb(42,"ion-item"),p.Lb(43,"ion-icon",30),p.Nb(44,"h3",31),p.pc(45,"@Instagram"),p.Mb(),p.Mb(),p.Mb(),p.Nb(46,"div",32),p.Nb(47,"ion-item"),p.Lb(48,"ion-icon",33),p.Nb(49,"h3",31),p.pc(50,"@Facebook"),p.Mb(),p.Mb(),p.Mb(),p.Nb(51,"div",32),p.Nb(52,"ion-item"),p.Lb(53,"ion-icon",34),p.Nb(54,"h3",31),p.pc(55,"@Twitter"),p.Mb(),p.Mb(),p.Mb(),p.Mb(),p.Mb(),p.Mb(),p.Mb(),p.Mb(),p.Mb()}if(2&n){var o=p.Xb();p.zb(7),p.qc(p.Zb(8,13,"Enter your credentials")),p.zb(5),p.dc("formGroup",o.form),p.zb(1),p.dc("ngIf",o.err),p.zb(2),p.dc("placeholder",p.Zb(16,15,"Email"))("ngClass",p.gc(25,x,1==o.submitted&&o.f.username.errors)),p.zb(2),p.dc("ngIf",1==o.submitted&&o.f.username.errors),p.zb(2),p.dc("placeholder",p.Zb(20,17,"Password"))("ngClass",p.gc(27,x,1==o.submitted&&o.f.password.errors)),p.zb(2),p.dc("ngIf",1==o.submitted&&o.f.password.errors),p.zb(5),p.rc("",p.Zb(27,19,"Login")," "),p.zb(2),p.dc("ngIf",o.loading),p.zb(3),p.rc("",p.Zb(32,21,"Dont have an account"),"?"),p.zb(3),p.qc(p.Zb(35,23,"Register"))}}var P,I,O=[{path:"",component:(P=function(){function t(e,o,r,i,c,b){n(this,t),this.route=e,this.formBuilder=o,this.alertService=r,this.accountService=i,this.translate=c,this.popoverController=b,this.err="",this.loading=!1,this.logo="../../../../resources/IMG_6400.JPG",this.isLoggedIn=localStorage.getItem("user"),this.translate.setDefaultLang("en")}var o,r,i;return o=t,(r=[{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({username:["",c.n.required],password:["",c.n.required]}),this.isLoggedIn&&this.route.navigate(["menu/travelling"]),(new d.b).configureLogging(d.c.Information).withUrl("".concat(g.a.signalRUrl,"/orderHub")).build().start().then(function(){console.log("signalR Connected in login")}).catch(function(n){return console.log(n.toString())})}},{key:"f",get:function(){return this.form.controls}},{key:"onSubmit",value:function(){var n=this;this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.accountService.login(this.f.username.value,this.f.password.value).pipe(Object(u.a)()).subscribe(function(e){n.accountService.updateDriving(n.accountService.userValue.id,!1).subscribe(function(n){console.log("success")}),n.route.navigate(["menu/travelling"]),n.loading=!1},function(e){console.log(e.error.message),n.err=e.error.message,n.loading=!1}))}},{key:"signUp",value:function(){this.route.navigate(["menu/account/register"])}},{key:"openLanguagePopover",value:function(n){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.popoverController.create({component:f.a,event:n});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}},e,this)}))}},{key:"clearForm",value:function(){this.form.reset({username:"",password:""})}}])&&e(o.prototype,r),i&&e(o,i),t}(),P.\u0275fac=function(n){return new(n||P)(p.Kb(s.f),p.Kb(c.b),p.Kb(m.b),p.Kb(m.a),p.Kb(v.d),p.Kb(a.H))},P.\u0275cmp=p.Eb({type:P,selectors:[["app-login"]],decls:10,vars:1,consts:[["slot","start"],["slot","end"],["id","toolbarIcon","name","language-outline",3,"click"],["padding","","class","background",4,"ngIf"],["padding","",1,"background"],[1,"row","mt-2"],[1,"col","text-center"],[1,"centered"],[1,"col","mt-1"],["src","../../../assets/logo_trans_230x120.png","alt","image"],[1,"subtitle","fonted"],[1,"row"],[1,"col-md-12"],["novalidate","",1,"col-md-6",3,"formGroup"],["color","danger",4,"ngIf"],[1,"form-group","col","mt-2","text-center"],["formControlName","username","type","text",1,"form-control",3,"placeholder","ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"form-group","col","mt-3","text-center"],["formControlName","password","type","password",1,"form-control",3,"placeholder","ngClass"],[1,"d-flex","w-100","justify-content-between"],[1,"form-group","col","mt-1","mr-2"],[1,"col-","mr-3"],["type","submit",1,"btn","btn-dark",3,"click"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"form-group","col","mr-2"],["type","submit",1,"btn","btn-danger",3,"click"],[1,"col"],[1,"text-center"],[1,"row","text-center"],["name","logo-instagram","item-start","",1,"ig"],["item-end","",1,"iconsText","ml-2"],[1,"col-md-12","mt-1"],["name","logo-facebook","item-start","",1,"fb"],["name","logo-twitter","item-start","",1,"tw"],["color","danger"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(n,e){1&n&&(p.Nb(0,"ion-header"),p.Nb(1,"ion-toolbar"),p.Nb(2,"ion-buttons",0),p.Lb(3,"ion-menu-button"),p.Mb(),p.Nb(4,"ion-title"),p.Nb(5,"ion-label"),p.pc(6,"Cyber(v2.4)"),p.Mb(),p.Mb(),p.Nb(7,"ion-buttons",1),p.Nb(8,"ion-icon",2),p.Vb("click",function(n){return e.openLanguagePopover(n)}),p.Mb(),p.Mb(),p.Mb(),p.Mb(),p.oc(9,y,56,29,"ion-content",3)),2&n&&(p.zb(9),p.dc("ngIf",!e.isLoggedIn))},directives:[a.l,a.B,a.e,a.s,a.A,a.p,a.m,i.l,a.i,a.z,c.o,c.i,c.d,a.n,a.K,c.h,c.c,i.j,a.o],pipes:[v.c],styles:["ion-content[_ngcontent-%COMP%]{--ion-background-color:#e9e9e9}.centered[_ngcontent-%COMP%]{text-align:center}.text[_ngcontent-%COMP%]{font-size:2.4em;font-family:Open Sans Light}ion-toolbar[_ngcontent-%COMP%]{--ion-background-color:#eee}.fonted[_ngcontent-%COMP%]{font-family:Open Sans Light}ion-title[_ngcontent-%COMP%]{text-align:center}#toolbarIcon[_ngcontent-%COMP%]{font-size:1.7em}.subtitle[_ngcontent-%COMP%]{font-size:1em}ion-item[_ngcontent-%COMP%]{--background:none;opacity:1;--border-width:0;--inner-border-width:0}.iconsText[_ngcontent-%COMP%]{font-family:Open Sans Light;font-size:1em}.ig[_ngcontent-%COMP%]{display:inline-block;width:35px;height:35px;text-align:center;border-radius:80px;color:#fff;font-size:220px;line-height:250px;vertical-align:middle;background:#d6249f;background:radial-gradient(circle at 30% 107%,#fdf497 0,#fdf497 5%,#fd5949 45%,#d6249f 60%,#285aeb 90%);box-shadow:0 3px 10px rgba(0,0,0,.25)}.fb[_ngcontent-%COMP%]{color:#3b5998}.fb[_ngcontent-%COMP%], .tw[_ngcontent-%COMP%]{font-size:200%}.tw[_ngcontent-%COMP%]{color:#12b8fa}ion-input[_ngcontent-%COMP%]{border-radius:20px;border:3px solid #eee}.backIcon[_ngcontent-%COMP%]{font-size:150%}.back[_ngcontent-%COMP%], .backIcon[_ngcontent-%COMP%]{color:#ffae00}"]}),P)}],z=((I=function e(){n(this,e)}).\u0275fac=function(n){return new(n||I)},I.\u0275mod=p.Ib({type:I}),I.\u0275inj=p.Hb({imports:[[s.h.forChild(O)],s.h]}),I),L=r("mqiu"),_=r("QhVT");function S(n){return new L.a(n)}var q,X=((q=function e(){n(this,e)}).\u0275fac=function(n){return new(n||q)},q.\u0275mod=p.Ib({type:q}),q.\u0275inj=p.Hb({imports:[[b.b,i.b,c.l,c.e,a.C,z,v.b.forChild({loader:{provide:v.a,useFactory:S,deps:[b.a]}}),_.LanguagePopoverPageModule]]}),q)}}])}();