!function(){function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}(self.webpackChunkcsharpcornerauthor=self.webpackChunkcsharpcornerauthor||[]).push([[2930],{2930:function(t,o,r){"use strict";r.r(o),r.d(o,{HttpLoaderFactory:function(){return I},LoginPageModule:function(){return L}});var i=r(8583),a=r(3679),c=r(1841),s=r(7823),u=r(4481),l=r(4762),g=r(4426),f=r(8049),d=r(6522),p=r(2340),m=r(3018),v=r(5056),Z=r(7800);function b(n,e){if(1&n&&(m.TgZ(0,"ion-text",27),m.TgZ(1,"div",28),m._uU(2),m.qZA(),m.qZA()),2&n){var t=m.oxw(2);m.xp6(2),m.Oqu(t.err)}}function h(n,e){1&n&&(m.TgZ(0,"div"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&n&&(m.xp6(1),m.hij("",m.lcZ(2,1,"The field is required"),"!"))}function x(n,e){if(1&n&&(m.TgZ(0,"div",29),m.YNc(1,h,3,3,"div",30),m.qZA()),2&n){var t=m.oxw(2);m.xp6(1),m.Q6J("ngIf",1==t.submitted&&t.f.username.errors.required)}}function w(n,e){1&n&&(m.TgZ(0,"div"),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&n&&(m.xp6(1),m.hij("",m.lcZ(2,1,"The field is required"),"!"))}function q(n,e){if(1&n&&(m.TgZ(0,"div",29),m.YNc(1,w,3,3,"div",30),m.qZA()),2&n){var t=m.oxw(2);m.xp6(1),m.Q6J("ngIf",1==t.submitted&&t.f.password.errors.required)}}function A(n,e){1&n&&m._UZ(0,"span",31)}var k=function(n){return{"is-invalid":n}};function C(n,e){if(1&n){var t=m.EpF();m.TgZ(0,"ion-content",4),m.TgZ(1,"div",5),m.TgZ(2,"div",6),m.TgZ(3,"ion-text",7),m.TgZ(4,"div",8),m._UZ(5,"img",9),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(6,"div",10),m.TgZ(7,"div",11),m.TgZ(8,"div",10),m.TgZ(9,"form",12),m.YNc(10,b,3,1,"ion-text",13),m.TgZ(11,"div",14),m._UZ(12,"ion-input",15),m.ALo(13,"translate"),m.YNc(14,x,2,1,"div",16),m.qZA(),m.TgZ(15,"div",17),m._UZ(16,"ion-input",18),m.ALo(17,"translate"),m.YNc(18,q,2,1,"div",16),m.qZA(),m.TgZ(19,"div",19),m._UZ(20,"div",20),m.TgZ(21,"div",21),m.TgZ(22,"button",22),m.NdJ("click",function(){return m.CHM(t),m.oxw().onSubmit()}),m._uU(23),m.ALo(24,"translate"),m.YNc(25,A,1,0,"span",23),m.qZA(),m.qZA(),m.qZA(),m.TgZ(26,"div",24),m.TgZ(27,"p",25),m._uU(28),m.ALo(29,"translate"),m.qZA(),m.TgZ(30,"button",26),m.NdJ("click",function(){return m.CHM(t),m.oxw().signUp()}),m._uU(31),m.ALo(32,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&n){var o=m.oxw();m.xp6(9),m.Q6J("formGroup",o.form),m.xp6(1),m.Q6J("ngIf",o.err),m.xp6(2),m.Q6J("placeholder",m.lcZ(13,12,"Email"))("ngClass",m.VKq(22,k,1==o.submitted&&o.f.username.errors)),m.xp6(2),m.Q6J("ngIf",1==o.submitted&&o.f.username.errors),m.xp6(2),m.Q6J("placeholder",m.lcZ(17,14,"Password"))("ngClass",m.VKq(24,k,1==o.submitted&&o.f.password.errors)),m.xp6(2),m.Q6J("ngIf",1==o.submitted&&o.f.password.errors),m.xp6(5),m.hij("",m.lcZ(24,16,"Login")," "),m.xp6(2),m.Q6J("ngIf",o.loading),m.xp6(3),m.hij("",m.lcZ(29,18,"Dont have an account"),"?"),m.xp6(3),m.Oqu(m.lcZ(32,20,"Register"))}}var _,T=[{path:"",component:(_=function(){function t(e,o,r,i,a){n(this,t),this.route=e,this.formBuilder=o,this.accountService=r,this.translate=i,this.popoverController=a,this.err="",this.loading=!1,this.logo="../../../../resources/IMG_6400.JPG",this.isLoggedIn=localStorage.getItem("user"),this.translate.setDefaultLang("bg")}var o,r,i;return o=t,(r=[{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({username:["",a.kI.required],password:["",a.kI.required]}),this.isLoggedIn&&this.route.navigate(["menu/travelling"]),(new g.su).configureLogging(g.in.Information).withUrl("".concat(p.N.signalRUrl,"/orderHub")).build().start().then(function(){console.log("signalR Connected in login")}).catch(function(n){return console.log(n.toString())})}},{key:"f",get:function(){return this.form.controls}},{key:"onSubmit",value:function(){var n=this;this.submitted=!0,this.form.invalid||(this.loading=!0,this.accountService.login(this.f.username.value,this.f.password.value).pipe((0,f.P)()).subscribe(function(e){n.accountService.updateDriving(n.accountService.userValue.id,!1).subscribe(function(n){console.log("success")}),n.route.navigate(["menu/travelling"]),n.loading=!1},function(e){console.log(e.error.message),n.err=e.error.message,n.loading=!1}))}},{key:"signUp",value:function(){this.route.navigate(["menu/account/register"])}},{key:"openLanguagePopover",value:function(n){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.popoverController.create({component:d.m,event:n});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}},e,this)}))}},{key:"clearForm",value:function(){this.form.reset({username:"",password:""})}}])&&e(o.prototype,r),i&&e(o,i),t}(),_.\u0275fac=function(n){return new(n||_)(m.Y36(u.F0),m.Y36(a.qu),m.Y36(v.B),m.Y36(Z.sK),m.Y36(s.Dh))},_.\u0275cmp=m.Xpm({type:_,selectors:[["app-login"]],decls:10,vars:1,consts:[["slot","start"],["slot","end"],["id","toolbarIcon","name","language-outline",3,"click"],["padding","","class","background",4,"ngIf"],["padding","",1,"background"],[1,"row","mt-2"],[1,"col","text-center"],[1,"centered"],[1,"col","mt-1"],["src","../../../assets/logo_trans_230x120.png","alt","image"],[1,"row"],[1,"col-md-12"],["novalidate","",1,"col-md-6",3,"formGroup"],["color","danger",4,"ngIf"],[1,"form-group","col","mt-2","text-center"],["formControlName","username","type","text",1,"form-control",3,"placeholder","ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"form-group","col","mt-3","text-center"],["formControlName","password","type","password",1,"form-control",3,"placeholder","ngClass"],[1,"d-flex","w-100","justify-content-between"],[1,"form-group","col","mt-1","mr-2"],[1,"col-","mr-3"],["type","submit",1,"btn","btn-light",3,"click"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"form-group","col","mr-2"],[1,"subtitle","fonted"],["type","submit",1,"btn","btn-warning",3,"click"],["color","danger"],[1,"text-center"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(n,e){1&n&&(m.TgZ(0,"ion-header"),m.TgZ(1,"ion-toolbar"),m.TgZ(2,"ion-buttons",0),m._UZ(3,"ion-menu-button"),m.qZA(),m.TgZ(4,"ion-title"),m.TgZ(5,"ion-label"),m._uU(6,"Cyber(v3.1)"),m.qZA(),m.qZA(),m.TgZ(7,"ion-buttons",1),m.TgZ(8,"ion-icon",2),m.NdJ("click",function(n){return e.openLanguagePopover(n)}),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.YNc(9,C,33,26,"ion-content",3)),2&n&&(m.xp6(9),m.Q6J("ngIf",!e.isLoggedIn))},directives:[s.Gu,s.sr,s.Sm,s.fG,s.wd,s.Q$,s.gu,i.O5,s.W2,s.yW,a.Y7,a.JL,a.sg,s.pK,s.j9,a.JJ,a.u,i.mk],pipes:[Z.X$],styles:["ion-content[_ngcontent-%COMP%]{--background:url(back-2.jpeg) 0 0/100% 100% no-repeat;background-size:100%}.centered[_ngcontent-%COMP%]{text-align:center}.text[_ngcontent-%COMP%]{font-size:2.4em;font-family:Open Sans Light}ion-toolbar[_ngcontent-%COMP%]{--ion-background-color:#eee}.fonted[_ngcontent-%COMP%]{color:#fff}ion-title[_ngcontent-%COMP%]{text-align:center}#toolbarIcon[_ngcontent-%COMP%]{font-size:1.7em}.subtitle[_ngcontent-%COMP%]{font-family:Open Sans Light;font-size:1em}ion-item[_ngcontent-%COMP%]{--background:none;opacity:1;--border-width:0;--inner-border-width:0}.iconsText[_ngcontent-%COMP%]{font-family:Open Sans Light;font-size:1em}.ig[_ngcontent-%COMP%]{display:inline-block;width:35px;height:35px;text-align:center;border-radius:80px;color:#fff;font-size:220px;line-height:250px;vertical-align:middle;background:#d6249f;background:radial-gradient(circle at 30% 107%,#fdf497 0,#fdf497 5%,#fd5949 45%,#d6249f 60%,#285aeb 90%);box-shadow:0 3px 10px rgba(0,0,0,.25)}.fb[_ngcontent-%COMP%]{color:#3b5998}.fb[_ngcontent-%COMP%], .tw[_ngcontent-%COMP%]{font-size:200%}.tw[_ngcontent-%COMP%]{color:#12b8fa}ion-input[_ngcontent-%COMP%]{border:3px solid #eee}.backIcon[_ngcontent-%COMP%]{font-size:150%}.back[_ngcontent-%COMP%], .backIcon[_ngcontent-%COMP%]{color:#ffae00}"]}),_)}],P=function(){var e=function e(){n(this,e)};return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[[u.Bz.forChild(T)],u.Bz]}),e}(),y=r(2472),O=r(3577);function I(n){return new y.w(n)}var M,L=((M=function e(){n(this,e)}).\u0275fac=function(n){return new(n||M)},M.\u0275mod=m.oAB({type:M}),M.\u0275inj=m.cJS({imports:[[c.JF,i.ez,a.UX,a.u5,s.Pc,P,Z.aw.forChild({loader:{provide:Z.Zw,useFactory:I,deps:[c.eN]}}),O.LanguagePopoverPageModule]]}),M)}}])}();