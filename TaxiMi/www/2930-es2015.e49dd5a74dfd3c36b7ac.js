(self.webpackChunkcsharpcornerauthor=self.webpackChunkcsharpcornerauthor||[]).push([[2930],{2930:function(n,e,t){"use strict";t.r(e),t.d(e,{HttpLoaderFactory:function(){return P},LoginPageModule:function(){return O}});var o=t(8583),r=t(3679),i=t(1841),s=t(7823),c=t(4481),a=t(4762),l=t(4426),g=t(8049),u=t(6522),d=t(2340),f=t(3018),p=t(5056),m=t(7800);function Z(n,e){if(1&n&&(f.TgZ(0,"ion-text",27),f.TgZ(1,"div",28),f._uU(2),f.qZA(),f.qZA()),2&n){const n=f.oxw(2);f.xp6(2),f.Oqu(n.err)}}function b(n,e){1&n&&(f.TgZ(0,"div"),f._uU(1),f.ALo(2,"translate"),f.qZA()),2&n&&(f.xp6(1),f.hij("",f.lcZ(2,1,"The field is required"),"!"))}function h(n,e){if(1&n&&(f.TgZ(0,"div",29),f.YNc(1,b,3,3,"div",30),f.qZA()),2&n){const n=f.oxw(2);f.xp6(1),f.Q6J("ngIf",1==n.submitted&&n.f.username.errors.required)}}function v(n,e){1&n&&(f.TgZ(0,"div"),f._uU(1),f.ALo(2,"translate"),f.qZA()),2&n&&(f.xp6(1),f.hij("",f.lcZ(2,1,"The field is required"),"!"))}function x(n,e){if(1&n&&(f.TgZ(0,"div",29),f.YNc(1,v,3,3,"div",30),f.qZA()),2&n){const n=f.oxw(2);f.xp6(1),f.Q6J("ngIf",1==n.submitted&&n.f.password.errors.required)}}function q(n,e){1&n&&f._UZ(0,"span",31)}const A=function(n){return{"is-invalid":n}};function w(n,e){if(1&n){const n=f.EpF();f.TgZ(0,"ion-content",4),f.TgZ(1,"div",5),f.TgZ(2,"div",6),f.TgZ(3,"ion-text",7),f.TgZ(4,"div",8),f._UZ(5,"img",9),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(6,"div",10),f.TgZ(7,"div",11),f.TgZ(8,"div",10),f.TgZ(9,"form",12),f.YNc(10,Z,3,1,"ion-text",13),f.TgZ(11,"div",14),f._UZ(12,"ion-input",15),f.ALo(13,"translate"),f.YNc(14,h,2,1,"div",16),f.qZA(),f.TgZ(15,"div",17),f._UZ(16,"ion-input",18),f.ALo(17,"translate"),f.YNc(18,x,2,1,"div",16),f.qZA(),f.TgZ(19,"div",19),f._UZ(20,"div",20),f.TgZ(21,"div",21),f.TgZ(22,"button",22),f.NdJ("click",function(){return f.CHM(n),f.oxw().onSubmit()}),f._uU(23),f.ALo(24,"translate"),f.YNc(25,q,1,0,"span",23),f.qZA(),f.qZA(),f.qZA(),f.TgZ(26,"div",24),f.TgZ(27,"p",25),f._uU(28),f.ALo(29,"translate"),f.qZA(),f.TgZ(30,"button",26),f.NdJ("click",function(){return f.CHM(n),f.oxw().signUp()}),f._uU(31),f.ALo(32,"translate"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()}if(2&n){const n=f.oxw();f.xp6(9),f.Q6J("formGroup",n.form),f.xp6(1),f.Q6J("ngIf",n.err),f.xp6(2),f.Q6J("placeholder",f.lcZ(13,12,"Email"))("ngClass",f.VKq(22,A,1==n.submitted&&n.f.username.errors)),f.xp6(2),f.Q6J("ngIf",1==n.submitted&&n.f.username.errors),f.xp6(2),f.Q6J("placeholder",f.lcZ(17,14,"Password"))("ngClass",f.VKq(24,A,1==n.submitted&&n.f.password.errors)),f.xp6(2),f.Q6J("ngIf",1==n.submitted&&n.f.password.errors),f.xp6(5),f.hij("",f.lcZ(24,16,"Login")," "),f.xp6(2),f.Q6J("ngIf",n.loading),f.xp6(3),f.hij("",f.lcZ(29,18,"Dont have an account"),"?"),f.xp6(3),f.Oqu(f.lcZ(32,20,"Register"))}}const C=[{path:"",component:(()=>{class n{constructor(n,e,t,o,r){this.route=n,this.formBuilder=e,this.accountService=t,this.translate=o,this.popoverController=r,this.err="",this.loading=!1,this.logo="../../../../resources/IMG_6400.JPG",this.isLoggedIn=localStorage.getItem("user"),this.translate.setDefaultLang("en")}ngOnInit(){this.form=this.formBuilder.group({username:["",r.kI.required],password:["",r.kI.required]}),this.isLoggedIn&&this.route.navigate(["menu/travelling"]),(new l.su).configureLogging(l.in.Information).withUrl(`${d.N.signalRUrl}/orderHub`).build().start().then(function(){console.log("signalR Connected in login")}).catch(function(n){return console.log(n.toString())})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.form.invalid||(this.loading=!0,this.accountService.login(this.f.username.value,this.f.password.value).pipe((0,g.P)()).subscribe(n=>{this.accountService.updateDriving(this.accountService.userValue.id,!1).subscribe(n=>{console.log("success")}),this.route.navigate(["menu/travelling"]),this.loading=!1},n=>{console.log(n.error.message),this.err=n.error.message,this.loading=!1}))}signUp(){this.route.navigate(["menu/account/register"])}openLanguagePopover(n){return(0,a.mG)(this,void 0,void 0,function*(){const e=yield this.popoverController.create({component:u.m,event:n});yield e.present()})}clearForm(){this.form.reset({username:"",password:""})}}return n.\u0275fac=function(e){return new(e||n)(f.Y36(c.F0),f.Y36(r.qu),f.Y36(p.B),f.Y36(m.sK),f.Y36(s.Dh))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-login"]],decls:10,vars:1,consts:[["slot","start"],["slot","end"],["id","toolbarIcon","name","language-outline",3,"click"],["padding","","class","background",4,"ngIf"],["padding","",1,"background"],[1,"row","mt-2"],[1,"col","text-center"],[1,"centered"],[1,"col","mt-1"],["src","../../../assets/logo_trans_230x120.png","alt","image"],[1,"row"],[1,"col-md-12"],["novalidate","",1,"col-md-6",3,"formGroup"],["color","danger",4,"ngIf"],[1,"form-group","col","mt-2","text-center"],["formControlName","username","type","text",1,"form-control",3,"placeholder","ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"form-group","col","mt-3","text-center"],["formControlName","password","type","password",1,"form-control",3,"placeholder","ngClass"],[1,"d-flex","w-100","justify-content-between"],[1,"form-group","col","mt-1","mr-2"],[1,"col-","mr-3"],["type","submit",1,"btn","btn-light",3,"click"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"form-group","col","mr-2"],[1,"subtitle","fonted"],["type","submit",1,"btn","btn-danger",3,"click"],["color","danger"],[1,"text-center"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(n,e){1&n&&(f.TgZ(0,"ion-header"),f.TgZ(1,"ion-toolbar"),f.TgZ(2,"ion-buttons",0),f._UZ(3,"ion-menu-button"),f.qZA(),f.TgZ(4,"ion-title"),f.TgZ(5,"ion-label"),f._uU(6,"Cyber(v3.0)"),f.qZA(),f.qZA(),f.TgZ(7,"ion-buttons",1),f.TgZ(8,"ion-icon",2),f.NdJ("click",function(n){return e.openLanguagePopover(n)}),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.YNc(9,w,33,26,"ion-content",3)),2&n&&(f.xp6(9),f.Q6J("ngIf",!e.isLoggedIn))},directives:[s.Gu,s.sr,s.Sm,s.fG,s.wd,s.Q$,s.gu,o.O5,s.W2,s.yW,r.Y7,r.JL,r.sg,s.pK,s.j9,r.JJ,r.u,o.mk],pipes:[m.X$],styles:["ion-content[_ngcontent-%COMP%]{--background:url(back-2.9951a3f6128933b9b1b7.jpeg) no-repeat center center fixed;background-size:100%}.centered[_ngcontent-%COMP%]{text-align:center}.text[_ngcontent-%COMP%]{font-size:2.4em;font-family:Open Sans Light}ion-toolbar[_ngcontent-%COMP%]{--ion-background-color:#eee}.fonted[_ngcontent-%COMP%]{color:#fff}ion-title[_ngcontent-%COMP%]{text-align:center}#toolbarIcon[_ngcontent-%COMP%]{font-size:1.7em}.subtitle[_ngcontent-%COMP%]{font-family:Open Sans Light;font-size:1em}ion-item[_ngcontent-%COMP%]{--background:none;opacity:1;--border-width:0;--inner-border-width:0}.iconsText[_ngcontent-%COMP%]{font-family:Open Sans Light;font-size:1em}.ig[_ngcontent-%COMP%]{display:inline-block;width:35px;height:35px;text-align:center;border-radius:80px;color:#fff;font-size:220px;line-height:250px;vertical-align:middle;background:#d6249f;background:radial-gradient(circle at 30% 107%,#fdf497 0,#fdf497 5%,#fd5949 45%,#d6249f 60%,#285aeb 90%);box-shadow:0 3px 10px rgba(0,0,0,.25)}.fb[_ngcontent-%COMP%]{color:#3b5998}.fb[_ngcontent-%COMP%], .tw[_ngcontent-%COMP%]{font-size:200%}.tw[_ngcontent-%COMP%]{color:#12b8fa}ion-input[_ngcontent-%COMP%]{border:3px solid #eee}.backIcon[_ngcontent-%COMP%]{font-size:150%}.back[_ngcontent-%COMP%], .backIcon[_ngcontent-%COMP%]{color:#ffae00}"]}),n})()}];let _=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[c.Bz.forChild(C)],c.Bz]}),n})();var T=t(2472),k=t(3577);function P(n){return new T.w(n)}let O=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[i.JF,o.ez,r.UX,r.u5,s.Pc,_,m.aw.forChild({loader:{provide:m.Zw,useFactory:P,deps:[i.eN]}}),k.LanguagePopoverPageModule]]}),n})()}}]);