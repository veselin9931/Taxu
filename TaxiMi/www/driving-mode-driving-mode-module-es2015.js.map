{"version":3,"sources":["./src/app/driving-mode/driving-mode.page.html","./src/app/driving-mode/driving-mode.page.ts","./src/app/driving-mode/driving-mode.page.scss","./src/_services/profit/profit.service.ts","./src/app/driving-mode/driving-mode-routing.module.ts","./src/app/driving-mode/driving-mode.module.ts"],"names":[],"mappings":"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","file":"driving-mode-driving-mode-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n\\r\\n    <ion-title>\\r\\n      <ion-label>{{'Accepted order' | translate}}</ion-label>\\r\\n    </ion-title>\\r\\n\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-icon (click)='openLanguagePopover($event)' id=\\\"toolbarIcon\\\" name=\\\"language-outline\\\"></ion-icon>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content padding class=\\\"noScroll\\\">\\r\\n\\r\\n  <div class=\\\"col-md-10\\\">\\r\\n    <div id=\\\"orderDiv\\\" class=\\\"list-group mt-2\\\">\\r\\n\\r\\n      <a class=\\\"text list-group-item list-group-item-action flex-column align-items-start\\\">\\r\\n        <div class=\\\"d-flex w-100 justify-content-between\\\">\\r\\n          <h5 class=\\\"mb-1 fonted\\\"></h5>\\r\\n        </div>\\r\\n        <p>\\r\\n          <ion-icon class=\\\"mr-2\\\" name=\\\"analytics-outline\\\"></ion-icon>{{this.location}}\\r\\n        </p>\\r\\n        <hr />\\r\\n        <p>\\r\\n          <ion-icon class=\\\"mr-2\\\" name=\\\"arrow-forward-outline\\\"></ion-icon>{{this.destination}}\\r\\n        </p>\\r\\n        <div class=\\\"text-center\\\">\\r\\n          <p> <button (click)=\\\"navigateToUserAndCalculateDistance()\\\" type=\\\"button\\\" [disabled]=\\\"tripStatus=='Started'\\\"\\r\\n              class=\\\"fonted btn btn-info btn-sm btn-block\\\">{{'Navigate to user' | translate}}</button></p>\\r\\n\\r\\n          <p>\\r\\n            <button (click)=\\\"navigateToPointAndCalculateDistance()\\\" type=\\\"button\\\" color=\\\"primary\\\"\\r\\n              class=\\\"fonted btn btn-info btn-sm btn-block\\\" [disabled]=\\\"tripStatus=='!Processing'\\\">{{'Start trip' |\\r\\n              translate}}</button>\\r\\n          </p>\\r\\n          <p>\\r\\n            <button [disabled]=\\\"tripStatus=='Processing'\\\" class=\\\"fonted btn btn-success btn-sm btn-block\\\"\\r\\n              (click)=\\\"finishTrip()\\\" type=\\\"button\\\">\\r\\n              {{'Finish trip' | translate}}</button>\\r\\n          </p>\\r\\n\\r\\n          <p>\\r\\n            <button *ngIf=\\\"tripStatus == 'Navigating'\\\" (click)=\\\"onTheAddress()\\\" type=\\\"button\\\"\\r\\n              class=\\\"fonted btn btn-info btn-sm btn-block\\\">Im on the address</button>\\r\\n          </p>\\r\\n\\r\\n          <p>\\r\\n            <button (click)=\\\"callDriver()\\\" class=\\\"fonted btn btn-warning btn-sm btn-block\\\" (click)=\\\"clearMessages()\\\"\\r\\n              type=\\\"button\\\">\\r\\n              <ion-icon name=\\\"call\\\" class=\\\"mr-2\\\"></ion-icon>Call passenger\\r\\n            </button>\\r\\n          </p>\\r\\n\\r\\n          <p>\\r\\n            <button *ngIf=\\\"tripStatus == 'Processing'\\\" (click)=\\\"cancelOrder()\\\"\\r\\n              class=\\\"fonted btn btn-warning btn-sm btn-block\\\" type=\\\"button\\\">\\r\\n              {{'Cancel' | translate}}\\r\\n            </button>\\r\\n          </p>\\r\\n        </div>\\r\\n\\r\\n      </a>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n\\r\\n  <!-- <div #map id=\\\"map\\\"></div> -->\\r\\n</ion-content>\\r\\n\\r\\n\\r\\n<ion-footer class=\\\"ion-no-border page-wrap\\\">\\r\\n  <div id=\\\"chat\\\" class=\\\"row chat\\\">\\r\\n\\r\\n    <div class=\\\"col\\\">\\r\\n      <ion-card>\\r\\n\\r\\n        <div class=\\\"msg-box\\\">\\r\\n          <ul *ngIf=\\\"this.msgInboxArray.length == 0\\\" class=\\\"text-center mr-5\\\">\\r\\n            <li>{{'No messages for now' | translate}}</li>\\r\\n          </ul>\\r\\n          <ul *ngFor=\\\"let mObj of msgInboxArray\\\">\\r\\n            <li [ngClass]=\\\"mObj.user === msgDto.user ? 'in-msg' : 'ex-msg'\\\">\\r\\n              {{mObj.user}}:\\r\\n              {{mObj.text}}\\r\\n            </li>\\r\\n\\r\\n          </ul>\\r\\n        </div>\\r\\n      </ion-card>\\r\\n\\r\\n      <ion-card class=\\\"type\\\">\\r\\n        <ion-item>\\r\\n          <ion-input [(ngModel)]=\\\"msgDto.text\\\" [placeholder]='\\\"Type your message...\\\" | translate'>\\r\\n\\r\\n          </ion-input>\\r\\n          <ion-icon (click)=\\\"send()\\\" name=\\\"send-outline\\\"></ion-icon>\\r\\n\\r\\n        </ion-item>\\r\\n      </ion-card>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n</ion-footer>\\r\\n\\r\\n\\r\\n<!-- <ion-footer class=\\\"ion-no-border\\\">\\r\\n  <ion-toolbar class=\\\"text-center\\\">\\r\\n    <ion-text class=\\\"textTravel\\\">\\r\\n      <button (click)=\\\"navigateToUserAndCalculateDistance()\\\" type=\\\"button\\\" [disabled]=\\\"tripStatus=='Started'\\\"\\r\\n        class=\\\"fonted btn btn-info\\\">{{'Navigate to user' | translate}}</button>\\r\\n      <button (click)=\\\"navigateToPointAndCalculateDistance()\\\" type=\\\"button\\\" color=\\\"primary\\\"\\r\\n      class=\\\"fonted btn btn-info ml-1\\\" [disabled]=\\\"tripStatus=='!Processing'\\\">{{'Start trip' | translate}}</button>\\r\\n      <button (click)=\\\"callDriver()\\\" class=\\\"fonted btn btn-warning ml-1\\\" (click)=\\\"clearMessages()\\\" type=\\\"button\\\"><ion-icon name=\\\"call\\\" class=\\\"mr-2\\\"></ion-icon>Call driver\\r\\n      </button>\\r\\n      <ion-text class=\\\"centered\\\" color=\\\"dark\\\">\\r\\n        <p class=\\\"text\\\">{{this.destination}}</p>\\r\\n      </ion-text>\\r\\n    </ion-text>\\r\\n\\r\\n  </ion-toolbar>\\r\\n</ion-footer> -->\\r\\n\\r\\n<!-- <ion-footer class=\\\"ion-no-border site-footer\\\">\\r\\n  <ion-toolbar class=\\\"text-center\\\">\\r\\n    <button [disabled]=\\\"tripStatus=='Processing'\\\" class=\\\"fonted btn btn-success\\\" (click)=\\\"finishTrip()\\\" type=\\\"button\\\">\\r\\n      {{'Finish trip' | translate}}</button>\\r\\n    <button (click)=\\\"chat()\\\" class=\\\"fonted btn btn-secondary ml-1\\\" type=\\\"button\\\" (click)=\\\"clearMessages()\\\">\\r\\n      {{'Chat'| translate}}</button>\\r\\n\\r\\n      <button *ngIf=\\\"tripStatus == 'Navigating'\\\" (click)=\\\"onTheAddress()\\\" type=\\\"button\\\"\\r\\n      class=\\\"fonted btn btn-info ml-1\\\">Im on the address</button>\\r\\n      <button *ngIf=\\\"tripStatus == 'Processing'\\\" (click)=\\\"cancelOrder()\\\" class=\\\"fonted btn btn-warning ml-1\\\" type=\\\"button\\\">\\r\\n        {{'Cancel' | translate}}\\r\\n      </button>\\r\\n    <br />\\r\\n    <ion-label class=\\\"blink_me\\\" *ngIf=\\\"messages.length != 0  && chatStyle == 'none'\\\">{{'You have new message' |\\r\\n      translate}}.</ion-label>\\r\\n  </ion-toolbar>\\r\\n  \\r\\n  <div id=\\\"chat\\\" style=\\\"display: none;\\\" class=\\\"row chat\\\">\\r\\n\\r\\n    <div class=\\\"col\\\">\\r\\n      <ion-card>\\r\\n\\r\\n        <div class=\\\"msg-box\\\">\\r\\n          <ul *ngIf=\\\"this.msgInboxArray.length == 0\\\" class=\\\"text-center mr-5\\\">\\r\\n            <li>{{'No messages for now' | translate}}</li>\\r\\n          </ul>\\r\\n          <ul *ngFor=\\\"let mObj of msgInboxArray\\\">\\r\\n            <li [ngClass]=\\\"mObj.user === msgDto.user ? 'in-msg' : 'ex-msg'\\\">\\r\\n              {{mObj.user}}:\\r\\n              {{mObj.text}}\\r\\n            </li>\\r\\n\\r\\n          </ul>\\r\\n        </div>\\r\\n      </ion-card>\\r\\n\\r\\n      <ion-card class=\\\"type\\\">\\r\\n        <ion-item>\\r\\n          <ion-input [(ngModel)]=\\\"msgDto.text\\\" [placeholder]='\\\"Type your message...\\\" | translate'>\\r\\n\\r\\n          </ion-input>\\r\\n          <ion-icon (click)=\\\"send()\\\" name=\\\"send-outline\\\"></ion-icon>\\r\\n\\r\\n        </ion-item>\\r\\n      </ion-card>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n</ion-footer> -->\";","import { Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Capacitor, Plugins } from '@capacitor/core';\r\nimport { AlertController, PopoverController } from '@ionic/angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { AnyTxtRecord } from 'dns';\r\nimport { interval, Subscription } from 'rxjs';\r\nimport { Message, Order, Trip } from 'src/_models';\r\nimport { AccountService } from 'src/_services';\r\nimport { ChatService } from 'src/_services/chat/chat.service';\r\nimport { DriverService } from 'src/_services/driver/driver.service';\r\nimport { OrderService } from 'src/_services/order/order.service';\r\nimport { ProfitService } from 'src/_services/profit/profit.service';\r\nimport { TripService } from 'src/_services/trip/trip.service';\r\nimport { WalletService } from 'src/_services/wallet/wallet.service';\r\nimport { LanguagePopoverPage } from '../language-popover/language-popover.page';\r\nimport * as signalR from '@aspnet/signalr';\r\nimport { environment } from 'src/environments/environment';\r\nimport { CallNumber } from '@ionic-native/call-number/ngx';\r\n\r\nconst { Geolocation } = Plugins;\r\ndeclare var google: any;\r\n@Component({\r\n  selector: 'app-driving-mode',\r\n  templateUrl: './driving-mode.page.html',\r\n  styleUrls: ['./driving-mode.page.scss'],\r\n})\r\nexport class DrivingModePage implements OnInit, OnDestroy {\r\n  public currentTrip: Trip;\r\n  categoryType;\r\n\r\n  tripStatus: string;\r\n\r\n  location: string;\r\n  destination: string;\r\n\r\n  tripDistance: any;\r\n  tripPriceForDriver: number;\r\n\r\n  driverId = this.tripService.currentTripDriverId;\r\n  applicationUserId = this.accountService.userValue.id;\r\n  isDrivingNow = this.accountService.userValue.isDrivingNow;\r\n  isStarted: boolean;\r\n\r\n  order: Order;\r\n  orders: Order[] = [];\r\n  closestOrders: Order[] = [];\r\n\r\n  totalPrice: number;\r\n\r\n  //Map\r\n  map: any;\r\n\r\n  address: string;\r\n\r\n  userLatitude: any;\r\n  userLongitude: any;\r\n\r\n  userDestinationLat: any;\r\n  userDestinationLng: any;\r\n\r\n  myLat: string;\r\n  myLng: string;\r\n\r\n  distance: string;\r\n  eta: string;\r\n\r\n  messages = this.chatService.messages;\r\n  chatStyle = \"\";\r\n\r\n  orderDiv = document.getElementById(\"orderDiv\");\r\n  @ViewChild('map', { read: ElementRef, static: false }) mapRef: ElementRef;\r\n\r\n\r\n  id: any;\r\n  target: any;\r\n  options: any;\r\n\r\n  private subscriptions: Subscription[] = [];\r\n\r\n\r\n  constructor(private route: Router,\r\n    private orderService: OrderService,\r\n    private accountService: AccountService,\r\n    private tripService: TripService,\r\n    private walletService: WalletService,\r\n    private driverService: DriverService,\r\n    private chatService: ChatService,\r\n    private profitService: ProfitService,\r\n    private translate: TranslateService,\r\n    private popoverController: PopoverController,\r\n    private alertController: AlertController,\r\n    private callNumber: CallNumber) {\r\n    this.translate.setDefaultLang(this.accountService.userValue.choosenLanguage);\r\n\r\n  }\r\n  // ionViewDidLeave() {\r\n  //   for (const subscription of this.subscriptions) {\r\n  //     console.log(subscription)\r\n  //     subscription.unsubscribe();\r\n  //   }\r\n  // }\r\n  ngOnInit() {\r\n\r\n    this.id = setInterval(() => {\r\n      this.watchPos();\r\n    }, 3000);\r\n\r\n    this.getAcceptedTrip();\r\n    this.isStarted = false;\r\n    this.subscriptions.push(this.chatService.retrieveMappedObject()\r\n      .subscribe((receivedObj: Message) => { this.addToInbox(receivedObj); }));  // calls the service method to get the new messages sent\r\n\r\n\r\n    const connection = new signalR.HubConnectionBuilder()\r\n      .configureLogging(signalR.LogLevel.Information)\r\n      .withUrl(`${environment.signalRUrl}/orderHub`)\r\n      .build();\r\n\r\n    connection.start().then(function () {\r\n      console.log('signalR Connected in driving-mode');\r\n    }).catch(function (err) {\r\n      console.log(\"Reconnecting in 1 sec.\");\r\n      setTimeout(() => connection.start(), 1000);\r\n    });\r\n\r\n\r\n\r\n    connection.on('OrderDeleted', (orderId: string) => {\r\n      this.subscriptions.push(this.orderService.getCanceledOrderById(orderId)\r\n        .subscribe(order => {\r\n          if (order.acceptedBy == this.applicationUserId) {\r\n            this.canceledOrder();\r\n          }\r\n        }))\r\n    });\r\n\r\n    connection.on('OrderAccepted', (orderId: string) => {\r\n      this.subscriptions.push(this.orderService.getOrderById(orderId)\r\n        .subscribe(order => {\r\n          if (order.acceptedBy == this.applicationUserId) {\r\n            this.getAcceptedTrip();\r\n\r\n          }\r\n        }))\r\n    });\r\n\r\n    connection.on('Navigate', (orderId: string) => {\r\n      this.subscriptions.push(this.orderService.getOrderById(orderId)\r\n        .subscribe(order => {\r\n          if (order.acceptedBy == this.applicationUserId) {\r\n            this.getAcceptedTrip();\r\n          }\r\n        }))\r\n    });\r\n\r\n    connection.on('LocateDriver', (driverId: string) => {\r\n\r\n    });\r\n\r\n    connection.on('WalletAction', () => {\r\n\r\n    });\r\n\r\n    connection.on('CompleteOrder', () => {\r\n\r\n    });\r\n\r\n\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.id) {\r\n      clearInterval(this.id);\r\n    }\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    if (this.accountService.userValue.isDrivingNow == true) {\r\n      this.getAcceptedTrip();\r\n    }\r\n  }\r\n\r\n  async callDriver() {\r\n    let phone = this.order.applicationUser.phone.toString();\r\n    this.callNumber.callNumber(phone, true)\r\n      .then(res => console.log('Launched dialer!', res))\r\n      .catch(err => console.log('Error launching dialer', err));\r\n  }\r\n\r\n  async watchPos() {\r\n    let coordinates = await Geolocation.getCurrentPosition();\r\n    const myLatLng = { lat: coordinates.coords.latitude, lng: coordinates.coords.longitude };\r\n    this.subscriptions.push(this.driverService.locateDriver(this.accountService.userValue.driverId, myLatLng.lat.toString(), myLatLng.lng.toString())\r\n      .subscribe(x => { }));\r\n\r\n  }\r\n\r\n  async navigateToUserAndCalculateDistance() {\r\n    const directionsService = new google.maps.DirectionsService();\r\n    const directionsRenderer = new google.maps.DirectionsRenderer();\r\n    const coordinates = await Geolocation.getCurrentPosition();\r\n    const myLatLng = { lat: coordinates.coords.latitude, lng: coordinates.coords.longitude };\r\n    const userLatLng = { lat: this.order.locationLat, lng: this.order.locationLong };\r\n    let userLat = +userLatLng.lat;\r\n    let userLng = +userLatLng.lng;\r\n    directionsService.route(\r\n      {\r\n        origin: {\r\n          lat: myLatLng.lat,\r\n          lng: myLatLng.lng\r\n        },\r\n        destination: {\r\n          lat: userLat,\r\n          lng: userLng,\r\n        },\r\n        travelMode: google.maps.TravelMode.DRIVING,\r\n      },\r\n      (response, status) => {\r\n        if (status === \"OK\") {\r\n          this.subscriptions.push(this.tripService.navigateToUser(this.currentTrip.id, this.order.id)\r\n            .subscribe(() => {\r\n              if (Capacitor.getPlatform() === 'ios') {\r\n                window.open(`http://maps.apple.com/maps?q=${userLat},${userLng}&t=m&dirflg=d`);\r\n                console.log('ios platform')\r\n                directionsRenderer.setDirections(response);\r\n                this.isStarted = true;\r\n              }\r\n              if (Capacitor.platform == 'android') {\r\n                window.open(`https://www.google.com/maps/dir/?api=1&destination=${userLat},${userLng}&travelmode=driving`);\r\n                directionsRenderer.setDirections(response);\r\n                this.isStarted = true;\r\n              }\r\n              else {\r\n                window.open(`https://www.google.com/maps/dir/?api=1&destination=${userLat},${userLng}&travelmode=driving`);\r\n                directionsRenderer.setDirections(response);\r\n                this.isStarted = true;\r\n              }\r\n            }));\r\n\r\n        } else {\r\n          window.alert(\"Directions request failed due to \" + status);\r\n        }\r\n      }\r\n    );\r\n\r\n    directionsRenderer.setMap(this.map);\r\n  }\r\n\r\n  //Set directions to user's destination\r\n  async navigateToPointAndCalculateDistance() {\r\n    const directionsService = new google.maps.DirectionsService();\r\n    const directionsRenderer = new google.maps.DirectionsRenderer();\r\n    const coordinates = await Geolocation.getCurrentPosition();\r\n    const myLatLng = { lat: coordinates.coords.latitude, lng: coordinates.coords.longitude };\r\n    const userLatLng = { lat: this.order.destinationLat, lng: this.order.destinationLong };\r\n    let userLat = +userLatLng.lat;\r\n    let userLng = +userLatLng.lng;\r\n    directionsService.route(\r\n      {\r\n        origin: {\r\n          lat: myLatLng.lat,\r\n          lng: myLatLng.lng\r\n        },\r\n        destination: {\r\n          lat: userLat,\r\n          lng: userLng,\r\n        },\r\n        travelMode: google.maps.TravelMode.DRIVING,\r\n      },\r\n      (response, status) => {\r\n        if (status === \"OK\") {\r\n          if (Capacitor.getPlatform() == 'ios') {\r\n            console.log('ios platform')\r\n            directionsRenderer.setDirections(response);\r\n            window.open(`http://maps.apple.com/maps?q=${userLat},${userLng}&t=m&dirflg=d`);\r\n          }\r\n          if (Capacitor.getPlatform() == 'android') {\r\n            console.log('android or web platform')\r\n            directionsRenderer.setDirections(response);\r\n            window.open(`https://www.google.com/maps/dir/?api=1&destination=${userLat},${userLng}&travelmode=driving`);\r\n          }\r\n          else {\r\n            console.log('web platform')\r\n            directionsRenderer.setDirections(response);\r\n            window.open(`https://www.google.com/maps/dir/?api=1&destination=${userLat},${userLng}&travelmode=driving`);\r\n          }\r\n          this.startTrip();\r\n        } else {\r\n          console.log(\"failed\")\r\n\r\n          window.alert(\"Directions request failed due to \" + status);\r\n        }\r\n      }\r\n    );\r\n    directionsRenderer.setMap(this.map);\r\n  }\r\n\r\n  msgDto: Message = new Message();\r\n  msgInboxArray: Message[] = [];\r\n\r\n  send(): void {\r\n    if (this.msgDto) {\r\n      if (this.msgDto.text.length == 0) {\r\n        window.alert(\"Text field is required.\");\r\n        return;\r\n      } else {\r\n        this.msgDto.user = `${this.accountService.userValue.firstName} ${this.accountService.userValue.lastName}`;\r\n        var c = this.chatService.broadcastMessage(this.msgDto);\r\n      }\r\n    }\r\n  }\r\n\r\n  clearMessages() {\r\n    this.messages.length = 0;\r\n  }\r\n\r\n  addToInbox(obj: Message) {\r\n    let newObj = new Message();\r\n    newObj.user = obj.user;\r\n    newObj.text = obj.text;\r\n    this.msgInboxArray.push(newObj);\r\n    this.msgDto.text = '';\r\n  }\r\n\r\n  startTrip() {\r\n    this.subscriptions.push(this.tripService.startTrip(this.currentTrip.id)\r\n      .subscribe(trip => {\r\n        if (trip) {\r\n          this.tripStatus = trip.status;\r\n          this.subscriptions.push(this.walletService.dischargeWallet(this.applicationUserId, this.tripPriceForDriver)\r\n            .subscribe(x => {\r\n              this.subscriptions.push(this.profitService.addToProfit(this.tripPriceForDriver)\r\n                .subscribe(() => { }));\r\n            }))\r\n        }\r\n      }))\r\n  }\r\n\r\n  finishTrip() {\r\n    this.completeTripAlert();\r\n  }\r\n\r\n  async openLanguagePopover(ev) {\r\n    const popover = await this.popoverController.create({\r\n      component: LanguagePopoverPage,\r\n      event: ev\r\n    });\r\n    await popover.present();\r\n  }\r\n\r\n  async calculateEta(order) {\r\n    const directionsService = new google.maps.DirectionsService();\r\n    const coordinates = await Geolocation.getCurrentPosition();\r\n    const myLatLng = { lat: coordinates.coords.latitude, lng: coordinates.coords.longitude };\r\n    directionsService.route(\r\n      {\r\n        origin: {\r\n          lat: myLatLng.lat,\r\n          lng: myLatLng.lng\r\n        },\r\n        destination: {\r\n          lat: +order.locationLat,\r\n          lng: +order.locationLong,\r\n        },\r\n        travelMode: google.maps.TravelMode.DRIVING,\r\n      },\r\n      (response, status) => {\r\n        if (status === \"OK\") {\r\n          this.eta = response.routes[0].legs[0].duration.text;\r\n          order.km = response.routes[0].legs[0].distance.value / 1000;\r\n          order.distanceText = response.routes[0].legs[0].distance.text;\r\n          order.eta = response.routes[0].legs[0].duration.text;\r\n          this.distance = order.distanceText;\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  getAcceptedTrip() {\r\n    this.subscriptions.push(this.tripService.getTrip(this.driverId)\r\n      .subscribe(x => {\r\n        if (x == null) {\r\n          return;\r\n        }\r\n        this.chatService.stop();\r\n        this.chatService.start();\r\n        this.tripStatus = x.status;\r\n        this.currentTrip = x;\r\n\r\n        this.subscriptions.push(this.orderService.getOrderById(x.orderId).subscribe(order => {\r\n          if (order != null) {\r\n            x.order = order;\r\n\r\n            this.order = x.order;\r\n\r\n            this.location = order.location;\r\n            this.destination = order.destination;\r\n\r\n            this.totalPrice = order.totalPrice;\r\n\r\n            this.userLatitude = order.locationLat;\r\n            this.userLongitude = order.locationLong;\r\n\r\n            this.userDestinationLat = order.destinationLat;\r\n            this.userDestinationLng = order.destinationLong;\r\n\r\n            this.tripDistance = order.tripDistance;\r\n            this.calculateEta(order);\r\n\r\n            this.subscriptions.push(this.driverService.getDriver(this.accountService.userValue.driverId)\r\n              .subscribe(s => {\r\n                this.tripPriceForDriver = (order.totalPrice * (s.comission / 100));\r\n              }))\r\n          }\r\n        }))\r\n      }));\r\n  }\r\n\r\n  onTheAddress() {\r\n    this.subscriptions.push(this.orderService.updateDriverArrived(this.order.id)\r\n      .subscribe(() => { }));\r\n  }\r\n\r\n  cancelOrder() {\r\n    this.alertForCancel();\r\n  }\r\n\r\n  async alertForCancel() {\r\n    const popup = await this.alertController.create({\r\n      header: 'Are you sure you want to cancel the order?',\r\n      message: 'Your rating will decrease!',\r\n      buttons: [\r\n        {\r\n          text: 'Confirm',\r\n          handler: () => {\r\n            this.subscriptions.push(this.driverService.cancelOrderFromDriver(this.order.id)\r\n              .subscribe(x => {\r\n                this.subscriptions.push(this.tripService.cancelTrip(this.currentTrip.id)\r\n                  .subscribe(() => {\r\n                    this.accountService.userValue.isDrivingNow = false;\r\n                    this.subscriptions.push(this.accountService.updateDriving(this.applicationUserId, false)\r\n                      .subscribe(() => {\r\n                        this.subscriptions.push(this.driverService.voteDown(this.accountService.userValue.driverId)\r\n                          .subscribe(() => {\r\n                            this.route.navigate(['menu/driving']);\r\n                          }))\r\n                      }));\r\n                  }))\r\n              }));\r\n          }\r\n        },\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel'\r\n        }\r\n      ]\r\n    });\r\n    await popup.present();\r\n  }\r\n\r\n  async canceledOrder() {\r\n    const popup = await this.alertController.create({\r\n      header: 'Order is cancelled by the customer.',\r\n\r\n      buttons: [\r\n        {\r\n          text: 'Ok',\r\n          handler: () => {\r\n            this.accountService.userValue.isDrivingNow = false;\r\n\r\n            this.subscriptions.push(this.accountService.updateDriving(this.applicationUserId, false)\r\n              .subscribe(() => {\r\n                this.route.navigate(['menu/driving']);\r\n              }));\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await popup.present();\r\n  }\r\n\r\n\r\n  async completeTripAlert() {\r\n    const popup = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      header: 'Are you sure you want to finish the trip?',\r\n      //message: '<img src = \"../assets/default.png\" width=\"1px\" height=\"1px\">',\r\n\r\n      buttons: [\r\n        {\r\n          text: 'Yes',\r\n          role: 'cancel',\r\n          handler: () => {\r\n            this.subscriptions.push(this.tripService.completeTrip(this.currentTrip.id)\r\n            .subscribe(trip => {\r\n              if (trip) {\r\n                this.tripStatus = trip.status;\r\n              }\r\n              this.subscriptions.push(this.orderService.completeOrder(this.currentTrip.orderId)\r\n                .subscribe(() => { }));\r\n      \r\n              //trigger the driver's driving now property to false\r\n              let userId = this.accountService.userValue.id;\r\n              let value = this.accountService.userValue.isDrivingNow = false;\r\n      \r\n              this.subscriptions.push(this.accountService.updateDriving(userId, value)\r\n                .subscribe());\r\n              this.isDrivingNow = this.accountService.userValue.isDrivingNow;\r\n              this.route.navigate(['menu/driving']);\r\n            }))\r\n      \r\n      \r\n          }\r\n        },\r\n        {\r\n          text: 'No'\r\n        }\r\n      ]\r\n    });\r\n\r\n    await popup.present();\r\n  }\r\n}\r\n","export default \"ion-content {\\n  --ion-background-color:#e9e9e9;\\n}\\n\\nion-toolbar {\\n  --ion-background-color:#eeeeee;\\n}\\n\\nion-title {\\n  text-align: center;\\n}\\n\\n#toolbarIcon {\\n  font-size: 1.7em;\\n}\\n\\n.fonted {\\n  font-family: Open Sans Light;\\n}\\n\\n.centered {\\n  text-align: center;\\n}\\n\\n.text {\\n  font-family: Open Sans Light;\\n}\\n\\nhr {\\n  background: #eeeeee;\\n  width: 70% !important;\\n}\\n\\n.blink_me {\\n  -webkit-animation: blinker 1s linear infinite;\\n          animation: blinker 1s linear infinite;\\n}\\n\\n@-webkit-keyframes blinker {\\n  50% {\\n    opacity: 0;\\n  }\\n}\\n\\n@keyframes blinker {\\n  50% {\\n    opacity: 0;\\n  }\\n}\\n\\n.msg-box {\\n  width: 100%;\\n  height: 140px;\\n  padding: 10px 30px;\\n  font-size: 14px;\\n  font-family: Open Sans Light;\\n  overflow: auto;\\n}\\n\\n.msg-box ul {\\n  margin: -5px;\\n  list-style: none;\\n}\\n\\n.msg-box ul .ex-msg {\\n  text-align: right;\\n}\\n\\n.msg-box ul .in-msg {\\n  text-align: left;\\n  margin-left: -60px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGRyaXZpbmctbW9kZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFFSSw4QkFBQTtBQUFKOztBQUtBO0VBQ0ksOEJBQUE7QUFGSjs7QUFZQTtFQUNJLGtCQUFBO0FBVEo7O0FBWUE7RUFDSSxnQkFBQTtBQVRKOztBQVlBO0VBQ0ksNEJBQUE7QUFUSjs7QUFZQTtFQUNJLGtCQUFBO0FBVEo7O0FBWUE7RUFFSSw0QkFBQTtBQVZKOztBQWFBO0VBQ0ksbUJBQUE7RUFDQSxxQkFBQTtBQVZKOztBQWVBO0VBQ0ksNkNBQUE7VUFBQSxxQ0FBQTtBQVpKOztBQWVFO0VBQ0U7SUFDRSxVQUFBO0VBWko7QUFDRjs7QUFTRTtFQUNFO0lBQ0UsVUFBQTtFQVpKO0FBQ0Y7O0FBZ0JBO0VBQ0ksV0FBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSw0QkFBQTtFQUNBLGNBQUE7QUFkSjs7QUFnQkk7RUFDSSxZQUFBO0VBRUEsZ0JBQUE7QUFmUjs7QUFnQlE7RUFDSSxpQkFBQTtBQWRaOztBQWlCUTtFQUNJLGdCQUFBO0VBQ0Esa0JBQUE7QUFmWiIsImZpbGUiOiJkcml2aW5nLW1vZGUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnR7XHJcbiAgICAvLy0tYmFja2dyb3VuZDogdXJsKC4uLy4uL2Fzc2V0cy93cDQ3OTI3ODAtZGFyay1waG9uZS13YWxscGFwZXJzLmpwZykgMCAwLzEwMCUgMTAwJSBuby1yZXBlYXQ7XHJcbiAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiNlOWU5ZTk7XHJcblxyXG5cclxufVxyXG5cclxuaW9uLXRvb2xiYXJ7XHJcbiAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiNlZWVlZWU7XHJcbn1cclxuXHJcbiAgICAvLyAjbWFwIHtcclxuICAgIC8vICAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICAvLyBoZWlnaHQ6IDEwMCU7XHJcbiAgICAvLyB3aWR0aDogMTAwJTtcclxuICAgIC8vIH1cclxuICAgIFxyXG5cclxuaW9uLXRpdGxlIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuI3Rvb2xiYXJJY29ue1xyXG4gICAgZm9udC1zaXplOiAxLjdlbTtcclxufVxyXG5cclxuLmZvbnRlZHtcclxuICAgIGZvbnQtZmFtaWx5OiBPcGVuIFNhbnMgTGlnaHQ7XHJcbn1cclxuXHJcbi5jZW50ZXJlZHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLnRleHR7ICBcclxuICAgIC8vZm9udC1mYW1pbHk6ICdGcmFua2xpbiBHb3RoaWMgTWVkaXVtJywgJ0FyaWFsIE5hcnJvdycsIEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gICAgZm9udC1mYW1pbHk6IE9wZW4gU2FucyBMaWdodDtcclxufVxyXG5cclxuaHJ7XHJcbiAgICBiYWNrZ3JvdW5kOiNlZWVlZWU7XHJcbiAgICB3aWR0aDogNzAlICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi8vY2hhdFxyXG5cclxuLmJsaW5rX21lIHtcclxuICAgIGFuaW1hdGlvbjogYmxpbmtlciAxcyBsaW5lYXIgaW5maW5pdGU7XHJcbiAgfVxyXG4gIFxyXG4gIEBrZXlmcmFtZXMgYmxpbmtlciB7XHJcbiAgICA1MCUge1xyXG4gICAgICBvcGFjaXR5OiAwO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4ubXNnLWJveCB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTQwcHg7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDMwcHg7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBmb250LWZhbWlseTogT3BlbiBTYW5zIExpZ2h0O1xyXG4gICAgb3ZlcmZsb3c6IGF1dG87XHJcblxyXG4gICAgdWwge1xyXG4gICAgICAgIG1hcmdpbjogLTVweDtcclxuXHJcbiAgICAgICAgbGlzdC1zdHlsZTogbm9uZTtcclxuICAgICAgICAuZXgtbXNnIHtcclxuICAgICAgICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuaW4tbXNnIHtcclxuICAgICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IC02MHB4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG59XHJcblxyXG4iXX0= */\";","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http'; \r\nimport { Profit } from '../../_models';\r\nimport { environment } from '../../environments/environment'\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { SharedService } from '../shared/shared.service';\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ProfitService {\r\n\r\n  constructor(private http: HttpClient, private sharedService: SharedService) { }\r\n\r\n  public getTotalProfit(): Observable<Profit> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Profit>(`${environment.apiUrl}/api/profit`, {headers})\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  public addToProfit(value: number): Observable<Profit>{\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.put<Profit>(`${environment.apiUrl}/api/profit/${value}`, { headers, responseType: 'json' },)\r\n    .pipe(\r\n      catchError(this.handleError)\r\n    );\r\n  }\r\n\r\n  handleError(error) {\r\n    let errorMessage = '';\r\n    if (error.error instanceof ErrorEvent) {\r\n      // client-side error\r\n      console.log('Client side error.')\r\n      errorMessage = `Error: ${error.error.message}`;\r\n    } else {\r\n      // server-side error\r\n      console.log('Server side error.')\r\n      errorMessage = `Error Code: ${error.status}\\nMessage: ${error.message}`;\r\n    }\r\n    console.log(errorMessage);\r\n    return throwError(errorMessage);\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { DrivingModePage } from './driving-mode.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DrivingModePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class DrivingModePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { DrivingModePageRoutingModule } from './driving-mode-routing.module';\r\n\r\nimport { DrivingModePage } from './driving-mode.page';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { LanguagePopoverPageModule } from '../language-popover/language-popover.module';\r\nimport { CallNumber } from '@ionic-native/call-number/ngx';\r\n\r\nexport function HttpLoaderFactory(http: HttpClient) {\r\n  return new TranslateHttpLoader(http);\r\n}\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    DrivingModePageRoutingModule,\r\n    TranslateModule.forChild({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: HttpLoaderFactory,\r\n        deps: [HttpClient]\r\n      }\r\n    }),\r\n    LanguagePopoverPageModule,\r\n  ],\r\n  providers: [\r\n    CallNumber,\r\n  ],\r\n  declarations: [DrivingModePage]\r\n})\r\nexport class DrivingModePageModule {}\r\n"],"sourceRoot":"webpack:///"}