(self.webpackChunkcsharpcornerauthor=self.webpackChunkcsharpcornerauthor||[]).push([[7877],{297:function(e,t,r){"use strict";r.d(t,{p:function(){return h}});var i=r(205),s=r(5304),n=r(3342),o=r(2340),a=r(3018),c=r(1841),d=r(728);let h=(()=>{class e{constructor(e,t){this.http=e,this.sharedService=t,this.orders=[],this.completedOrder=!1}createOrder(e){const t=this.sharedService.headerGerneration();return this.http.post(`${o.N.apiUrl}/api/order`,e,{headers:t,responseType:"text"}).pipe((0,s.K)(this.handleError))}addToFavourites(e){const t=this.sharedService.headerGerneration();return this.http.post(`${o.N.apiUrl}/api/order/favourites`,e,{headers:t,responseType:"text"}).pipe((0,s.K)(this.handleError))}getMyFavourites(e){const t=this.sharedService.headerGerneration();return this.http.get(`${o.N.apiUrl}/api/order/favourites/${e}`,{headers:t}).pipe((0,s.K)(this.handleError))}deleteFavouriteOrder(e){const t=this.sharedService.headerGerneration();return this.http.delete(`${o.N.apiUrl}/api/order/favourites/${e}`,{headers:t}).pipe((0,n.b)(e=>console.log("deleted favourite order: ",JSON.stringify(e))),(0,s.K)(this.handleError))}getDirections(e,t,r,i){const n=this.sharedService.headerGerneration();return this.http.post(`https://maps.googleapis.com/maps/api/distancematrix/json?units=imperial&origins=${e},${t}&destinations=${r}%2C${i}%7C&key=AIzaSyAEvlXdM4joG4bNVT5l-tJSk9lUSGhxMNw`,{headers:n,responseType:"text"}).pipe((0,s.K)(this.handleError))}getOrderById(e){const t=this.sharedService.headerGerneration();return this.http.get(`${o.N.apiUrl}/api/order/id/${e}`,{headers:t}).pipe((0,n.b)(e=>this.order=e))}getCanceledOrderById(e){const t=this.sharedService.headerGerneration();return this.http.get(`${o.N.apiUrl}/api/order/canceled/${e}`,{headers:t}).pipe((0,n.b)(e=>this.order=e))}getLastCompletedOrder(e){const t=this.sharedService.headerGerneration();return this.http.get(`${o.N.apiUrl}/api/order/completed/${e}`,{headers:t}).pipe((0,s.K)(this.handleError))}getMyOrder(e){const t=this.sharedService.headerGerneration();return this.http.get(`${o.N.apiUrl}/api/order/${e}`,{headers:t}).pipe((0,s.K)(this.handleError))}getOrderForChat(e){const t=this.sharedService.headerGerneration();return this.http.get(`${o.N.apiUrl}/api/order/chat/${e}`,{headers:t}).pipe((0,s.K)(this.handleError))}getAllOrders(){const e=this.sharedService.headerGerneration();return this.http.get(`${o.N.apiUrl}/api/order`,{headers:e}).pipe((0,s.K)(this.handleError))}getNormalOrders(){const e=this.sharedService.headerGerneration();return this.http.get(`${o.N.apiUrl}/api/order/normal`,{headers:e}).pipe((0,s.K)(this.handleError))}getComfortOrders(){const e=this.sharedService.headerGerneration();return this.http.get(`${o.N.apiUrl}/api/order/comfort`,{headers:e}).pipe((0,s.K)(this.handleError))}acceptOrder(e,t){const r=this.sharedService.headerGerneration();return this.http.put(`${o.N.apiUrl}/api/order/${e}/${t}`,{headers:r,responseType:"json"}).pipe((0,n.b)(e=>this.driverId=t),(0,s.K)(this.handleError))}updateOrderEta(e,t){const r=this.sharedService.headerGerneration();return this.http.put(`${o.N.apiUrl}/api/order/eta/${e}/${t}`,{headers:r,responseType:"json"}).pipe((0,s.K)(this.handleError))}updateDriverArrived(e){const t=this.sharedService.headerGerneration();return this.http.put(`${o.N.apiUrl}/api/order/arrived/${e}`,{headers:t,responseType:"json"}).pipe((0,s.K)(this.handleError))}rateOrder(e){const t=this.sharedService.headerGerneration();return this.http.put(`${o.N.apiUrl}/api/order/rate/${e}`,{headers:t,responseType:"json"}).pipe((0,s.K)(this.handleError))}increaseOrderPrice(e,t){const r=this.sharedService.headerGerneration();return this.http.put(`${o.N.apiUrl}/api/order/increase/${e}/${t}`,{headers:r,responseType:"json"}).pipe((0,s.K)(this.handleError))}completeOrder(e){const t=this.sharedService.headerGerneration();return this.http.put(`${o.N.apiUrl}/api/order/${e}`,{headers:t,responseType:"json"}).pipe((0,s.K)(this.handleError))}deleteOrder(e){const t=this.sharedService.headerGerneration();return this.http.delete(`${o.N.apiUrl}/api/order/${e}`,{headers:t}).pipe((0,n.b)(e=>console.log("deleted order: ",JSON.stringify(e))),(0,s.K)(this.handleError))}driverIncreaseOrderPrice(e,t,r){const i=this.sharedService.headerGerneration();return this.http.put(`${o.N.apiUrl}/api/order/increased/${e}/${t}/${r}`,{headers:i,responseType:"json"}).pipe((0,s.K)(this.handleError))}resetIncreasing(e){const t=this.sharedService.headerGerneration();return this.http.put(`${o.N.apiUrl}/api/order/reset/${e}`,{headers:t,responseType:"json"}).pipe((0,s.K)(this.handleError))}increasedOrderAccept(e,t){const r=this.sharedService.headerGerneration();return this.http.put(`${o.N.apiUrl}/api/order/accepted/increase/${e}/${t}`,{headers:r,responseType:"json"}).pipe((0,s.K)(this.handleError))}incrementOrderPrice(e){const t=this.sharedService.headerGerneration();return this.http.put(`${o.N.apiUrl}/api/order/increment/${e}`,{headers:t,responseType:"json"}).pipe((0,s.K)(this.handleError))}decrementOrderPrice(e){const t=this.sharedService.headerGerneration();return this.http.put(`${o.N.apiUrl}/api/order/decrement/${e}`,{headers:t,responseType:"json"}).pipe((0,s.K)(this.handleError))}handleError(e){let t="";return e.error instanceof ErrorEvent?(console.log("Client side error."),t=`Error: ${e.error.message}`):(console.log("Server side error."),t=`Error Code: ${e.status}\nMessage: ${e.message}`),console.log(t),(0,i._)(t)}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(c.eN),a.LFG(d.F))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},7877:function(e,t,r){"use strict";r.r(t),r.d(t,{HttpLoaderFactory:function(){return _},TravelModePageModule:function(){return U}});var i=r(8583),s=r(3679),n=r(7823),o=r(4481),a=r(4762),c=r(3018),d=r(4426),h=r(2340),l=r(4197),u=r(6522),p=r(297),g=r(5056),v=r(1177),m=r(1799),b=r(7324),f=r(791),y=r(7800),S=r(4687);const x=["map"];function Z(e,t){if(1&e&&(c.TgZ(0,"p"),c._uU(1),c.ALo(2,"translate"),c.ALo(3,"date"),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.lnq(" ",c.lcZ(2,3,"Price"),": ",e.totalPrice," \u043b\u0432. | ",c.xi3(3,5,1e3*e.secsDiff,"mm:ss")," ")}}function T(e,t){if(1&e&&(c.TgZ(0,"p"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.AsE(" ",c.lcZ(2,2,"Price"),": ",e.totalPrice," \u043b\u0432. ")}}function O(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"button",26),c.NdJ("click",function(){return c.CHM(e),c.oxw().cancelTrip()}),c._uU(1),c.ALo(2,"translate"),c.qZA()}2&e&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"Cancel")," "))}function A(e,t){1&e&&(c.TgZ(0,"ion-label",27),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&e&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"You have new message"),". "))}function C(e,t){1&e&&(c.TgZ(0,"ul",28),c.TgZ(1,"li",29),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.qZA()),2&e&&(c.xp6(2),c.Oqu(c.lcZ(3,1,"No messages for now")))}function N(e,t){if(1&e&&(c.TgZ(0,"ul"),c.TgZ(1,"li",30),c._uU(2),c.qZA(),c.qZA()),2&e){const e=t.$implicit,r=c.oxw();c.xp6(1),c.Q6J("ngClass",e.user===r.msgDto.user?"in-msg":"ex-msg"),c.xp6(1),c.AsE(" ",e.user,": ",e.text," ")}}const M=[{path:"",component:(()=>{class e{constructor(e,t,r,i,s,n,o,a,c,d,h){this.route=e,this.orderService=t,this.accountService=r,this.tripService=i,this.driverService=s,this.localNotifications=n,this.alertController=o,this.chatService=a,this.translate=c,this.popoverController=d,this.callNumber=h,this.user=this.accountService.userValue,this.driverId=this.accountService.userValue.driverId,this.carModel="",this.carColor="",this.firstName="",this.lastName="",this.messages=this.chatService.messages,this.chatStyle="",this.subscriptions=[],this.maxTime=3e4,this.msgDto=new l.v,this.msgInboxArray=[],this.translate.setDefaultLang(this.accountService.userValue.choosenLanguage)}ngOnInit(){this.chatService.stop(),this.chatService.start(),this.checkorder(),this.chatService.retrieveMappedObject().subscribe(e=>{this.addToInbox(e)});const e=(new d.su).configureLogging(d.in.Information).withUrl(`${h.N.signalRUrl}/orderHub`).build();e.start().then(function(){console.log("signalR Connected in travel-mode")}).catch(function(t){console.log("Reconnecting in 1 sec."),setTimeout(()=>e.start(),1e3)}),e.on("BroadcastMessage",()=>{this.checkorder()}),e.on("StartTrip",()=>{this.checkorder()}),e.on("Navigate",()=>{this.checkorder()}),e.on("OrderAccepted",e=>{this.subscriptions.push(this.orderService.getOrderById(e).subscribe(e=>{e.id==this.order.id&&"Accepted"==e.status&&this.presentOrderAcceptedNotification()}))}),e.on("OrderWaiting",e=>{this.subscriptions.push(this.orderService.getMyOrder(this.user.id).subscribe(t=>{t.id==e&&this.canceledOrder()}))}),e.on("LocateDriver",e=>{this.subscriptions.push(this.orderService.getMyOrder(this.user.id).subscribe(t=>{this.subscriptions.push(this.driverService.getDriver(e).subscribe(t=>{t.id==e&&this.loadMap(this.mapRef,t.applicationUserId)}))}))}),e.on("NotifyArrived",e=>{this.subscriptions.push(this.orderService.getOrderById(e).subscribe(t=>{1==t.isDriverArrived&&this.order.id==e&&(this.presentDriverArrivedNotification(),this.accountService.userValue.alertTriggered=!0,this.subscriptions.push(this.accountService.updateAlert(this.user.id,!0).subscribe(()=>{})),this.accountService.userValue.timer=new Date,60==this.seconds&&(this.seconds=0),this.startTimer())}))}),e.on("CompleteOrder",e=>{this.order.id==e&&(this.accountService.userValue.alertTriggered=!1,this.subscriptions.push(this.accountService.updateAlert(this.user.id,!1).subscribe(()=>{})),this.completedOrderAlert())})}ionViewDidEnter(){this.checkorder(),1==this.accountService.userValue.alertTriggered&&this.startTimer()}checkorder(){this.subscriptions.push(this.orderService.getMyOrder(this.user.id).subscribe(e=>{e?(this.totalPrice=e.totalPrice,this.orderStatus=e.status,this.orderAcceptedBy=e.acceptedBy,this.orderService.currentOrderId=e.id,this.location=e.location,this.destination=e.destination,(Math.round(100*this.orderTotalPrice)/100).toFixed(2),this.orderTotalPrice=e.totalPrice,this.order=e,this.estimatedDuration=e.eta,null!=e.acceptedBy&&(this.getUserById(e.acceptedBy),this.getAcceptedTrip(e.acceptedBy),this.driverId=e.acceptedBy)):(this.accountService.userValue.alertTriggered=!1,this.subscriptions.push(this.accountService.updateAlert(this.user.id,!1).subscribe(()=>{})),this.orderTotalPrice=0)},e=>{console.log(e)}))}startTimer(){this.startTime=new Date(this.accountService.userValue.timer),setInterval(()=>{300==this.secsDiff&&this.subscriptions.push(this.orderService.increaseOrderPrice(this.order.id,.5).subscribe(()=>{})),this.secsDiff>=300&&this.secsDiff%60==59&&(console.log("time to up"),this.subscriptions.push(this.orderService.increaseOrderPrice(this.order.id,.5).subscribe(()=>{}))),this.secsDiff=(new Date).getTime()-this.startTime.getTime(),this.secsDiff=Math.floor(this.secsDiff/1e3)},1e3)}presentOrderAcceptedNotification(){this.translate.get(["Order","Your order is accepted"]).subscribe(e=>{this.localNotifications.schedule({id:1,title:e.Order,text:e["Your order is accepted"],data:{secret:"secret"}})})}presentDriverArrivedNotification(){this.translate.get(["Order","Your driver is on the address, free waiting time 5min"]).subscribe(e=>(0,a.mG)(this,void 0,void 0,function*(){this.localNotifications.schedule({id:2,title:e.Order,text:e["Your driver is on the address, free waiting time 5min"],data:{secret:"secret"}})}))}chat(){var e=document.getElementById("chat");"none"===e.style.display?(e.style.display="block",this.chatStyle="block"):(e.style.display="none",this.chatStyle="none")}send(){if(this.msgDto){if(0==this.msgDto.text.length)return void window.alert("Text field is required.");this.msgDto.user=`${this.accountService.userValue.firstName} ${this.accountService.userValue.lastName}`,this.chatService.broadcastMessage(this.msgDto)}}clearMessages(){this.messages.length=0}addToInbox(e){let t=new l.v;t.user=e.user,t.text=e.text,this.msgInboxArray.push(t),this.msgDto.text=""}getUserById(e){this.subscriptions.push(this.accountService.getById(e).subscribe(e=>{this.firstName=e.firstName,this.lastName=e.lastName,this.driverId=e.driverId,this.phoneNumber=e.phone,this.subscriptions.push(this.driverService.getDriverActiveCar(e.driverId).subscribe(e=>{this.carModel=e.model,this.carColor=e.color}))}))}callDriver(){let e=this.phoneNumber.toString();this.callNumber.callNumber(e,!0).then(e=>console.log("Launched dialer!",e)).catch(e=>console.log("Error launching dialer",e))}getAcceptedTrip(e){this.subscriptions.push(this.tripService.getTrip(e).subscribe(t=>{null!=t?(this.tripStatus=t.status,"Started"==t.status&&(this.accountService.userValue.alertTriggered=!1,this.subscriptions.push(this.accountService.updateAlert(this.user.id,!1).subscribe(()=>{}))),this.currentTrip=t,this.loadMap(this.mapRef,e)):console.log("No trip!")}))}addToFavourite(){let e={applicationUserId:this.order.applicationUserId,location:this.order.location,locationLat:this.order.locationLat,locationLong:this.order.locationLong,destination:this.order.destination,destinationLat:this.order.destinationLat,destinationLong:this.order.destinationLong,totalPrice:this.order.totalPrice};e?this.subscriptions.push(this.orderService.addToFavourites(e).subscribe(()=>{this.successAddedFavourite()})):console.log("Problem with data occured")}loadMap(e,t){return(0,a.mG)(this,void 0,void 0,function*(){this.subscriptions.push(this.accountService.getById(t).subscribe(t=>{this.subscriptions.push(this.driverService.getDriver(t.driverId).subscribe(t=>{const r={lat:+t.currentLocationLat,lng:+t.currentLocationLong},i={center:new google.maps.LatLng(r.lat,r.lng),zoom:15,disableDefaultUI:!0};null!=e&&(this.map=new google.maps.Map(e.nativeElement,i));var s={url:"https://images.vexels.com/media/users/3/154573/isolated/preview/bd08e000a449288c914d851cb9dae110-hatchback-car-top-view-silhouette-by-vexels.png",scaledSize:new window.google.maps.Size(25,25),anchor:{x:10,y:10}};new google.maps.Marker({position:new google.maps.LatLng(r),icon:s,map:this.map})}))}))})}cancelTrip(){return(0,a.mG)(this,void 0,void 0,function*(){this.alertForCancel()})}alertForCancel(){return(0,a.mG)(this,void 0,void 0,function*(){this.translate.get(["Are you sure you want to cancel the order?","Your rating will decrease!","Confirm","Cancel"]).subscribe(e=>(0,a.mG)(this,void 0,void 0,function*(){const t=yield this.alertController.create({header:e["Are you sure you want to cancel the order?"],message:e["Your rating will decrease!"],buttons:[{text:e.Cancel},{text:e.Confirm,handler:()=>{this.subscriptions.push(this.tripService.getTrip(this.orderAcceptedBy).subscribe(e=>{this.subscriptions.push(this.tripService.cancelTrip(e.id).subscribe(t=>{this.subscriptions.push(this.accountService.updateDriving(this.orderAcceptedBy,!1).subscribe(()=>{})),this.accountService.userValue.isDrivingNow=!1,this.subscriptions.push(this.orderService.deleteOrder(e.orderId).subscribe(()=>this.route.navigate(["menu/travelling"])))}))}))}}]});yield t.present()}))})}openLanguagePopover(e){return(0,a.mG)(this,void 0,void 0,function*(){const t=yield this.popoverController.create({component:u.m,event:e});yield t.present()})}completedOrderAlert(){return(0,a.mG)(this,void 0,void 0,function*(){this.translate.get(["You have reached the final destination! Did you enjoyed the trip?","Yes","No","Cancel","Report a problem"]).subscribe(e=>(0,a.mG)(this,void 0,void 0,function*(){const t=yield this.alertController.create({cssClass:"my-custom-class",header:e["You have reached the final destination! Did you enjoyed the trip?"],buttons:[{text:e.Yes,role:"cancel",handler:()=>{this.subscriptions.push(this.driverService.voteUp(this.driverId).subscribe(e=>{})),this.route.navigate(["menu/travelling"])}},{text:e.No,role:"no",handler:()=>{this.subscriptions.push(this.driverService.voteDown(this.driverId).subscribe(e=>{})),this.route.navigate(["menu/travelling"])}},{text:e.Cancel,role:"cancel",handler:()=>{this.route.navigate(["menu/travelling"])}},{text:e["Report a problem"],role:"cancel",handler:()=>{this.route.navigate(["menu/report"])}}]});this.route.navigate(["menu/travelling"]),yield t.present()}))})}successAddedFavourite(){return(0,a.mG)(this,void 0,void 0,function*(){this.translate.get(["Successfully added to favourites!","Cancel"]).subscribe(e=>(0,a.mG)(this,void 0,void 0,function*(){const t=yield this.alertController.create({header:e["Successfully added to favourites!"],buttons:[{text:e.Cancel,role:"cancel"}]});yield t.present()}))})}canceledOrder(){return(0,a.mG)(this,void 0,void 0,function*(){this.translate.get(["Order is cancelled by the driver."]).subscribe(e=>(0,a.mG)(this,void 0,void 0,function*(){const t=yield this.alertController.create({header:e["Order is cancelled by the driver."],buttons:[{text:"Ok",handler:()=>{this.route.navigate(["menu/travelling"])}}]});yield t.present()}))})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(o.F0),c.Y36(p.p),c.Y36(g.B),c.Y36(v.a),c.Y36(m.F),c.Y36(b.sn),c.Y36(n.Br),c.Y36(f.a),c.Y36(y.sK),c.Y36(n.Dh),c.Y36(S.X))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-travel-mode"]],viewQuery:function(e,t){if(1&e&&c.Gf(x,1,c.SBq),2&e){let e;c.iGM(e=c.CRH())&&(t.mapRef=e.first)}},decls:55,vars:34,consts:[["slot","start"],[1,"blink_me"],["slot","end"],["id","toolbarIcon","name","language-outline",3,"click"],["id","map"],["map",""],[1,"row"],[1,"col"],[1,"list-group"],[1,"list-group-item","list-group-item-action","flex-column","align-items-start"],["name","analytics-outline",1,"mr-2"],[1,"d-flex","w-100","justify-content-between"],[4,"ngIf"],["type","button",1,"fonted","btn","btn-warning","mb-1",3,"click"],["name","call",1,"mr-2"],["type","button",1,"fonted","btn","btn-secondary","mr-1",3,"click"],["type","button",1,"fonted","btn","btn-info",3,"click"],["class","fonted btn btn-warning ml-1","type","button",3,"click",4,"ngIf"],["class","blink_me fonted",4,"ngIf"],["id","chat",1,"row","chat",2,"display","none"],[1,"msg-box"],["class","text-center mr-5",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"type"],[3,"ngModel","placeholder","ngModelChange"],["name","send-outline",3,"click"],["type","button",1,"fonted","btn","btn-warning","ml-1",3,"click"],[1,"blink_me","fonted"],[1,"text-center","mr-5"],[1,"fonted"],[1,"fonted",3,"ngClass"]],template:function(e,t){1&e&&(c.TgZ(0,"ion-content"),c.TgZ(1,"ion-header"),c.TgZ(2,"ion-toolbar"),c.TgZ(3,"ion-buttons",0),c._UZ(4,"ion-menu-button"),c.qZA(),c.TgZ(5,"ion-title"),c.TgZ(6,"ion-label",1),c._uU(7),c.ALo(8,"translate"),c.qZA(),c.qZA(),c.TgZ(9,"ion-buttons",2),c.TgZ(10,"ion-icon",3),c.NdJ("click",function(e){return t.openLanguagePopover(e)}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(11,"div",4,5),c.qZA(),c.TgZ(13,"ion-footer"),c.TgZ(14,"div",6),c.TgZ(15,"div",7),c.TgZ(16,"div",8),c.TgZ(17,"a",9),c.TgZ(18,"p"),c._uU(19),c.ALo(20,"translate"),c.ALo(21,"translate"),c.qZA(),c._UZ(22,"hr"),c.TgZ(23,"p"),c._UZ(24,"ion-icon",10),c._uU(25),c.qZA(),c._UZ(26,"hr"),c.TgZ(27,"div",11),c.YNc(28,Z,4,8,"p",12),c.YNc(29,T,3,4,"p",12),c.TgZ(30,"button",13),c.NdJ("click",function(){return t.callDriver()})("click",function(){return t.clearMessages()}),c._UZ(31,"ion-icon",14),c._uU(32),c.ALo(33,"translate"),c.qZA(),c.qZA(),c.TgZ(34,"div",11),c.TgZ(35,"button",15),c.NdJ("click",function(){return t.chat()})("click",function(){return t.clearMessages()}),c._uU(36),c.ALo(37,"translate"),c.qZA(),c.TgZ(38,"button",16),c.NdJ("click",function(){return t.addToFavourite()}),c._uU(39),c.ALo(40,"translate"),c.qZA(),c.YNc(41,O,3,3,"button",17),c.qZA(),c._UZ(42,"br"),c.YNc(43,A,3,3,"ion-label",18),c.TgZ(44,"div",19),c.TgZ(45,"div",7),c.TgZ(46,"ion-card"),c.TgZ(47,"div",20),c.YNc(48,C,4,3,"ul",21),c.YNc(49,N,3,3,"ul",22),c.qZA(),c.qZA(),c.TgZ(50,"ion-card",23),c.TgZ(51,"ion-item"),c.TgZ(52,"ion-input",24),c.NdJ("ngModelChange",function(e){return t.msgDto.text=e}),c.ALo(53,"translate"),c.qZA(),c.TgZ(54,"ion-icon",25),c.NdJ("click",function(){return t.send()}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(7),c.Oqu(c.lcZ(8,20,"Waiting for the car")),c.xp6(12),c.Q0o("",t.firstName," ",t.lastName," ",c.lcZ(20,22,"will arrive with")," ",t.carColor," ",t.carModel," ",c.lcZ(21,24,"in about")," ",t.estimatedDuration,"."),c.xp6(6),c.hij("",t.destination," "),c.xp6(3),c.Q6J("ngIf",1==t.accountService.userValue.alertTriggered),c.xp6(1),c.Q6J("ngIf",0==t.accountService.userValue.alertTriggered),c.xp6(3),c.hij("",c.lcZ(33,26,"Call driver")," "),c.xp6(4),c.hij(" ",c.lcZ(37,28,"Chat")," "),c.xp6(3),c.hij(" ",c.lcZ(40,30,"Add to favourites")," "),c.xp6(2),c.Q6J("ngIf","Processing"==t.tripStatus),c.xp6(2),c.Q6J("ngIf",0!=t.messages.length&&"none"==t.chatStyle),c.xp6(5),c.Q6J("ngIf",0==t.msgInboxArray.length),c.xp6(1),c.Q6J("ngForOf",t.msgInboxArray),c.xp6(3),c.Q6J("ngModel",t.msgDto.text)("placeholder",c.lcZ(53,32,"Type your message...")))},directives:[n.W2,n.Gu,n.sr,n.Sm,n.fG,n.wd,n.Q$,n.gu,n.fr,i.O5,n.PM,i.sg,n.Ie,n.pK,n.j9,s.JJ,s.On,i.mk],pipes:[y.X$,i.uU],styles:["ion-content[_ngcontent-%COMP%]{--ion-background-color:#353535}ion-toolbar[_ngcontent-%COMP%]{--ion-background-color:#eee}ion-title[_ngcontent-%COMP%]{text-align:center}#marker[_ngcontent-%COMP%]{position:absolute;background:url(http://maps.gstatic.com/mapfiles/markers2/marker.png) no-repeat;top:50%;left:50%;z-index:1;margin-left:-10px;margin-top:-34px;height:34px;width:20px;cursor:pointer}#map[_ngcontent-%COMP%]{height:100%;width:100%}#toolbarIcon[_ngcontent-%COMP%]{font-size:1.7em}.centered[_ngcontent-%COMP%]{text-align:center}.textTravel[_ngcontent-%COMP%]{font-size:1.5em}.text[_ngcontent-%COMP%], .textTravel[_ngcontent-%COMP%]{font-family:Open Sans Light}.text[_ngcontent-%COMP%]{font-size:2.4em}i[_ngcontent-%COMP%]{color:#eee}.my-custom-class[_ngcontent-%COMP%]{--background:#e5e5e5}.checkbox-icon[_ngcontent-%COMP%]{color:#fff}ion-checkbox[_ngcontent-%COMP%]{--border-color:#fff}ion-select[_ngcontent-%COMP%]{color:#383838;background-color:#fff;border-radius:10px;border:3px solid #eee}.blink_me[_ngcontent-%COMP%]{-webkit-animation:blinker 1s linear infinite;animation:blinker 1s linear infinite}@-webkit-keyframes blinker{50%{opacity:0}}@keyframes blinker{50%{opacity:0}}.backIcon[_ngcontent-%COMP%]{font-size:150%}.back[_ngcontent-%COMP%], .backIcon[_ngcontent-%COMP%]{color:#ffae00}.fonted[_ngcontent-%COMP%], .msg-box[_ngcontent-%COMP%]{font-family:Open Sans Light}.msg-box[_ngcontent-%COMP%]{width:100%;height:140px;padding:10px 30px;font-size:14px;overflow:auto}.msg-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:-5px;list-style:none}.msg-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .ex-msg[_ngcontent-%COMP%]{text-align:right}.msg-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .in-msg[_ngcontent-%COMP%]{text-align:left;margin-left:-60px}"]}),e})()}];let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[o.Bz.forChild(M)],o.Bz]}),e})();var $=r(1841),k=r(2472),P=r(3577);function _(e){return new k.w(e)}let U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[S.X],imports:[[i.ez,s.u5,n.Pc,w,y.aw.forChild({loader:{provide:y.Zw,useFactory:_,deps:[$.eN]}}),P.LanguagePopoverPageModule]]}),e})()}}]);