!function(){function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(self.webpackChunkcsharpcornerauthor=self.webpackChunkcsharpcornerauthor||[]).push([[9088],{297:function(r,n,i){"use strict";i.d(n,{p:function(){return p}});var o=i(205),a=i(5304),s=i(3342),c=i(2340),u=i(3018),l=i(1841),d=i(728),p=function(){var r=function(){function r(t,n){e(this,r),this.http=t,this.sharedService=n,this.orders=[],this.completedOrder=!1}return t(r,[{key:"createOrder",value:function(e){var r=this.sharedService.headerGerneration();return this.http.post("".concat(c.N.apiUrl,"/api/order"),e,{headers:r,responseType:"text"}).pipe((0,a.K)(this.handleError))}},{key:"addToFavourites",value:function(e){var r=this.sharedService.headerGerneration();return this.http.post("".concat(c.N.apiUrl,"/api/order/favourites"),e,{headers:r,responseType:"text"}).pipe((0,a.K)(this.handleError))}},{key:"getMyFavourites",value:function(e){var r=this.sharedService.headerGerneration();return this.http.get("".concat(c.N.apiUrl,"/api/order/favourites/").concat(e),{headers:r}).pipe((0,a.K)(this.handleError))}},{key:"deleteFavouriteOrder",value:function(e){var r=this.sharedService.headerGerneration();return this.http.delete("".concat(c.N.apiUrl,"/api/order/favourites/").concat(e),{headers:r}).pipe((0,s.b)(function(e){return console.log("deleted favourite order: ",JSON.stringify(e))}),(0,a.K)(this.handleError))}},{key:"getDirections",value:function(e,r,t,n){var i=this.sharedService.headerGerneration();return this.http.post("https://maps.googleapis.com/maps/api/distancematrix/json?units=imperial&origins=".concat(e,",").concat(r,"&destinations=").concat(t,"%2C").concat(n,"%7C&key=AIzaSyAEvlXdM4joG4bNVT5l-tJSk9lUSGhxMNw"),{headers:i,responseType:"text"}).pipe((0,a.K)(this.handleError))}},{key:"getOrderById",value:function(e){var r=this,t=this.sharedService.headerGerneration();return this.http.get("".concat(c.N.apiUrl,"/api/order/id/").concat(e),{headers:t}).pipe((0,s.b)(function(e){return r.order=e}))}},{key:"getCanceledOrderById",value:function(e){var r=this,t=this.sharedService.headerGerneration();return this.http.get("".concat(c.N.apiUrl,"/api/order/canceled/").concat(e),{headers:t}).pipe((0,s.b)(function(e){return r.order=e}))}},{key:"getLastCompletedOrder",value:function(e){var r=this.sharedService.headerGerneration();return this.http.get("".concat(c.N.apiUrl,"/api/order/completed/").concat(e),{headers:r}).pipe((0,a.K)(this.handleError))}},{key:"getMyOrder",value:function(e){var r=this.sharedService.headerGerneration();return this.http.get("".concat(c.N.apiUrl,"/api/order/").concat(e),{headers:r}).pipe((0,a.K)(this.handleError))}},{key:"getOrderForChat",value:function(e){var r=this.sharedService.headerGerneration();return this.http.get("".concat(c.N.apiUrl,"/api/order/chat/").concat(e),{headers:r}).pipe((0,a.K)(this.handleError))}},{key:"getAllOrders",value:function(){var e=this.sharedService.headerGerneration();return this.http.get("".concat(c.N.apiUrl,"/api/order"),{headers:e}).pipe((0,a.K)(this.handleError))}},{key:"getNormalOrders",value:function(){var e=this.sharedService.headerGerneration();return this.http.get("".concat(c.N.apiUrl,"/api/order/normal"),{headers:e}).pipe((0,a.K)(this.handleError))}},{key:"getComfortOrders",value:function(){var e=this.sharedService.headerGerneration();return this.http.get("".concat(c.N.apiUrl,"/api/order/comfort"),{headers:e}).pipe((0,a.K)(this.handleError))}},{key:"acceptOrder",value:function(e,r){var t=this,n=this.sharedService.headerGerneration();return this.http.put("".concat(c.N.apiUrl,"/api/order/").concat(e,"/").concat(r),{headers:n,responseType:"json"}).pipe((0,s.b)(function(e){return t.driverId=r}),(0,a.K)(this.handleError))}},{key:"updateOrderEta",value:function(e,r){var t=this.sharedService.headerGerneration();return this.http.put("".concat(c.N.apiUrl,"/api/order/eta/").concat(e,"/").concat(r),{headers:t,responseType:"json"}).pipe((0,a.K)(this.handleError))}},{key:"updateDriverArrived",value:function(e){var r=this.sharedService.headerGerneration();return this.http.put("".concat(c.N.apiUrl,"/api/order/arrived/").concat(e),{headers:r,responseType:"json"}).pipe((0,a.K)(this.handleError))}},{key:"rateOrder",value:function(e){var r=this.sharedService.headerGerneration();return this.http.put("".concat(c.N.apiUrl,"/api/order/rate/").concat(e),{headers:r,responseType:"json"}).pipe((0,a.K)(this.handleError))}},{key:"increaseOrderPrice",value:function(e,r){var t=this.sharedService.headerGerneration();return this.http.put("".concat(c.N.apiUrl,"/api/order/increase/").concat(e,"/").concat(r),{headers:t,responseType:"json"}).pipe((0,a.K)(this.handleError))}},{key:"completeOrder",value:function(e){var r=this.sharedService.headerGerneration();return this.http.put("".concat(c.N.apiUrl,"/api/order/").concat(e),{headers:r,responseType:"json"}).pipe((0,a.K)(this.handleError))}},{key:"deleteOrder",value:function(e){var r=this.sharedService.headerGerneration();return this.http.delete("".concat(c.N.apiUrl,"/api/order/").concat(e),{headers:r}).pipe((0,s.b)(function(e){return console.log("deleted order: ",JSON.stringify(e))}),(0,a.K)(this.handleError))}},{key:"driverIncreaseOrderPrice",value:function(e,r,t){var n=this.sharedService.headerGerneration();return this.http.put("".concat(c.N.apiUrl,"/api/order/increased/").concat(e,"/").concat(r,"/").concat(t),{headers:n,responseType:"json"}).pipe((0,a.K)(this.handleError))}},{key:"resetIncreasing",value:function(e){var r=this.sharedService.headerGerneration();return this.http.put("".concat(c.N.apiUrl,"/api/order/reset/").concat(e),{headers:r,responseType:"json"}).pipe((0,a.K)(this.handleError))}},{key:"increasedOrderAccept",value:function(e,r){var t=this.sharedService.headerGerneration();return this.http.put("".concat(c.N.apiUrl,"/api/order/accepted/increase/").concat(e,"/").concat(r),{headers:t,responseType:"json"}).pipe((0,a.K)(this.handleError))}},{key:"incrementOrderPrice",value:function(e){var r=this.sharedService.headerGerneration();return this.http.put("".concat(c.N.apiUrl,"/api/order/increment/").concat(e),{headers:r,responseType:"json"}).pipe((0,a.K)(this.handleError))}},{key:"decrementOrderPrice",value:function(e){var r=this.sharedService.headerGerneration();return this.http.put("".concat(c.N.apiUrl,"/api/order/decrement/").concat(e),{headers:r,responseType:"json"}).pipe((0,a.K)(this.handleError))}},{key:"handleError",value:function(e){var r="";return e.error instanceof ErrorEvent?(console.log("Client side error."),r="Error: ".concat(e.error.message)):(console.log("Server side error."),r="Error Code: ".concat(e.status,"\nMessage: ").concat(e.message)),console.log(r),(0,o._)(r)}}]),r}();return r.\u0275fac=function(e){return new(e||r)(u.LFG(l.eN),u.LFG(d.F))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r}()},9088:function(r,n,i){"use strict";i.r(n),i.d(n,{HttpLoaderFactory:function(){return J},OrderDetailsPageModule:function(){return j}});var o=i(8583),a=i(3679),s=i(7823),c=i(4481),u=i(4762),l=i(3018),d=i(4426),p=i(8442),h=i(2340),g=i(6522),v=i(7800),f=i(5056),m=i(297),y=i(1799),b=i(8948),w=i(1177),Z=["map"];function k(e,r){if(1&e){var t=l.EpF();l.TgZ(0,"button",24),l.NdJ("click",function(){return l.CHM(t),l.oxw().showMap()}),l._uU(1),l.ALo(2,"translate"),l.qZA()}2&e&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"Show map")))}function x(e,r){if(1&e){var t=l.EpF();l.TgZ(0,"button",24),l.NdJ("click",function(){return l.CHM(t),l.oxw().hideMap()}),l._uU(1),l.ALo(2,"translate"),l.qZA()}2&e&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"Show details")))}function O(e,r){1&e&&l._UZ(0,"ion-icon",25)}function A(e,r){if(1&e&&(l.TgZ(0,"small",26),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e){var t=l.oxw();l.xp6(1),l.AsE("",l.lcZ(2,2,"Pickup time")," ",t.order.pickUpTime,"")}}function T(e,r){1&e&&(l.TgZ(0,"small"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij("",l.lcZ(2,1,"Additional options"),":"))}function S(e,r){1&e&&(l.TgZ(0,"li"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"Pets")))}function I(e,r){1&e&&(l.TgZ(0,"li"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"Baggage")))}function U(e,r){1&e&&(l.TgZ(0,"li"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"Special needs")))}function C(e,r){1&e&&(l.TgZ(0,"small"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij("",l.lcZ(2,1,"Desired car type"),":"))}function N(e,r){if(1&e&&(l.TgZ(0,"ul"),l.TgZ(1,"li"),l._uU(2),l.qZA(),l.qZA()),2&e){var t=l.oxw();l.xp6(2),l.Oqu(t.order.carType)}}function q(e,r){1&e&&(l.TgZ(0,"small"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij("",l.lcZ(2,1,"Additional requirements"),":"))}function _(e,r){if(1&e&&(l.TgZ(0,"ul"),l.TgZ(1,"li"),l._uU(2),l.qZA(),l.qZA()),2&e){var t=l.oxw();l.xp6(2),l.Oqu(t.order.description)}}function M(e,r){1&e&&(l.TgZ(0,"p",27),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"Offer more price to order")))}function G(e,r){if(1&e){var t=l.EpF();l.TgZ(0,"div",9),l.TgZ(1,"button",28),l.NdJ("click",function(){return l.CHM(t),l.oxw().offer(1)}),l._uU(2,"+1\u043b\u0432"),l.qZA(),l.TgZ(3,"button",28),l.NdJ("click",function(){return l.CHM(t),l.oxw().offer(2)}),l._uU(4,"+2\u043b\u0432"),l.qZA(),l.TgZ(5,"button",28),l.NdJ("click",function(){return l.CHM(t),l.oxw().offer(3)}),l._uU(6,"+3\u043b\u0432"),l.qZA(),l.TgZ(7,"button",28),l.NdJ("click",function(){return l.CHM(t),l.oxw().offer(4)}),l._uU(8,"+4\u043b\u0432"),l.qZA(),l.TgZ(9,"button",28),l.NdJ("click",function(){return l.CHM(t),l.oxw().offer(5)}),l._uU(10,"+5\u043b\u0432"),l.qZA(),l.qZA()}}var D,L=p.Vn.Geolocation,E=[{path:"",component:(D=function(){function r(t,n,i,o,a,s,c,u,l,d){e(this,r),this.translate=t,this.popoverController=n,this.accountService=i,this.router=o,this.route=a,this.orderService=s,this.driverService=c,this.walletService=u,this.tripService=l,this.alertController=d,this.orderId=this.route.snapshot.params.id,this.applicationUserId=this.accountService.userValue.id,this.isDrivingNow=this.accountService.userValue.isDrivingNow,this.order={id:"",location:"",locationLat:"",locationLong:"",destination:"",destinationLat:"",destinationLong:"",increasePrice:"",isAccepted:null,isCompleted:null,createdOn:null,status:null,applicationUser:null,applicationUserId:null,totalPrice:null,acceptedBy:null,tripDistance:null,userDistance:null,withPets:null,withStroller:null,carType:null,isRated:null,km:null,distanceText:null,eta:null,isDeleted:null,isDriverArrived:null,increasedByDriver:null,increaseAccepted:null,increasedBy:null,special:null,pickUpTime:null,description:null},this.mapVisible=!1,this.subscriptions=[],this.translate.setDefaultLang(this.accountService.userValue.choosenLanguage)}return t(r,[{key:"ngOnInit",value:function(){var e=this;this.mapId=document.getElementById("map"),this.mapId.style.display="none",this.orderDiv=document.getElementById("order"),this.orderDiv.style.display="block";var r=(new d.su).configureLogging(d.in.Information).withUrl("".concat(h.N.signalRUrl,"/orderHub")).build();r.start().then(function(){console.log("signalR Connected in travel-mode")}).catch(function(e){console.log("Reconnecting in 1 sec."),setTimeout(function(){return r.start()},1e3)}),r.on("NotifyDriver",function(r){e.subscriptions.push(e.orderService.getOrderById(r).subscribe(function(r){e.order.id==r.id&&(1==r.increaseAccepted?e.IncreaseAccepted(r):0==r.increaseAccepted&&e.IncreaseRefused())}))}),r.on("OrderDeleted",function(r){e.subscriptions.push(e.orderService.getOrderById(r).subscribe(function(r){e.order.id==r.id&&e.OrderTaken()}))})}},{key:"ionViewDidEnter",value:function(){var e=this;this.orderDiv.style.display="block",this.mapId.style.display="none",this.subscriptions.push(this.orderService.getOrderById(this.orderId).subscribe(function(r){if(null==r)return e.OrderTaken();e.canIncrease=r.totalPrice<=3.5,e.order=r,e.calculateEta(e.order),e.loadMap(e.mapRef)}))}},{key:"loadMap",value:function(e){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function r(){var t,n,i,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t={lat:+this.order.locationLat,lng:+this.order.locationLong},n={center:new google.maps.LatLng(t.lat,t.lng),zoom:14,disableDefaultUI:!0,mapTypeId:google.maps.MapTypeId.ROADMAP,zoomControl:!1},null!=e&&(this.map=new google.maps.Map(e.nativeElement,n)),i={url:"https://www.freeiconspng.com/uploads/-human-male-man-people-person-profile-red-user-icon--icon--23.png",scaledSize:new window.google.maps.Size(25,25),anchor:{x:10,y:10}},o=new google.maps.Marker({position:new google.maps.LatLng(t),icon:i,map:this.map}),this.navigateToUserAndCalculateDistance(o);case 4:case"end":return r.stop()}},r,this)}))}},{key:"navigateToUserAndCalculateDistance",value:function(e){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function r(){var t,n,i,o,a,s,c=this;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=new google.maps.DirectionsService,n=new google.maps.DirectionsRenderer,r.next=4,L.getCurrentPosition();case 4:i=r.sent,o={lat:i.coords.latitude,lng:i.coords.longitude},a=+this.order.locationLat,s=+this.order.locationLong,t.route({origin:{lat:o.lat,lng:o.lng},destination:{lat:a,lng:s},travelMode:google.maps.TravelMode.DRIVING},function(r,t){if("OK"===t){n.setDirections(r);var i=new google.maps.LatLng(o.lat,o.lng),u=new google.maps.LatLng(a,s);c.distance=(google.maps.geometry.spherical.computeDistanceBetween(i,u)/1e3).toFixed(2),new google.maps.InfoWindow({content:"".concat(c.distance," km from you.")}).open(c.map,e)}else window.alert("Directions request failed due to "+t)}),n.setMap(this.map);case 8:case"end":return r.stop()}},r,this)}))}},{key:"hideMap",value:function(){this.orderDiv.style.display="block",this.mapId.style.display="none",this.mapVisible=!1,this.orderDiv.cancelable&&this.orderDiv.preventDefault(),this.mapId.cancelable&&this.mapId.preventDefault()}},{key:"showMap",value:function(){this.orderDiv.style.display="none",this.mapId.style.display="block",this.mapVisible=!0,this.loadMap(this.mapRef),this.orderDiv.cancelable&&this.orderDiv.preventDefault(),this.mapId.cancelable&&this.mapId.preventDefault()}},{key:"offer",value:function(e){var r=this;this.subscriptions.push(this.orderService.getOrderById(this.order.id).subscribe(function(t){if("Canceled"==t.status)return r.OrderTaken(),void r.router.navigate(["menu/driving"]);r.subscriptions.push(r.orderService.driverIncreaseOrderPrice(r.order.id,e,r.accountService.userValue.driverId).subscribe(function(){}))}))}},{key:"calculateEta",value:function(e){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function r(){var t,n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,L.getCurrentPosition();case 2:t=r.sent,n={lat:t.coords.latitude,lng:t.coords.longitude},this.myLat=n.lat,this.myLng=n.lng,(new google.maps.DirectionsService).route({origin:{lat:+this.myLat,lng:+this.myLng},destination:{lat:+e.locationLat,lng:+e.locationLong},travelMode:google.maps.TravelMode.DRIVING},function(r,t){"OK"===t&&(e.eta=r.routes[0].legs[0].duration.text)});case 5:case"end":return r.stop()}},r,this)}))}},{key:"acceptOrder",value:function(e){var r=this;this.subscriptions.push(this.orderService.getOrderById(e.id).subscribe(function(t){return t.applicationUserId==r.applicationUserId?r.OwnOrderError():"Canceled"==t.status?(r.OrderTaken(),void r.router.navigate(["menu/driving"])):void r.subscriptions.push(r.driverService.getDriverActiveCar(r.accountService.userValue.driverId).subscribe(function(t){if(1==t.typeId&&"Comfort"==e.carType)return r.WrongCarAlert();r.subscriptions.push(r.driverService.getDriver(r.accountService.userValue.driverId).subscribe(function(t){r.tripPriceForDriver=e.totalPrice*(t.comission/100),r.subscriptions.push(r.walletService.getMyWallet(r.applicationUserId).subscribe(function(t){if(t.ammount<r.tripPriceForDriver)r.NotEnoughCashAlert();else{var n=r.accountService.userValue.id;r.accountService.userValue.isDrivingNow=!0,r.subscriptions.push(r.accountService.updateDriving(r.applicationUserId,!0).subscribe(function(){})),r.isDrivingNow=r.accountService.userValue.isDrivingNow,e.acceptedBy=n,r.subscriptions.push(r.orderService.acceptOrder(e.id,n).subscribe(function(){r.subscriptions.push(r.orderService.updateOrderEta(i,e.eta).subscribe())}));var i=e.id;r.subscriptions.push(r.tripService.createTrip({orderId:i,applicationUserId:n,order:e}).subscribe(function(){})),r.router.navigate(["menu/driving-mode"])}}))}))}))}))}},{key:"openLanguagePopover",value:function(e){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function r(){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.popoverController.create({component:g.m,event:e});case 2:return t=r.sent,r.next=5,t.present();case 5:case"end":return r.stop()}},r,this)}))}},{key:"NotEnoughCashAlert",value:function(){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.translate.get(["Balance","Your wallet balance is not enough for this order!"]).subscribe(function(e){return(0,u.mG)(r,void 0,void 0,regeneratorRuntime.mark(function r(){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.alertController.create({cssClass:"my-custom-class",header:e.Balance,message:e["Your wallet balance is not enough for this order!"],buttons:["OK"]});case 2:return t=r.sent,r.next=5,t.present();case 5:case"end":return r.stop()}},r,this)}))});case 1:case"end":return e.stop()}},e,this)}))}},{key:"OrderTaken",value:function(){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.translate.get(["Sorry","This order is no longer active"]).subscribe(function(e){return(0,u.mG)(r,void 0,void 0,regeneratorRuntime.mark(function r(){var t,n=this;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.alertController.create({cssClass:"my-custom-class",header:e.Sorry,message:e["This order is no longer active"],buttons:[{text:"OK",handler:function(){n.router.navigate(["menu/driving"])}}]});case 2:return t=r.sent,r.next=5,t.present();case 5:case"end":return r.stop()}},r,this)}))});case 1:case"end":return e.stop()}},e,this)}))}},{key:"IncreaseRefused",value:function(){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.translate.get(["Order increasing refused."]).subscribe(function(e){return(0,u.mG)(r,void 0,void 0,regeneratorRuntime.mark(function r(){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.alertController.create({cssClass:"my-custom-class",header:e["Order increasing refused."],buttons:[{text:"Ok",role:"cancel"}]});case 2:return t=r.sent,r.next=5,t.present();case 5:case"end":return r.stop()}},r,this)}))});case 1:case"end":return e.stop()}},e,this)}))}},{key:"IncreaseAccepted",value:function(e){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function r(){var t=this;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:this.translate.get(["Order increasing accepted.","You can accept the order now","Accept","Cancel"]).subscribe(function(r){return(0,u.mG)(t,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({cssClass:"my-custom-class",header:r["Order increasing accepted."],message:r["You can accept the order now"],buttons:[{text:r.Accept,handler:function(){i.acceptOrder(e)}},{text:r.Cancel,role:"cancel"}]});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}},t,this)}))});case 1:case"end":return r.stop()}},r,this)}))}},{key:"WrongCarAlert",value:function(){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.translate.get(["Order information","Your car is of type 'Normal' but the order desired car type is 'Comfort'!"]).subscribe(function(e){return(0,u.mG)(r,void 0,void 0,regeneratorRuntime.mark(function r(){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.alertController.create({cssClass:"my-custom-class",header:e["Order information"],message:e['Your car is of type "Normal" but the order desired car type is "Comfort"!'],buttons:["OK"]});case 2:return t=r.sent,r.next=5,t.present();case 5:case"end":return r.stop()}},r,this)}))});case 1:case"end":return e.stop()}},e,this)}))}},{key:"OwnOrderError",value:function(){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.translate.get(["You cant take your order."]).subscribe(function(e){return(0,u.mG)(r,void 0,void 0,regeneratorRuntime.mark(function r(){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.alertController.create({cssClass:"my-custom-class",header:e["You cant take your order."],buttons:["OK"]});case 2:return t=r.sent,r.next=5,t.present();case 5:case"end":return r.stop()}},r,this)}))});case 1:case"end":return e.stop()}},e,this)}))}}]),r}(),D.\u0275fac=function(e){return new(e||D)(l.Y36(v.sK),l.Y36(s.Dh),l.Y36(f.B),l.Y36(c.F0),l.Y36(c.gz),l.Y36(m.p),l.Y36(y.F),l.Y36(b.X),l.Y36(w.a),l.Y36(s.Br))},D.\u0275cmp=l.Xpm({type:D,selectors:[["app-order-details"]],viewQuery:function(e,r){var t;1&e&&l.Gf(Z,1,l.SBq),2&e&&l.iGM(t=l.CRH())&&(r.mapRef=t.first)},decls:61,vars:34,consts:[["slot","start"],["slot","end"],["id","toolbarIcon","name","language-outline",3,"click"],["class","fonted btn btn-info col-md-12",3,"click",4,"ngIf"],["id","order",1,"col-md-10"],[1,"list-group","mt-2"],[1,"text","list-group-item","list-group-item-action","flex-column","align-items-start"],["name","alert-circle",4,"ngIf"],["id","warningicn",4,"ngIf"],[1,"d-flex","w-100","justify-content-between"],[1,"mb-1","fonted"],["name","analytics-outline",1,"mr-2"],["name","arrow-forward-outline",1,"mr-2"],[1,"row"],[1,"col"],[4,"ngIf"],[1,"w-100"],[1,"fonted"],["type","button",1,"fonted","btn","btn-info",3,"click"],["class","text-center",4,"ngIf"],["class","d-flex w-100 justify-content-between",4,"ngIf"],["padding","",1,"noScroll"],["id","map"],["map",""],[1,"fonted","btn","btn-info","col-md-12",3,"click"],["name","alert-circle"],["id","warningicn"],[1,"text-center"],["type","button",1,"btn","btn-info","btn-sm",3,"click"]],template:function(e,r){1&e&&(l.TgZ(0,"ion-header"),l.TgZ(1,"ion-toolbar"),l.TgZ(2,"ion-buttons",0),l._UZ(3,"ion-menu-button"),l.qZA(),l.TgZ(4,"ion-title"),l.TgZ(5,"ion-label"),l._uU(6),l.ALo(7,"translate"),l.qZA(),l.qZA(),l.TgZ(8,"ion-buttons",1),l.TgZ(9,"ion-icon",2),l.NdJ("click",function(e){return r.openLanguagePopover(e)}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(10,"ion-content"),l.YNc(11,k,3,3,"button",3),l.YNc(12,x,3,3,"button",3),l.TgZ(13,"div",4),l.TgZ(14,"div",5),l.TgZ(15,"a",6),l.YNc(16,O,1,0,"ion-icon",7),l.YNc(17,A,3,4,"small",8),l.TgZ(18,"div",9),l._UZ(19,"h5",10),l.TgZ(20,"small"),l._uU(21),l.ALo(22,"date"),l.qZA(),l.qZA(),l.TgZ(23,"p"),l._UZ(24,"ion-icon",11),l._uU(25),l.qZA(),l._UZ(26,"hr"),l.TgZ(27,"p"),l._UZ(28,"ion-icon",12),l._uU(29),l.qZA(),l.TgZ(30,"div",9),l._UZ(31,"h5",10),l.qZA(),l.TgZ(32,"div",13),l.TgZ(33,"div",14),l.YNc(34,T,3,3,"small",15),l.TgZ(35,"ul"),l.YNc(36,S,3,3,"li",15),l.YNc(37,I,3,3,"li",15),l.YNc(38,U,3,3,"li",15),l.qZA(),l.YNc(39,C,3,3,"small",15),l.YNc(40,N,3,1,"ul",15),l.YNc(41,q,3,3,"small",15),l.YNc(42,_,3,1,"ul",15),l.TgZ(43,"div",16),l.TgZ(44,"h5"),l._uU(45),l.ALo(46,"translate"),l.qZA(),l._UZ(47,"br"),l.qZA(),l.TgZ(48,"div",9),l.TgZ(49,"small",17),l._uU(50),l.ALo(51,"translate"),l.qZA(),l.TgZ(52,"button",18),l.NdJ("click",function(){return r.acceptOrder(r.order)}),l._uU(53),l.ALo(54,"translate"),l.qZA(),l.qZA(),l._UZ(55,"hr"),l.YNc(56,M,3,3,"p",19),l.YNc(57,G,11,0,"div",20),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(58,"ion-content",21),l._UZ(59,"div",22,23),l.qZA(),l.qZA()),2&e&&(l.xp6(6),l.Oqu(l.lcZ(7,23,"Details")),l.xp6(5),l.Q6J("ngIf",0==r.mapVisible),l.xp6(1),l.Q6J("ngIf",1==r.mapVisible),l.xp6(4),l.Q6J("ngIf",r.order.pickUpTime),l.xp6(1),l.Q6J("ngIf",r.order.pickUpTime),l.xp6(4),l.Oqu(l.xi3(22,25,r.order.createdOn,"MM/dd/yyyy h:mm")),l.xp6(4),l.Oqu(r.order.location),l.xp6(4),l.Oqu(r.order.destination),l.xp6(5),l.Q6J("ngIf",1==r.order.withPets||1==r.order.withStroller||1==r.order.special),l.xp6(2),l.Q6J("ngIf",1==r.order.withPets),l.xp6(1),l.Q6J("ngIf",1==r.order.withStroller),l.xp6(1),l.Q6J("ngIf",1==r.order.special),l.xp6(1),l.Q6J("ngIf",r.order.carType),l.xp6(1),l.Q6J("ngIf",r.order.carType),l.xp6(1),l.Q6J("ngIf",r.order.description),l.xp6(1),l.Q6J("ngIf",r.order.description),l.xp6(3),l.AsE("",l.lcZ(46,28,"Trip distance"),": ",r.order.tripDistance," km"),l.xp6(5),l.AsE("",l.lcZ(51,30,"Total cost"),": ",r.order.totalPrice," \u043b\u0432."),l.xp6(3),l.Oqu(l.lcZ(54,32,"Accept")),l.xp6(3),l.Q6J("ngIf",1==r.canIncrease),l.xp6(1),l.Q6J("ngIf",1==r.canIncrease))},directives:[s.Gu,s.sr,s.Sm,s.fG,s.wd,s.Q$,s.gu,s.W2,o.O5],pipes:[v.X$,o.uU],styles:["ion-content[_ngcontent-%COMP%]{--ion-background-color:#e9e9e9}ion-toolbar[_ngcontent-%COMP%]{--ion-background-color:#eee}#map[_ngcontent-%COMP%]{height:100%;width:100%}ion-title[_ngcontent-%COMP%]{text-align:center}#warningicn[_ngcontent-%COMP%]{margin-left:6px}h5[_ngcontent-%COMP%]{font-size:.9em}#toolbarIcon[_ngcontent-%COMP%]{font-size:1.7em}.fonted[_ngcontent-%COMP%]{font-family:Open Sans Light}.centered[_ngcontent-%COMP%]{text-align:center}.text[_ngcontent-%COMP%]{font-family:Open Sans Light}hr[_ngcontent-%COMP%]{background:#eee;width:70%!important}.blink_me[_ngcontent-%COMP%]{-webkit-animation:blinker 1s linear infinite;animation:blinker 1s linear infinite}@-webkit-keyframes blinker{50%{opacity:0}}@keyframes blinker{50%{opacity:0}}.msg-box[_ngcontent-%COMP%]{width:100%;height:140px;padding:10px 30px;font-size:14px;font-family:Open Sans Light;overflow:auto}.msg-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:-5px;list-style:none}.msg-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .ex-msg[_ngcontent-%COMP%]{text-align:right}.msg-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .in-msg[_ngcontent-%COMP%]{text-align:left;margin-left:-60px}"]}),D)}],P=function(){var r=function r(){e(this,r)};return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({imports:[[c.Bz.forChild(E)],c.Bz]}),r}(),R=i(1841),Y=i(2472),K=i(3577);function J(e){return new Y.w(e)}var B,j=((B=function r(){e(this,r)}).\u0275fac=function(e){return new(e||B)},B.\u0275mod=l.oAB({type:B}),B.\u0275inj=l.cJS({imports:[[o.ez,a.u5,s.Pc,P,v.aw.forChild({loader:{provide:v.Zw,useFactory:J,deps:[R.eN]}}),K.LanguagePopoverPageModule]]}),B)}}])}();