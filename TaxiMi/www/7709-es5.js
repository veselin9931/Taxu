!function(){function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}(self.webpackChunkcsharpcornerauthor=self.webpackChunkcsharpcornerauthor||[]).push([[7709],{7709:function(n,t,o){"use strict";o.r(t),o.d(t,{HttpLoaderFactory:function(){return j},RegisterPageModule:function(){return V}});var i=o(8583),a=o(3679),s=o(7823),c=o(4481),u=o(4762),l=o(4426),d=o(8049),f=o(6522),g=o(2340),p=o(3018),m=o(5056),Z=o(1799),v=o(7800);function h(e,r){if(1&e&&(p.TgZ(0,"ion-text",24),p.TgZ(1,"div",25),p._uU(2),p.qZA(),p.qZA()),2&e){var n=p.oxw();p.xp6(2),p.Oqu(n.err)}}function q(e,r){1&e&&(p.TgZ(0,"div"),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&e&&(p.xp6(1),p.hij("",p.lcZ(2,1,"The field is required"),"!"))}function x(e,r){if(1&e&&(p.TgZ(0,"div",26),p.YNc(1,q,3,3,"div",27),p.qZA()),2&e){var n=p.oxw();p.xp6(1),p.Q6J("ngIf",n.f.firstName.errors.required)}}function A(e,r){1&e&&(p.TgZ(0,"div"),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&e&&(p.xp6(1),p.hij("",p.lcZ(2,1,"The field is required"),"!"))}function b(e,r){if(1&e&&(p.TgZ(0,"div",26),p.YNc(1,A,3,3,"div",27),p.qZA()),2&e){var n=p.oxw();p.xp6(1),p.Q6J("ngIf",n.f.lastName.errors.required)}}function w(e,r){1&e&&(p.TgZ(0,"div"),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&e&&(p.xp6(1),p.hij("",p.lcZ(2,1,"The field is required"),"!"))}function T(e,r){if(1&e&&(p.TgZ(0,"div",26),p.YNc(1,w,3,3,"div",27),p.qZA()),2&e){var n=p.oxw();p.xp6(1),p.Q6J("ngIf",n.f.username.errors.required)}}function C(e,r){1&e&&(p.TgZ(0,"div"),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&e&&(p.xp6(1),p.hij("",p.lcZ(2,1,"The field is required"),"!"))}function N(e,r){if(1&e&&(p.TgZ(0,"div",26),p.YNc(1,C,3,3,"div",27),p.qZA()),2&e){var n=p.oxw();p.xp6(1),p.Q6J("ngIf",n.f.phone.errors.required)}}function k(e,r){1&e&&(p.TgZ(0,"div"),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&e&&(p.xp6(1),p.hij("",p.lcZ(2,1,"The field is required"),"!"))}function y(e,r){if(1&e&&(p.TgZ(0,"div",26),p.YNc(1,k,3,3,"div",27),p.qZA()),2&e){var n=p.oxw();p.xp6(1),p.Q6J("ngIf",n.f.password.errors.required)}}function I(e,r){1&e&&(p.TgZ(0,"div"),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&e&&(p.xp6(1),p.hij("",p.lcZ(2,1,"The field is required"),"!"))}function J(e,r){1&e&&(p.TgZ(0,"div"),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&e&&(p.xp6(1),p.hij("",p.lcZ(2,1,"Password should match"),"!"))}function _(e,r){if(1&e&&(p.TgZ(0,"div",26),p.YNc(1,I,3,3,"div",27),p.YNc(2,J,3,3,"div",27),p.qZA()),2&e){var n=p.oxw();p.xp6(1),p.Q6J("ngIf",n.f.confirmPassword.errors.required),p.xp6(1),p.Q6J("ngIf",n.f.confirmPassword.errors.confirmedValidator)}}var P,L=function(e){return{"is-invalid":e}},U=[{path:"",component:(P=function(){function n(r,t,o,i,a,s,c){e(this,n),this.route=r,this.formBuilder=t,this.accountService=o,this.driverService=i,this.translate=a,this.popoverController=s,this.alertController=c,this.submitted=!1,this.loading=!1,this.err="",this.translate.setDefaultLang("en")}var t,o,i;return t=n,(o=[{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({firstName:["",a.kI.required],lastName:["",a.kI.required],username:["",a.kI.required],password:["",a.kI.required],confirmPassword:["",a.kI.required],phone:["",a.kI.required],referral:[""]},{validators:this.ConfirmedValidator("password","confirmPassword")}),(new l.su).configureLogging(l.in.Information).withUrl("".concat(g.N.signalRUrl,"/orderHub")).build().start().then(function(){console.log("signalR Connected in register")}).catch(function(e){return console.log(e.toString())})}},{key:"f",get:function(){return this.form.controls}},{key:"onSubmit",value:function(){var e=this;this.submitted=!0,this.form.valid&&(this.loading=!0,this.accountService.register(this.form.value).pipe((0,d.P)()).subscribe(function(r){e.presentAlert(),e.route.navigate(["menu/home"]),console.log(r)},function(r){console.log(r.error),e.err=r.error,e.loading=!1}))}},{key:"signIn",value:function(){this.route.navigate(["menu/home"])}},{key:"goBack",value:function(){this.route.navigate(["menu/home"])}},{key:"openLanguagePopover",value:function(e){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.popoverController.create({component:f.m,event:e});case 2:return n=r.sent,r.next=5,n.present();case 5:case"end":return r.stop()}},r,this)}))}},{key:"ConfirmedValidator",value:function(e,r){return function(n){var t=n.controls[r];t.errors&&!t.errors.confirmedValidator||t.setErrors(n.controls[e].value!==t.value?{confirmedValidator:!0}:null)}}},{key:"presentAlert",value:function(){return(0,u.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Successfull registration",message:"Log in and book a car.",buttons:["OK"]});case 2:return r=e.sent,e.next=5,r.present();case 5:case"end":return e.stop()}},e,this)}))}}])&&r(t.prototype,o),i&&r(t,i),n}(),P.\u0275fac=function(e){return new(e||P)(p.Y36(c.F0),p.Y36(a.qu),p.Y36(m.B),p.Y36(Z.F),p.Y36(v.sK),p.Y36(s.Dh),p.Y36(s.Br))},P.\u0275cmp=p.Xpm({type:P,selectors:[["app-register"]],decls:53,vars:56,consts:[["slot","start"],["slot","end"],["id","toolbarIcon","name","language-outline",3,"click"],["padding","",1,"background"],[1,"row"],[1,"col"],["color","dark",1,"text-center"],[1,"row","text-center"],["novalidate","",1,"col-md-6",3,"formGroup","ngSubmit"],["color","danger",4,"ngIf"],[1,"form-group","col","mt-5"],["formControlName","firstName","type","text",1,"form-control",3,"placeholder","ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"form-group","col","mt-3"],["formControlName","lastName","type","text",1,"form-control",3,"placeholder","ngClass"],["formControlName","username","type","text",1,"form-control",3,"placeholder","ngClass"],["formControlName","phone","type","text",1,"form-control",3,"placeholder","ngClass"],["formControlName","password","type","password",1,"form-control",3,"placeholder","ngClass"],["formControlName","confirmPassword","type","password",1,"form-control",3,"placeholder","ngClass"],[1,"col-md-12","mt-3"],["type","submit",1,"btn","btn-info"],[1,"col-md-6","mt-3"],[1,"fonted"],["type","submit",1,"btn","btn-warning",3,"click"],["color","danger"],[1,"text-center"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,r){1&e&&(p.TgZ(0,"ion-header"),p.TgZ(1,"ion-toolbar"),p.TgZ(2,"ion-buttons",0),p._UZ(3,"ion-menu-button"),p.qZA(),p.TgZ(4,"ion-title"),p.TgZ(5,"ion-label"),p._uU(6),p.ALo(7,"translate"),p.qZA(),p.qZA(),p.TgZ(8,"ion-buttons",1),p.TgZ(9,"ion-icon",2),p.NdJ("click",function(e){return r.openLanguagePopover(e)}),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(10,"ion-content",3),p.TgZ(11,"div",4),p.TgZ(12,"div",5),p._UZ(13,"div",4),p.TgZ(14,"ion-text",6),p.TgZ(15,"div",7),p.TgZ(16,"form",8),p.NdJ("ngSubmit",function(){return r.onSubmit()}),p.YNc(17,h,3,1,"ion-text",9),p.TgZ(18,"div",10),p._UZ(19,"ion-input",11),p.ALo(20,"translate"),p.YNc(21,x,2,1,"div",12),p.qZA(),p.TgZ(22,"div",13),p._UZ(23,"ion-input",14),p.ALo(24,"translate"),p.YNc(25,b,2,1,"div",12),p.qZA(),p.TgZ(26,"div",13),p._UZ(27,"ion-input",15),p.ALo(28,"translate"),p.YNc(29,T,2,1,"div",12),p.qZA(),p.TgZ(30,"div",13),p._UZ(31,"ion-input",16),p.ALo(32,"translate"),p.YNc(33,N,2,1,"div",12),p.qZA(),p.TgZ(34,"div",13),p._UZ(35,"ion-input",17),p.ALo(36,"translate"),p.YNc(37,y,2,1,"div",12),p.qZA(),p.TgZ(38,"div",13),p._UZ(39,"ion-input",18),p.ALo(40,"translate"),p.YNc(41,_,3,2,"div",12),p.qZA(),p.TgZ(42,"div",19),p.TgZ(43,"button",20),p._uU(44),p.ALo(45,"translate"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(46,"div",21),p.TgZ(47,"p",22),p._uU(48),p.ALo(49,"translate"),p.qZA(),p.TgZ(50,"button",23),p.NdJ("click",function(){return r.signIn()}),p._uU(51),p.ALo(52,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.xp6(6),p.Oqu(p.lcZ(7,24,"Register")),p.xp6(10),p.Q6J("formGroup",r.form),p.xp6(1),p.Q6J("ngIf",r.err),p.xp6(2),p.Q6J("placeholder",p.lcZ(20,26,"First Name"))("ngClass",p.VKq(44,L,r.submitted&&r.f.firstName.errors)),p.xp6(2),p.Q6J("ngIf",r.submitted&&r.f.firstName.errors),p.xp6(2),p.Q6J("placeholder",p.lcZ(24,28,"Last Name"))("ngClass",p.VKq(46,L,r.submitted&&r.f.lastName.errors)),p.xp6(2),p.Q6J("ngIf",r.submitted&&r.f.lastName.errors),p.xp6(2),p.Q6J("placeholder",p.lcZ(28,30,"Email"))("ngClass",p.VKq(48,L,r.submitted&&r.f.username.errors)),p.xp6(2),p.Q6J("ngIf",r.submitted&&r.f.username.errors),p.xp6(2),p.Q6J("placeholder",p.lcZ(32,32,"Phone Number"))("ngClass",p.VKq(50,L,r.submitted&&r.f.phone.errors)),p.xp6(2),p.Q6J("ngIf",r.submitted&&r.f.phone.errors),p.xp6(2),p.Q6J("placeholder",p.lcZ(36,34,"Password"))("ngClass",p.VKq(52,L,r.submitted&&r.f.password.errors)),p.xp6(2),p.Q6J("ngIf",r.submitted&&r.f.password.errors),p.xp6(2),p.Q6J("placeholder",p.lcZ(40,36,"Confirm Password"))("ngClass",p.VKq(54,L,r.submitted&&r.f.confirmPassword.errors)),p.xp6(2),p.Q6J("ngIf",r.submitted&&r.f.confirmPassword.errors),p.xp6(3),p.hij(" ",p.lcZ(45,38,"Confirm"),""),p.xp6(4),p.hij("",p.lcZ(49,40,"Already have an account"),"?"),p.xp6(3),p.Oqu(p.lcZ(52,42,"Sign in")))},directives:[s.Gu,s.sr,s.Sm,s.fG,s.wd,s.Q$,s.gu,s.W2,s.yW,a.Y7,a.JL,a.sg,i.O5,s.pK,s.j9,a.JJ,a.u,i.mk],pipes:[v.X$],styles:["ion-content[_ngcontent-%COMP%]{--ion-background-color:#e9e9e9}ion-toolbar[_ngcontent-%COMP%]{--ion-background-color:#eee}ion-title[_ngcontent-%COMP%]{text-align:center}#toolbarIcon[_ngcontent-%COMP%]{font-size:1.7em}.fonted[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{font-family:Open Sans Light}.text[_ngcontent-%COMP%]{font-size:2.4em}.reg[_ngcontent-%COMP%]{margin-top:20px}ion-input[_ngcontent-%COMP%]{border-radius:20px}"]}),P)}],Q=function(){var r=function r(){e(this,r)};return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=p.oAB({type:r}),r.\u0275inj=p.cJS({imports:[[c.Bz.forChild(U)],c.Bz]}),r}(),Y=o(1841),O=o(2472),S=o(3577);function j(e){return new O.w(e)}var M,V=((M=function r(){e(this,r)}).\u0275fac=function(e){return new(e||M)},M.\u0275mod=p.oAB({type:M}),M.\u0275inj=p.cJS({imports:[[i.ez,a.UX,a.u5,s.Pc,Q,v.aw.forChild({loader:{provide:v.Zw,useFactory:j,deps:[Y.eN]}}),S.LanguagePopoverPageModule]]}),M)}}])}();