{"version":3,"sources":["webpack:///src/_services/order/order.service.ts","webpack:///src/app/location/location.module.ts","webpack:///src/app/location/location.page.html","webpack:///src/app/location/location.page.scss","webpack:///src/app/location/location-routing.module.ts","webpack:///src/app/location/location.page.ts"],"names":["OrderService","http","sharedService","orders","completedOrder","data","headers","headerGerneration","post","apiUrl","responseType","pipe","handleError","userId","get","orderId","console","log","JSON","stringify","locationLat","locationLng","destinationLat","destinationLng","id","order","driverId","put","value","amount","error","errorMessage","ErrorEvent","message","status","providedIn","HttpLoaderFactory","LocationPageModule","imports","forChild","loader","provide","useFactory","deps","declarations","routes","path","component","LocationPageRoutingModule","exports","Geolocation","LocationPage","route","orderService","navCtrl","translate","popoverController","accountService","markerUrl","setDefaultLang","userValue","choosenLanguage","getLocation","loadMap","mapRef","chosenLocation","address","navigate","getCurrentPosition","coordinates","myLatLng","lat","coords","latitude","lng","longitude","userLocationLat","userLocationLong","options","center","google","maps","LatLng","zoom","disableDefaultUI","mapTypeId","MapTypeId","ROADMAP","map","Map","nativeElement","marker","Marker","position","icon","input","document","getElementById","getElementsByTagName","searchbox","places","SearchBox","selectedFavourite","addListener","setBounds","getBounds","getPlaces","length","bounds","LatLngBounds","forEach","place","geometry","setMap","location","viewport","union","extend","fitBounds","geocoder","Geocoder","event","getCenter","geocode","results","formatted_address","navigator","geolocation","callApi","Longitude","Latitude","url","ev","create","popover","present","read","selector","template"],"mappings":"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","file":"location-location-module-es5.js","sourcesContent":["import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError, tap } from 'rxjs/operators';\r\nimport { environment } from 'src/environments/environment';\r\nimport { FavouriteOrder, Order } from 'src/_models';\r\nimport { SharedService } from '../shared/shared.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class OrderService {\r\n  public selectedFavourite: FavouriteOrder;\r\n\r\n  public order: Order;\r\n  public orders = [];\r\n  public currentOrderId: string;\r\n\r\n  public driverId: string;\r\n  public completedOrder = false;\r\n  public alertForcomplete: string;\r\n\r\n  public chosenLocation: string;\r\n  public chosenDestination: string;\r\n\r\n  public userLocationLat: number;\r\n  public userLocationLong: number;\r\n\r\n  public userDestinationLat: number;\r\n  public userDestinationLong: number;\r\n\r\n\r\n  constructor(private http: HttpClient, private sharedService: SharedService) { }\r\n\r\n  public createOrder(data) {\r\n    const headers = this.sharedService.headerGerneration();\r\n\r\n    return this.http.post(`${environment.apiUrl}/api/order`, data, { headers, responseType: 'text' })\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  addToFavourites(data) {\r\n    const headers = this.sharedService.headerGerneration();\r\n\r\n    return this.http.post(`${environment.apiUrl}/api/order/favourites`, data, { headers, responseType: 'text' })\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  getMyFavourites(userId: string): Observable<FavouriteOrder[]> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<FavouriteOrder[]>(`${environment.apiUrl}/api/order/favourites/${userId}`, {headers})\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  deleteFavouriteOrder(orderId: string): Observable<FavouriteOrder> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.delete<FavouriteOrder>(`${environment.apiUrl}/api/order/favourites/${orderId}`, {headers})\r\n      .pipe(\r\n        tap(data => console.log('deleted favourite order: ', JSON.stringify(data))),\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  public getDirections(locationLat, locationLng, destinationLat, destinationLng) {\r\n    const headers = this.sharedService.headerGerneration();\r\n\r\n    return this.http.post(`https://maps.googleapis.com/maps/api/distancematrix/json?units=imperial&origins=${locationLat},${locationLng}&destinations=${destinationLat}%2C${destinationLng}%7C&key=AIzaSyAEvlXdM4joG4bNVT5l-tJSk9lUSGhxMNw`, { headers, responseType: 'text' })\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  getOrderById(id: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Order>(`${environment.apiUrl}/api/order/id/${id}`, {headers})\r\n      .pipe(\r\n        tap(data => this.order = data)\r\n      );\r\n  }\r\n\r\n  getCanceledOrderById(id: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Order>(`${environment.apiUrl}/api/order/canceled/${id}`, {headers})\r\n      .pipe(\r\n        tap(data => this.order = data)\r\n      );\r\n  }\r\n\r\n  getLastCompletedOrder(userId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Order>(`${environment.apiUrl}/api/order/completed/${userId}`, {headers})\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  getMyOrder(userId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Order>(`${environment.apiUrl}/api/order/${userId}`, {headers})\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  getOrderForChat(userId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Order>(`${environment.apiUrl}/api/order/chat/${userId}`, {headers})\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  getAllOrders(): Observable<Order[]> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Order[]>(`${environment.apiUrl}/api/order`, {headers})\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      )\r\n  }\r\n\r\n  getNormalOrders(): Observable<Order[]> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Order[]>(`${environment.apiUrl}/api/order/normal`, {headers})\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      )\r\n  }\r\n\r\n  getComfortOrders(): Observable<Order[]> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.get<Order[]>(`${environment.apiUrl}/api/order/comfort`, {headers})\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      )\r\n  }\r\n\r\n  acceptOrder(orderId: string, driverId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.put<Order>(`${environment.apiUrl}/api/order/${orderId}/${driverId}`, { headers, responseType: 'json' },)\r\n      .pipe(\r\n        tap(data => this.driverId = driverId),\r\n        catchError(this.handleError)\r\n      );\r\n\r\n  }\r\n\r\n  updateOrderEta(orderId: string, value: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.put<Order>(`${environment.apiUrl}/api/order/eta/${orderId}/${value}`, { headers, responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  updateDriverArrived(orderId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.put<Order>(`${environment.apiUrl}/api/order/arrived/${orderId}`, { headers, responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  rateOrder(orderId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.put<Order>(`${environment.apiUrl}/api/order/rate/${orderId}`, { headers, responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  increaseOrderPrice(id: string, amount: number): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.put<Order>(`${environment.apiUrl}/api/order/increase/${id}/${amount}`, { headers, responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n\r\n  }\r\n\r\n  completeOrder(orderId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.put<Order>(`${environment.apiUrl}/api/order/${orderId}`, { headers, responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n\r\n  }\r\n\r\n  deleteOrder(orderId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.delete<Order>(`${environment.apiUrl}/api/order/${orderId}`, {headers})\r\n      .pipe(\r\n        tap(data => console.log('deleted order: ', JSON.stringify(data))),\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  driverIncreaseOrderPrice(orderId: string, amount: number, driverId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n    return this.http.put<Order>(`${environment.apiUrl}/api/order/increased/${orderId}/${amount}/${driverId}`, { headers, responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  resetIncreasing(orderId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n\r\n    return this.http.put<Order>(`${environment.apiUrl}/api/order/reset/${orderId}`, { headers, responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n\r\n  increasedOrderAccept(orderId: string, value: boolean): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();;\r\n\r\n    return this.http.put<Order>(`${environment.apiUrl}/api/order/accepted/increase/${orderId}/${value}`, { headers, responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  incrementOrderPrice(orderId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n\r\n    return this.http.put<Order>(`${environment.apiUrl}/api/order/increment/${orderId}`, { headers, responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  decrementOrderPrice(orderId: string): Observable<Order> {\r\n    const headers = this.sharedService.headerGerneration();\r\n\r\n    return this.http.put<Order>(`${environment.apiUrl}/api/order/decrement/${orderId}`, { headers, responseType: 'json' },)\r\n      .pipe(\r\n        catchError(this.handleError)\r\n      );\r\n  }\r\n\r\n  handleError(error) {\r\n    let errorMessage = '';\r\n    if (error.error instanceof ErrorEvent) {\r\n      // client-side error\r\n      console.log('Client side error.')\r\n      errorMessage = `Error: ${error.error.message}`;\r\n    } else {\r\n      // server-side error\r\n      console.log('Server side error.')\r\n      errorMessage = `Error Code: ${error.status}\\nMessage: ${error.message}`;\r\n    }\r\n    console.log(errorMessage);\r\n    return throwError(errorMessage);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LocationPageRoutingModule } from './location-routing.module';\r\n\r\nimport { LocationPage } from './location.page';\r\n\r\nimport { TranslateLoader, TranslateModule, TranslateService } from '@ngx-translate/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { LanguagePopoverPageModule } from '../language-popover/language-popover.module';\r\n\r\nexport function HttpLoaderFactory(http: HttpClient) {\r\n  return new TranslateHttpLoader(http);\r\n}\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    LocationPageRoutingModule,\r\n    TranslateModule.forChild({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: HttpLoaderFactory,\r\n        deps: [HttpClient]\r\n      }\r\n    }),\r\n    LanguagePopoverPageModule\r\n  ],\r\n  declarations: [LocationPage]\r\n})\r\nexport class LocationPageModule {}\r\n","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    \\r\\n\\r\\n    <ion-title>\\r\\n        <ion-label>{{'Choose starting point' | translate}}</ion-label>\\r\\n    </ion-title>\\r\\n\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-icon (click)='openLanguagePopover($event)' id=\\\"toolbarIcon\\\" name=\\\"language-outline\\\"></ion-icon>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n  \\r\\n</ion-header>\\r\\n<ion-item>\\r\\n  <ion-input id=\\\"searchTextField\\\" type=\\\"text\\\" [placeholder]='\\\"Search location\\\" | translate' clearInput></ion-input>\\r\\n</ion-item>\\r\\n<ion-content class=\\\"noScroll\\\">\\r\\n  <div #map id=\\\"map\\\"></div>\\r\\n  <div #marker id=\\\"marker\\\"></div>\\r\\n  \\r\\n</ion-content>\\r\\n\\r\\n<ion-footer>\\r\\n  <ion-toolbar class=\\\"text-center\\\">\\r\\n    <!-- <ion-title>Choosen location</ion-title> -->\\r\\n    <button (click)=\\\"onSubmit()\\\" class=\\\"btn btn-info text-center\\\">{{'Take me from here' | translate}}</button>\\r\\n    \\r\\n  </ion-toolbar>\\r\\n</ion-footer>\\r\\n\\r\\n<ion-footer>\\r\\n  <ion-toolbar class=\\\"text-center\\\">\\r\\n    <p>{{address}}</p>\\r\\n  </ion-toolbar>\\r\\n\\r\\n  \\r\\n</ion-footer>\\r\\n\";","export default \".noScroll {\\n  overflow: hidden;\\n}\\n\\n#marker {\\n  position: absolute;\\n  /*url of the marker*/\\n  background: url('location.png') no-repeat;\\n  /*center the marker*/\\n  top: 50%;\\n  left: 50%;\\n  z-index: 1;\\n  /*fix offset when needed*/\\n  margin-left: -10px;\\n  margin-top: -34px;\\n  /*size of the image*/\\n  height: 34px;\\n  width: 20px;\\n  cursor: pointer;\\n}\\n\\n#map {\\n  height: 100%;\\n  width: 100%;\\n}\\n\\nion-card {\\n  max-height: 200px;\\n  overflow: scroll;\\n  position: absolute;\\n  z-index: 1;\\n}\\n\\nion-toolbar {\\n  --ion-background-color:#eeeeee;\\n}\\n\\nion-title {\\n  text-align: center;\\n}\\n\\n#toolbarIcon {\\n  font-size: 1.7em;\\n}\\n\\n#toolbarIcon1 {\\n  font-size: 3em;\\n}\\n\\n.centered {\\n  text-align: center;\\n}\\n\\n.text {\\n  font-size: 2.4em;\\n  font-family: Open Sans Light;\\n}\\n\\ni {\\n  color: #eeeeee;\\n}\\n\\n.my-custom-class {\\n  --background: #e5e5e5;\\n}\\n\\nion-select {\\n  color: #383838;\\n  background-color: white;\\n  border-radius: 10px;\\n  border: 3px solid #eeeeee;\\n}\\n\\n.blink_me {\\n  -webkit-animation: blinker 1s linear infinite;\\n          animation: blinker 1s linear infinite;\\n}\\n\\n@-webkit-keyframes blinker {\\n  50% {\\n    opacity: 0;\\n  }\\n}\\n\\n@keyframes blinker {\\n  50% {\\n    opacity: 0;\\n  }\\n}\\n\\n.backIcon {\\n  color: #ffae00;\\n  font-size: 150%;\\n}\\n\\n.back {\\n  color: #ffae00;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGxvY2F0aW9uLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFBO0FBQ0o7O0FBRUk7RUFDSSxrQkFBQTtFQUNBLG9CQUFBO0VBQ0EseUNBQUE7RUFDQSxvQkFBQTtFQUNBLFFBQUE7RUFBUSxTQUFBO0VBRVIsVUFBQTtFQUNBLHlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLG9CQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFFQSxlQUFBO0FBQVI7O0FBR0k7RUFDQSxZQUFBO0VBQ0EsV0FBQTtBQUFKOztBQUdJO0VBQ0ksaUJBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsVUFBQTtBQUFSOztBQUlJO0VBQ0ksOEJBQUE7QUFEUjs7QUFJSTtFQUNJLGtCQUFBO0FBRFI7O0FBSUk7RUFDSSxnQkFBQTtBQURSOztBQUlJO0VBQ0ksY0FBQTtBQURSOztBQUtJO0VBQ0ksa0JBQUE7QUFGUjs7QUFLSTtFQUNJLGdCQUFBO0VBQ0EsNEJBQUE7QUFGUjs7QUFLSTtFQUNJLGNBQUE7QUFGUjs7QUFLSTtFQUNJLHFCQUFBO0FBRlI7O0FBS0k7RUFDSSxjQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLHlCQUFBO0FBRlI7O0FBS0k7RUFDSSw2Q0FBQTtVQUFBLHFDQUFBO0FBRlI7O0FBS007RUFDRTtJQUNFLFVBQUE7RUFGUjtBQUNGOztBQURNO0VBQ0U7SUFDRSxVQUFBO0VBRlI7QUFDRjs7QUFLSTtFQUNJLGNBQUE7RUFDQSxlQUFBO0FBSFI7O0FBTUk7RUFDSSxjQUFBO0FBSFIiLCJmaWxlIjoibG9jYXRpb24ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm5vU2Nyb2xsIHtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICB9XHJcblxyXG4gICAgI21hcmtlcntcclxuICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcclxuICAgICAgICAvKnVybCBvZiB0aGUgbWFya2VyKi9cclxuICAgICAgICBiYWNrZ3JvdW5kOnVybCguLi8uLi9hc3NldHMvbG9jYXRpb24ucG5nKSBuby1yZXBlYXQ7XHJcbiAgICAgICAgLypjZW50ZXIgdGhlIG1hcmtlciovXHJcbiAgICAgICAgdG9wOjUwJTtsZWZ0OjUwJTtcclxuICAgICAgXHJcbiAgICAgICAgei1pbmRleDoxO1xyXG4gICAgICAgIC8qZml4IG9mZnNldCB3aGVuIG5lZWRlZCovXHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6LTEwcHg7XHJcbiAgICAgICAgbWFyZ2luLXRvcDotMzRweDtcclxuICAgICAgICAvKnNpemUgb2YgdGhlIGltYWdlKi9cclxuICAgICAgICBoZWlnaHQ6MzRweDtcclxuICAgICAgICB3aWR0aDoyMHB4O1xyXG4gICAgICBcclxuICAgICAgICBjdXJzb3I6cG9pbnRlcjtcclxuICAgICAgfVxyXG4gICAgXHJcbiAgICAjbWFwIHtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgfVxyXG5cclxuICAgIGlvbi1jYXJkIHtcclxuICAgICAgICBtYXgtaGVpZ2h0OiAyMDBweDtcclxuICAgICAgICBvdmVyZmxvdzogc2Nyb2xsO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB6LWluZGV4OiAxO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgIGlvbi10b29sYmFye1xyXG4gICAgICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6I2VlZWVlZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaW9uLXRpdGxlIHtcclxuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB9XHJcbiAgICBcclxuICAgICN0b29sYmFySWNvbntcclxuICAgICAgICBmb250LXNpemU6IDEuN2VtO1xyXG4gICAgfVxyXG5cclxuICAgICN0b29sYmFySWNvbjF7XHJcbiAgICAgICAgZm9udC1zaXplOiAzZW07XHJcbiAgICAgICAgLy8tLWJhY2tncm91bmQ6IHVybCguLi8uLi9hc3NldHMvRGFjb180Njc0NzM4LnBuZykgMCAwLzEwMCUgMTAwJSBuby1yZXBlYXQ7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC5jZW50ZXJlZHtcclxuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC50ZXh0eyAgXHJcbiAgICAgICAgZm9udC1zaXplOiAyLjRlbTtcclxuICAgICAgICBmb250LWZhbWlseTogT3BlbiBTYW5zIExpZ2h0O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpe1xyXG4gICAgICAgIGNvbG9yOiNlZWVlZWU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC5teS1jdXN0b20tY2xhc3Mge1xyXG4gICAgICAgIC0tYmFja2dyb3VuZDogI2U1ZTVlNTtcclxuICAgICAgfVxyXG4gICAgXHJcbiAgICBpb24tc2VsZWN0e1xyXG4gICAgICAgIGNvbG9yOiByZ2IoNTYsIDU2LCA1Nik7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgICAgICBib3JkZXI6IDNweCBzb2xpZCAjZWVlZWVlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAuYmxpbmtfbWUge1xyXG4gICAgICAgIGFuaW1hdGlvbjogYmxpbmtlciAxcyBsaW5lYXIgaW5maW5pdGU7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIEBrZXlmcmFtZXMgYmxpbmtlciB7XHJcbiAgICAgICAgNTAlIHtcclxuICAgICAgICAgIG9wYWNpdHk6IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICBcclxuICAgIC5iYWNrSWNvbiB7XHJcbiAgICAgICAgY29sb3I6IHJnYigyNTUsIDE3NCwgMCk7XHJcbiAgICAgICAgZm9udC1zaXplOiAxNTAlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAuYmFjayB7XHJcbiAgICAgICAgY29sb3I6IHJnYigyNTUsIDE3NCwgMCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAiXX0= */\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LocationPage } from './location.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LocationPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class LocationPageRoutingModule {}\r\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Plugins } from '@capacitor/core';\r\nimport { NavController, PopoverController } from '@ionic/angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { AccountService } from 'src/_services';\r\nimport { OrderService } from 'src/_services/order/order.service';\r\nimport { LanguagePopoverPage } from '../language-popover/language-popover.page';\r\n\r\n\r\nconst { Geolocation } = Plugins;\r\ndeclare var google: any;\r\n\r\n@Component({\r\n  selector: 'app-location',\r\n  templateUrl: './location.page.html',\r\n  styleUrls: ['./location.page.scss'],\r\n})\r\nexport class LocationPage implements OnInit {\r\n  address: string;\r\n  map: any;\r\n  latitude: any;\r\n  longitude: any;\r\n  search: any; \r\n  //markerUrl = 'http://maps.gstatic.com/mapfiles/markers2/marker.png'\r\n  //markerUrl = 'https://image.flaticon.com/icons/png/24/727/727598.png'\r\n  markerUrl = '../../assets/location.png'\r\n\r\n  @ViewChild('map', { read: ElementRef, static: true }) mapRef: ElementRef;\r\n  @ViewChild('myButton') myButton: ElementRef;\r\n\r\n  constructor(private route: Router,\r\n    private orderService: OrderService,\r\n    public navCtrl: NavController,\r\n    private translate: TranslateService,\r\n    private popoverController: PopoverController,\r\n    private accountService: AccountService) {\r\n      this.translate.setDefaultLang(this.accountService.userValue.choosenLanguage);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.getLocation();\r\n\r\n    this.loadMap(this.mapRef);\r\n  }\r\n\r\n  onSubmit() {\r\n    this.orderService.chosenLocation = this.address;\r\n    this.route.navigate(['menu/destination'])\r\n  }\r\n\r\n  async loadMap(mapRef: ElementRef) {\r\n    const coordinates = await Geolocation.getCurrentPosition();\r\n    const myLatLng = { lat: coordinates.coords.latitude, lng: coordinates.coords.longitude };\r\n    this.orderService.userLocationLat = myLatLng.lat;\r\n    this.orderService.userLocationLong = myLatLng.lng;\r\n    const options: google.maps.MapOptions = {\r\n      center: new google.maps.LatLng(myLatLng.lat, myLatLng.lng),\r\n      zoom: 15,\r\n      disableDefaultUI: true,\r\n      mapTypeId: google.maps.MapTypeId.ROADMAP\r\n    };\r\n\r\n    this.map = new google.maps.Map(mapRef.nativeElement, options);\r\n\r\n    var marker = new google.maps.Marker({\r\n      position: new google.maps.LatLng(myLatLng),\r\n      icon: this.markerUrl,\r\n      map: this.map\r\n    });\r\n\r\n    var input = document.getElementById('searchTextField').getElementsByTagName('input')[0];\r\n    var searchbox = new google.maps.places.SearchBox(input);\r\n    this.orderService.selectedFavourite = null;\r\n    this.map.addListener(\"bounds_changed\", () => {\r\n      searchbox.setBounds(this.map.getBounds() as google.maps.LatLngBounds);\r\n    });\r\n\r\n    searchbox.addListener(\"places_changed\", () => {\r\n      const places = searchbox.getPlaces();\r\n\r\n      if (places.length == 0) {\r\n        return;\r\n      }\r\n\r\n      var bounds = new google.maps.LatLngBounds();\r\n\r\n      places.forEach((place) => {\r\n        if (!place.geometry) {\r\n          console.log('No Geometry');\r\n          return;\r\n        }\r\n        marker.setMap(null);\r\n\r\n        marker = new google.maps.Marker({\r\n          position: place.geometry.location,\r\n          map: this.map\r\n        });\r\n\r\n        if (place.geometry.viewport) {\r\n          bounds.union(place.geometry.viewport);\r\n        } else {\r\n          bounds.extend(place.geometry.location)\r\n        }\r\n\r\n      });\r\n\r\n      this.map.fitBounds(bounds);\r\n\r\n    })\r\n\r\n    let geocoder = new google.maps.Geocoder;\r\n\r\n    google.maps.event.addListener(this.map, 'idle', async () => {\r\n      var center = this.map.getCenter();\r\n      var lat = center.lat();\r\n      var lng = center.lng();\r\n\r\n      const myLatLng = { lat: lat, lng: lng };\r\n\r\n      if (marker && marker.setMap) {\r\n        marker.setMap(null);\r\n      }\r\n\r\n      this.orderService.userLocationLat = myLatLng.lat;\r\n      this.orderService.userLocationLong = myLatLng.lng;\r\n      //Get Location\r\n      geocoder.geocode({ location: myLatLng },\r\n        (\r\n          results: google.maps.GeocoderResult[],\r\n          status: google.maps.GeocoderStatus\r\n        ) => {\r\n          if (status == \"OK\") {\r\n            if (results[0]) {\r\n              this.address = results[0].formatted_address;\r\n              // var infowindow = new google.maps.InfoWindow({\r\n              //   content: `${this.address}`\r\n              // });\r\n              // infowindow.open(this.map, marker);\r\n            }\r\n          }\r\n        })\r\n    })\r\n  }\r\n\r\n  destination() {\r\n    this.route.navigate(['menu/destination']);\r\n  }\r\n\r\n  getLocation(): void {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition((position) => {\r\n        this.longitude = position.coords.longitude;\r\n        this.latitude = position.coords.latitude;\r\n\r\n        this.callApi(this.longitude, this.latitude);\r\n      });\r\n    } else {\r\n      console.log(\"No support for geolocation\")\r\n    }\r\n  }\r\n\r\n  callApi(Longitude: number, Latitude: number) {\r\n    const url = `https://api-adresse.data.gouv.fr/reverse/?lon=${Longitude}&lat=${Latitude}`\r\n    //Call API\r\n  }\r\n\r\n  async openLanguagePopover(ev) {\r\n    const popover = await this.popoverController.create({\r\n      component: LanguagePopoverPage,\r\n      event: ev\r\n    });\r\n    await popover.present();\r\n  }\r\n\r\n}"]}