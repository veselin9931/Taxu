(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{xInB:function(n,t,e){"use strict";e.r(t),e.d(t,"HttpLoaderFactory",function(){return z}),e.d(t,"LoginPageModule",function(){return L});var o=e("ofXK"),i=e("3Pt+"),r=e("tk/3"),c=e("TEn/"),b=e("tyNb"),s=e("mrSG"),a=e("Gpoy"),d=e("SxV6"),l=e("oXKM"),u=e("AytR"),g=e("fXoL"),f=e("8Xdb"),m=e("sYmb");function p(n,t){if(1&n&&(g.Nb(0,"ion-text",35),g.Nb(1,"div",28),g.pc(2),g.Mb(),g.Mb()),2&n){const n=g.Xb(2);g.zb(2),g.qc(n.err)}}function M(n,t){1&n&&(g.Nb(0,"div"),g.pc(1),g.Yb(2,"translate"),g.Mb()),2&n&&(g.zb(1),g.rc("",g.Zb(2,1,"The field is required"),"!"))}function h(n,t){if(1&n&&(g.Nb(0,"div",36),g.oc(1,M,3,3,"div",37),g.Mb()),2&n){const n=g.Xb(2);g.zb(1),g.dc("ngIf",1==n.submitted&&n.f.username.errors.required)}}function v(n,t){1&n&&(g.Nb(0,"div"),g.pc(1),g.Yb(2,"translate"),g.Mb()),2&n&&(g.zb(1),g.rc("",g.Zb(2,1,"The field is required"),"!"))}function N(n,t){if(1&n&&(g.Nb(0,"div",36),g.oc(1,v,3,3,"div",37),g.Mb()),2&n){const n=g.Xb(2);g.zb(1),g.dc("ngIf",1==n.submitted&&n.f.password.errors.required)}}function w(n,t){1&n&&g.Lb(0,"span",38)}const C=function(n){return{"is-invalid":n}};function x(n,t){if(1&n){const n=g.Ob();g.Nb(0,"ion-content",4),g.Nb(1,"div",5),g.Nb(2,"div",6),g.Nb(3,"ion-text",7),g.Nb(4,"div",8),g.Lb(5,"img",9),g.Mb(),g.Nb(6,"h4",10),g.pc(7),g.Yb(8,"translate"),g.Mb(),g.Mb(),g.Mb(),g.Mb(),g.Nb(9,"div",11),g.Nb(10,"div",12),g.Nb(11,"div",11),g.Nb(12,"form",13),g.oc(13,p,3,1,"ion-text",14),g.Nb(14,"div",15),g.Lb(15,"ion-input",16),g.Yb(16,"translate"),g.oc(17,h,2,1,"div",17),g.Mb(),g.Nb(18,"div",18),g.Lb(19,"ion-input",19),g.Yb(20,"translate"),g.oc(21,N,2,1,"div",17),g.Mb(),g.Nb(22,"div",20),g.Lb(23,"div",21),g.Nb(24,"div",22),g.Nb(25,"button",23),g.Vb("click",function(){return g.jc(n),g.Xb().onSubmit()}),g.pc(26),g.Yb(27,"translate"),g.oc(28,w,1,0,"span",24),g.Mb(),g.Mb(),g.Mb(),g.Nb(29,"div",25),g.Nb(30,"p",10),g.pc(31),g.Yb(32,"translate"),g.Mb(),g.Nb(33,"button",26),g.Vb("click",function(){return g.jc(n),g.Xb().signUp()}),g.pc(34),g.Yb(35,"translate"),g.Mb(),g.Mb(),g.Mb(),g.Mb(),g.Mb(),g.Mb(),g.Nb(36,"div",11),g.Nb(37,"div",27),g.Nb(38,"div",28),g.Nb(39,"div",6),g.Nb(40,"div",29),g.Nb(41,"div",12),g.Nb(42,"ion-item"),g.Lb(43,"ion-icon",30),g.Nb(44,"h3",31),g.pc(45,"@Instagram"),g.Mb(),g.Mb(),g.Mb(),g.Nb(46,"div",32),g.Nb(47,"ion-item"),g.Lb(48,"ion-icon",33),g.Nb(49,"h3",31),g.pc(50,"@Facebook"),g.Mb(),g.Mb(),g.Mb(),g.Nb(51,"div",32),g.Nb(52,"ion-item"),g.Lb(53,"ion-icon",34),g.Nb(54,"h3",31),g.pc(55,"@Twitter"),g.Mb(),g.Mb(),g.Mb(),g.Mb(),g.Mb(),g.Mb(),g.Mb(),g.Mb(),g.Mb()}if(2&n){const n=g.Xb();g.zb(7),g.qc(g.Zb(8,13,"Enter your credentials")),g.zb(5),g.dc("formGroup",n.form),g.zb(1),g.dc("ngIf",n.err),g.zb(2),g.dc("placeholder",g.Zb(16,15,"Email"))("ngClass",g.gc(25,C,1==n.submitted&&n.f.username.errors)),g.zb(2),g.dc("ngIf",1==n.submitted&&n.f.username.errors),g.zb(2),g.dc("placeholder",g.Zb(20,17,"Password"))("ngClass",g.gc(27,C,1==n.submitted&&n.f.password.errors)),g.zb(2),g.dc("ngIf",1==n.submitted&&n.f.password.errors),g.zb(5),g.rc("",g.Zb(27,19,"Login")," "),g.zb(2),g.dc("ngIf",n.loading),g.zb(3),g.rc("",g.Zb(32,21,"Dont have an account"),"?"),g.zb(3),g.qc(g.Zb(35,23,"Register"))}}const I=[{path:"",component:(()=>{class n{constructor(n,t,e,o,i,r){this.route=n,this.formBuilder=t,this.alertService=e,this.accountService=o,this.translate=i,this.popoverController=r,this.err="",this.loading=!1,this.logo="../../../../resources/IMG_6400.JPG",this.isLoggedIn=localStorage.getItem("user"),this.translate.setDefaultLang("en")}ngOnInit(){this.form=this.formBuilder.group({username:["",i.n.required],password:["",i.n.required]}),this.isLoggedIn&&this.route.navigate(["menu/travelling"]),(new a.b).configureLogging(a.c.Information).withUrl(`${u.a.signalRUrl}/orderHub`).build().start().then(function(){console.log("signalR Connected in login")}).catch(function(n){return console.log(n.toString())})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.accountService.login(this.f.username.value,this.f.password.value).pipe(Object(d.a)()).subscribe(n=>{this.accountService.updateDriving(this.accountService.userValue.id,!1).subscribe(n=>{console.log("success")}),this.route.navigate(["menu/travelling"]),this.loading=!1},n=>{console.log(n.error.message),this.err=n.error.message,this.loading=!1}))}signUp(){this.route.navigate(["menu/account/register"])}openLanguagePopover(n){return Object(s.a)(this,void 0,void 0,function*(){const t=yield this.popoverController.create({component:l.a,event:n});yield t.present()})}clearForm(){this.form.reset({username:"",password:""})}}return n.\u0275fac=function(t){return new(t||n)(g.Kb(b.f),g.Kb(i.b),g.Kb(f.b),g.Kb(f.a),g.Kb(m.d),g.Kb(c.H))},n.\u0275cmp=g.Eb({type:n,selectors:[["app-login"]],decls:10,vars:1,consts:[["slot","start"],["slot","end"],["id","toolbarIcon","name","language-outline",3,"click"],["padding","","class","background",4,"ngIf"],["padding","",1,"background"],[1,"row","mt-2"],[1,"col","text-center"],[1,"centered"],[1,"col","mt-1"],["src","../../../assets/logo_trans_230x120.png","alt","image"],[1,"subtitle","fonted"],[1,"row"],[1,"col-md-12"],["novalidate","",1,"col-md-6",3,"formGroup"],["color","danger",4,"ngIf"],[1,"form-group","col","mt-2","text-center"],["formControlName","username","type","text",1,"form-control",3,"placeholder","ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"form-group","col","mt-3","text-center"],["formControlName","password","type","password",1,"form-control",3,"placeholder","ngClass"],[1,"d-flex","w-100","justify-content-between"],[1,"form-group","col","mt-1","mr-2"],[1,"col-","mr-3"],["type","submit",1,"btn","btn-dark",3,"click"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"form-group","col","mr-2"],["type","submit",1,"btn","btn-danger",3,"click"],[1,"col"],[1,"text-center"],[1,"row","text-center"],["name","logo-instagram","item-start","",1,"ig"],["item-end","",1,"iconsText","ml-2"],[1,"col-md-12","mt-1"],["name","logo-facebook","item-start","",1,"fb"],["name","logo-twitter","item-start","",1,"tw"],["color","danger"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(n,t){1&n&&(g.Nb(0,"ion-header"),g.Nb(1,"ion-toolbar"),g.Nb(2,"ion-buttons",0),g.Lb(3,"ion-menu-button"),g.Mb(),g.Nb(4,"ion-title"),g.Nb(5,"ion-label"),g.pc(6,"Cyber(v2.4)"),g.Mb(),g.Mb(),g.Nb(7,"ion-buttons",1),g.Nb(8,"ion-icon",2),g.Vb("click",function(n){return t.openLanguagePopover(n)}),g.Mb(),g.Mb(),g.Mb(),g.Mb(),g.oc(9,x,56,29,"ion-content",3)),2&n&&(g.zb(9),g.dc("ngIf",!t.isLoggedIn))},directives:[c.l,c.B,c.e,c.s,c.A,c.p,c.m,o.l,c.i,c.z,i.o,i.i,i.d,c.n,c.K,i.h,i.c,o.j,c.o],pipes:[m.c],styles:["ion-content[_ngcontent-%COMP%]{--ion-background-color:#e9e9e9}.centered[_ngcontent-%COMP%]{text-align:center}.text[_ngcontent-%COMP%]{font-size:2.4em;font-family:Open Sans Light}ion-toolbar[_ngcontent-%COMP%]{--ion-background-color:#eee}.fonted[_ngcontent-%COMP%]{font-family:Open Sans Light}ion-title[_ngcontent-%COMP%]{text-align:center}#toolbarIcon[_ngcontent-%COMP%]{font-size:1.7em}.subtitle[_ngcontent-%COMP%]{font-size:1em}ion-item[_ngcontent-%COMP%]{--background:none;opacity:1;--border-width:0;--inner-border-width:0}.iconsText[_ngcontent-%COMP%]{font-family:Open Sans Light;font-size:1em}.ig[_ngcontent-%COMP%]{display:inline-block;width:35px;height:35px;text-align:center;border-radius:80px;color:#fff;font-size:220px;line-height:250px;vertical-align:middle;background:#d6249f;background:radial-gradient(circle at 30% 107%,#fdf497 0,#fdf497 5%,#fd5949 45%,#d6249f 60%,#285aeb 90%);box-shadow:0 3px 10px rgba(0,0,0,.25)}.fb[_ngcontent-%COMP%]{color:#3b5998}.fb[_ngcontent-%COMP%], .tw[_ngcontent-%COMP%]{font-size:200%}.tw[_ngcontent-%COMP%]{color:#12b8fa}ion-input[_ngcontent-%COMP%]{border-radius:20px;border:3px solid #eee}.backIcon[_ngcontent-%COMP%]{font-size:150%}.back[_ngcontent-%COMP%], .backIcon[_ngcontent-%COMP%]{color:#ffae00}"]}),n})()}];let P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.Ib({type:n}),n.\u0275inj=g.Hb({imports:[[b.h.forChild(I)],b.h]}),n})();var O=e("mqiu"),k=e("QhVT");function z(n){return new O.a(n)}let L=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.Ib({type:n}),n.\u0275inj=g.Hb({imports:[[r.b,o.b,i.l,i.e,c.C,P,m.b.forChild({loader:{provide:m.a,useFactory:z,deps:[r.a]}}),k.LanguagePopoverPageModule]]}),n})()}}]);